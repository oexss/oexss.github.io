<!doctype html><html itemscope itemtype=http://schema.org/WebPage dir=ltr lang=zh-cn class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=canonical type=text/html href=https://t.is-local.org/zh-cn/docs/><link rel=alternate type=application/rss+xml href=https://t.is-local.org/zh-cn/docs/index.xml><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>欢迎来到Docsy | Tommas's Blog</title>
<meta name=description content="Powerful, extensible, and feature-packed frontend toolkit. Build and customize with Sass, utilize prebuilt grid system and components, and bring projects to life with powerful JavaScript plugins."><meta property="og:url" content="https://t.is-local.org/zh-cn/docs/"><meta property="og:site_name" content="Tommas's Blog"><meta property="og:title" content="欢迎来到Docsy"><meta property="og:description" content="欢迎使用Docsy主题用户指南！本指南向您展示如何开始使用Docsy创建技术文档网站，包括网站定制以及如何使用Docsy的块和模板。 什么是D"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="website"><meta itemprop=name content="欢迎来到Docsy"><meta itemprop=description content="欢迎使用Docsy主题用户指南！本指南向您展示如何开始使用Docsy创建技术文档网站，包括网站定制以及如何使用Docsy的块和模板。 什么是D"><meta itemprop=datePublished content="2023-05-22T16:56:52+08:00"><meta itemprop=dateModified content="2024-07-06T00:17:24+08:00"><meta itemprop=wordCount content="1343"><meta name=twitter:card content="summary"><meta name=twitter:title content="欢迎来到Docsy"><meta name=twitter:description content="欢迎使用Docsy主题用户指南！本指南向您展示如何开始使用Docsy创建技术文档网站，包括网站定制以及如何使用Docsy的块和模板。 什么是D"><link rel=preload href=/scss/main.min.bb3e104fb3665e7853bfed401807fa7ffbe17af68f6b9ed433536cfa9af218a7.css as=style><link href=/scss/main.min.bb3e104fb3665e7853bfed401807fa7ffbe17af68f6b9ed433536cfa9af218a7.css rel=stylesheet><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script><script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script><link rel=stylesheet href=/css/prism.css></head><body class=td-section><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/zh-cn/><span class="navbar-brand__logo navbar-logo"><svg t="1720198081789" class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" p-id="5607" width="200" height="200" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M512 85.333333A362.666667 362.666667.0 01874.666667 448C874.666667 725.333333 640 960 512 960S149.333333 725.333333 149.333333 448A362.666667 362.666667.0 01512 85.333333zM746.666667 512A192 192 0 00555.733333 724.266667a192 192 0 00211.2-211.2A193.706667 193.706667.0 00746.666667 512zm-469.333334.0c-6.826667.0-13.610667.341333-20.266666 1.066667a192 192 0 00211.2 211.2A192 192 0 00277.333333 512z" fill="#fff" p-id="5608"/></svg></span><span class=navbar-brand__name>Tommas's Blog</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class=nav-link href=/zh-cn/about/><span>关于</span></a></li><li class=nav-item><a class="nav-link active" href=/zh-cn/docs/><span>文档</span></a></li><li class=nav-item><a class=nav-link href=/zh-cn/blog/><span>博客</span></a></li><li class=nav-item><a class=nav-link href=/zh-cn/community/><span>社区</span></a></li><li class="nav-item dropdown d-none d-lg-block"><div class=dropdown><a class="nav-link dropdown-toggle" href=# role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>中文</a><ul class=dropdown-menu><li><a class=dropdown-item href=/en/docs/>English</a></li></ul></div></li><li class="td-light-dark-menu nav-item dropdown"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5.0 010 .708l-7 7a.5.5.0 01-.708.0l-3.5-3.5a.5.5.0 11.708-.708L6.5 10.293l6.646-6.647a.5.5.0 01.708.0z"/></symbol><symbol id="circle-half" viewBox="0 0 16 16"><path d="M8 15A7 7 0 108 1v14zm0 1A8 8 0 118 0a8 8 0 010 16z"/></symbol><symbol id="moon-stars-fill" viewBox="0 0 16 16"><path d="M6 .278a.768.768.0 01.08.858 7.208 7.208.0 00-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527.0 1.04-.055 1.533-.16a.787.787.0 01.81.316.733.733.0 01-.031.893A8.349 8.349.0 018.344 16C3.734 16 0 12.286.0 7.71.0 4.266 2.114 1.312 5.124.06A.752.752.0 016 .278z"/><path d="M10.794 3.148a.217.217.0 01.412.0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217.0 010 .412l-1.162.387A1.734 1.734.0 0011.593 7.69l-.387 1.162a.217.217.0 01-.412.0l-.387-1.162A1.734 1.734.0 009.31 6.593l-1.162-.387a.217.217.0 010-.412l1.162-.387a1.734 1.734.0 001.097-1.097l.387-1.162zM13.863.099a.145.145.0 01.274.0l.258.774c.115.346.386.617.732.732l.774.258a.145.145.0 010 .274l-.774.258a1.156 1.156.0 00-.732.732l-.258.774a.145.145.0 01-.274.0l-.258-.774a1.156 1.156.0 00-.732-.732l-.774-.258a.145.145.0 010-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/></symbol><symbol id="sun-fill" viewBox="0 0 16 16"><path d="M8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 0zm0 13a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 13zm8-5a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2a.5.5.0 01.5.5zM3 8a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2A.5.5.0 013 8zm10.657-5.657a.5.5.0 010 .707l-1.414 1.415a.5.5.0 11-.707-.708l1.414-1.414a.5.5.0 01.707.0zm-9.193 9.193a.5.5.0 010 .707L3.05 13.657a.5.5.0 01-.707-.707l1.414-1.414a.5.5.0 01.707.0zm9.193 2.121a.5.5.0 01-.707.0l-1.414-1.414a.5.5.0 01.707-.707l1.414 1.414a.5.5.0 010 .707zM4.464 4.465a.5.5.0 01-.707.0L2.343 3.05a.5.5.0 11.707-.707l1.414 1.414a.5.5.0 010 .708z"/></symbol></svg>
<button class="btn btn-link nav-link dropdown-toggle d-flex align-items-center" id=bd-theme type=button aria-expanded=false data-bs-toggle=dropdown data-bs-display=static aria-label="Toggle theme (auto)"><svg class="bi my-1 theme-icon-active"><use href="#circle-half"/></svg></button><ul class="dropdown-menu dropdown-menu-end" aria-labelledby=bd-theme-text><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=light aria-pressed=false>
<svg class="bi me-2 opacity-50"><use href="#sun-fill"/></svg>
Light<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=dark aria-pressed=false>
<svg class="bi me-2 opacity-50"><use href="#moon-stars-fill"/></svg>
Dark<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center active" data-bs-theme-value=auto aria-pressed=true>
<svg class="bi me-2 opacity-50"><use href="#circle-half"/></svg>
Auto<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li></ul></li></ul></div><div class="d-none d-lg-block"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder=站内搜索… aria-label=站内搜索… autocomplete=off data-offline-search-index-json-src=/offline-search-index.20a3f8d54c2c39e8b56c1e2fe6e96918.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>这是本节的多页打印视图。
<a href=# onclick="return print(),!1">点击此处打印</a>.</p><p><a href=/zh-cn/docs/>返回本页常规视图</a>.</p></div><h1 class=title>欢迎来到Docsy</h1><ul><li>1: <a href=#pg-b49721ea06dadee23f06689867955719>入门指南</a></li><ul><li>1.1: <a href=#pg-0265154bc48fb3e88cfd52bdacbc4177>将Docsy作为Hugo模块使用</a></li><ul><li>1.1.1: <a href=#pg-b4d6288661e98d09bd52ac9dbe400ec3>开始之前</a></li><li>1.1.2: <a href=#pg-246d568273615b724e63e17de537f861>创建新站点：从预设的站点开始</a></li><li>1.1.3: <a href=#pg-bf5e433da64b6308f9f0a3a9c95a1d1c>创建新站点：从头开始创建新站点</a></li></ul><li>1.2: <a href=#pg-55f94868700cbc05df2ff30817caa69d>其他设置选项</a></li><li>1.3: <a href=#pg-18ca7a612dd95c6452c94db7cc5f7333>在 Docker 容器中部署 Docsy</a></li><li>1.4: <a href=#pg-fa6911b5718f1afca68620dc3deca8c8>基本站点配置</a></li><li>1.5: <a href=#pg-b9de64f504609e79da1988b41e06549a>已知问题</a></li></ul><li>2: <a href=#pg-48d76af26bdc4fc2c5aa08ce76b029b3>内容和自定义</a></li><ul><li>2.1: <a href=#pg-84a5af3024194c6f4dcb46a0e289f751>添加内容</a></li><li>2.2: <a href=#pg-53157a70b4db311e46eacf5b7c7cf0c2>外观与感受</a></li><li>2.3: <a href=#pg-50a6beabbb3d2a3c7a9bca4ec87eca43>导航和搜索</a></li><li>2.4: <a href=#pg-cc12c5890f520021fd55cb64466da1c9>文档版本控制</a></li><li>2.5: <a href=#pg-9d693ae931b0fc63143985df75c9c5c2>Docsy简码</a></li><li>2.6: <a href=#pg-b170390955ad5d57a161f55c8a978960>Logo和图片</a></li><li>2.7: <a href=#pg-d8483cb4cda9bb0618a8f87fc3602f0c>打印支持</a></li><li>2.8: <a href=#pg-4daa29348e76dac1c71ed41bfd67d58e>分析、用户反馈和SEO</a></li><li>2.9: <a href=#pg-18f03df0932b0815400e182f48ebfdec>代码库链接</a></li><li>2.10: <a href=#pg-a5c4e4ca066d558258b5c6d3b2ebd5f5>分类支持</a></li><li>2.11: <a href=#pg-1e805606666d2b0ed8f8c934469e6fb8>图表和公式</a></li></ul><li>3: <a href=#pg-f9bb5b804d0f5d24b86d2c06ef3d800c>多语言支持</a></li><ul></ul><li>4: <a href=#pg-6f5c3158f2a17ed0459c852e8457d1c9>预览和部署</a></li><ul></ul><li>5: <a href=#pg-98b060040bea7effbd2187739f2e2c68>更新 Docsy</a></li><ul><li>5.1: <a href=#pg-d6962c8e1e29f3502a7eecd5544bdbdd>更新您的 Docsy Hugo 模块</a></li><li>5.2: <a href=#pg-ca3f90be4f983da82743bfe6da901b26>不使用 Hugo 模块更新 Docsy</a></li><li>5.3: <a href=#pg-c06d704bcf40773e7d3a3d2cb479663a>迁移到Hugo模块</a></li></ul><li>6: <a href=#pg-0096f7c90e3d5b0464acc9a8e5b5d27e>最佳实践</a></li><ul><li>6.1: <a href=#pg-a63365ab2e32fec26dfc4acd9cf36f1f>Hugo 内容提示</a></li><li>6.2: <a href=#pg-ccdacf579bc71142335efc6c99d8a8c6>组织你的内容</a></li></ul><li>7: <a href=#pg-a9bd77fc51277439bcf597eff30a8983>贡献指南</a></li><ul></ul></ul><div class=content><p>欢迎使用Docsy主题用户指南！本指南向您展示如何开始使用Docsy创建技术文档网站，包括网站定制以及如何使用Docsy的块和模板。</p><h2 id=什么是docsy>什么是Docsy？<a class=td-heading-self-link href=#%e4%bb%80%e4%b9%88%e6%98%afdocsy aria-label="Heading self-link"></a></h2><p>Docsy是[雨果]的主题(<a href=https://gohugo.io/>https://gohugo.io/</a>)静态网站生成器，专门为技术文档集设计，并内置了许多最佳实践。使用Docsy可以快速启动和运行一个可工作且可靠的文档网站，然后重新关注用户的精彩内容。<a href=https://t.is-local.org/zh-cn//about/>了解更多关于Docsy的信息</a>.</p><p>除了主题本身，我们还提供了一个<a href=https://github.com/google/docsy-example>示例网站</a>它使用了许多Docsy功能，并为大型技术文档集提供了一个有用的骨架站点结构（并提供了放入内容的建议！）。你可以复制整个网站并为自己的项目编辑它，或者只是浏览网站及其来源，看看Docsy能做些什么。你目前正在阅读的网站也使用Docsy，这是一个较小的Docsy文档集的有用示例：如果它比“大”示例更适合你的需求，可以随意复制或借用它。</p><p>Docsy本身并不提供：</p><p>-<strong>源代码托管和管理</strong>：我们的主题和网站源代码文件位于[GitHub]上(<a href=https://github.com/>https://github.com/</a>)，这是大多数项目中最简单的方法。但是，您也可以将项目文件保存在[GitLab]中(<a href=https://about.gitlab.com/>https://about.gitlab.com/</a>)，<a href=https://bitbucket.org/product>BitBucket</a>、本地或任何您喜欢的地方。请注意，源文件所在的位置可能会影响您可以使用的Docsy功能（例如让用户提交文档问题）和站点部署选项。</p><p>-<strong>站点部署</strong>：您可以在[预览和部署]中找到有关部署选项的信息(<a href=https://t.is-local.org/zh-cn//docs/deployment/)>https://t.is-local.org/zh-cn//docs/deployment/)</a>. 此网站使用<a href=https://www.netlify.com/>Netlify</a>.</p><p>Docsy实际上也不会生成网站的HTML文件：这是Hugo的工作！Hugo将您的Markdown或HTML文档源文件和Docsy的主题文件构建到一个静态站点中进行部署。您可以在[Hugo文档]中了解更多关于Hugo及其工作原理的信息(<a href=https://gohugo.io/documentation/)>https://gohugo.io/documentation/)</a>.</p><h2 id=docsy适合我吗>Docsy适合我吗？<a class=td-heading-self-link href=#docsy%e9%80%82%e5%90%88%e6%88%91%e5%90%97 aria-label="Heading self-link"></a></h2><p>Docsy对于包含20多页文档和/或多种类型文档和页面的中大型技术文档集特别有用：教程、参考文档、博客文章、社区页面等等。</p><p>如果您有一个较小的项目，只有几页文档，因此需要更简单的导航，那么Docsy可能对您来说是一个过于沉重的解决方案。相反，请考虑：</p><p>-一个更简单的Hugo或Jekyll主题：在GitHub Pages的[内置的Jekyll选项]中找到可用的内容(<a href=https://pages.github.com/themes/>https://pages.github.com/themes/</a>)和<a href=https://themes.gohugo.io/>雨果主题画廊</a>.</p><p>-一个好的自述文件，告诉用户你的项目做什么，并链接到一些例子。</p><p>如果您有一个非常大的文档项目，我们的示例网站结构可能也不够，尽管您仍然可以使用我们的主题，可能需要更大的自定义。</p><p>如果你想使用Docsy的布局，但更喜欢使用Jekyll，<a href=https://github.com/vsoch>vsoch</a>已经创建了<a href=https://github.com/vsoch/docsy-jekyll>Docsy Jekyll端口</a>其中包括Docsy的许多功能（尽管这是一个单独的项目，不会随Docsy一起自动更新）。</p><h2 id=准备好开始了吗>准备好开始了吗？<a class=td-heading-self-link href=#%e5%87%86%e5%a4%87%e5%a5%bd%e5%bc%80%e5%a7%8b%e4%ba%86%e5%90%97 aria-label="Heading self-link"></a></h2><p>在[入门]中了解如何构建和服务您的第一个网站(<a href=https://t.is-local.org/zh-cn//docs/get-started/)>https://t.is-local.org/zh-cn//docs/get-started/)</a>. 或者访问<a href=https://example.docsy.dev/>示例网站</a>以及<a href=https://github.com/google/docsy-example>其回购</a>开始探索吧！</p></div></div><div class=td-content style=page-break-before:always><h1 id=pg-b49721ea06dadee23f06689867955719>1 - 入门指南</h1><p>​ 学习如何开始使用Docsy，包括安装和使用Docsy主题的可用选项。</p><p>​ 正如我们在介绍中看到的，Docsy是一个<a href=https://gohugo.io/>Hugo</a>主题，这意味着如果您想使用Docsy，您需要设置您的站点源，以便Hugo静态站点生成器可以在构建站点时找到并使用Docsy主题文件。最简单的方法是复制和编辑我们的示例站点，尽管我们也提供了将Docsy主题手动添加到新站点或现有站点的说明。</p><p>​ 如果您想在本地构建和测试您的站点，您还需要能够运行Hugo本身，要么通过安装它和任何其他所需依赖项，要么使用我们提供的Docker容器。</p><p>本页面描述了Docsy的安装选项，并帮助您选择适当的设置指南以开始使用。</p><h2 id=安装选项>安装选项<a class=td-heading-self-link href=#%e5%ae%89%e8%a3%85%e9%80%89%e9%a1%b9 aria-label="Heading self-link"></a></h2><p>​ Hugo提供了多种使用主题的选项，Docsy支持所有这些选项。</p><ul><li>将主题添加为Hugo模块：<a href=https://gohugo.io/hugo-modules/>Hugo模块</a>是使用Hugo主题的最简单和最新的方式。Hugo使用模块机制从主Docsy仓库拉取主题文件，您可以选择版本，并且在您的站点中保持主题更新非常容易。我们的<a href=https://github.com/google/docsy-example>示例站点</a>使用Docsy作为Hugo模块。</li><li>将主题添加为Git子模块：将主题作为<a href=https://git-scm.com/book/en/v2/Git-Tools-Submodules>Git子模块</a>添加也可以让Hugo使用主题文件，尽管比Hugo模块方法更难维护。这是Docsy示例站点旧版本中使用的方法，现在仍然受支持。</li><li>克隆主题文件：如果您不想让Hugo从外部仓库获取主题文件（例如，如果您想直接自定义和维护主题的副本，或者您的部署选择需要您在仓库中包含主题的副本），您可以直接将文件克隆到您的站点源中。</li></ul><h2 id=迁移和向后兼容性>迁移和向后兼容性<a class=td-heading-self-link href=#%e8%bf%81%e7%a7%bb%e5%92%8c%e5%90%91%e5%90%8e%e5%85%bc%e5%ae%b9%e6%80%a7 aria-label="Heading self-link"></a></h2><p>​ 如果您有一个使用Docsy作为Git子模块的现有站点，并希望将其更新为使用Hugo模块，请遵循我们的<a href=https://t.is-local.org/zh-cn/docs/updating/convert-site-to-module/>迁移指南</a>。如果您还没有准备好迁移，不要担心！您的站点将继续像往常一样工作。</p><h2 id=设置指南>设置指南<a class=td-heading-self-link href=#%e8%ae%be%e7%bd%ae%e6%8c%87%e5%8d%97 aria-label="Heading self-link"></a></h2><p>​ 按照您选择的方法的设置指南。如果您是Docsy的新手，并不确定要按照哪个指南，我们建议按照"将Docsy作为Hugo模块使用"指南，这是一种简单且易于维护的选择。</p><hr><h5 id=将docsy作为hugo模块使用--httpstis-localorgzh-cndocsget-starteddocsy-as-module><a href=https://t.is-local.org/zh-cn/docs/get-started/docsy-as-module/>将Docsy作为Hugo模块使用 </a><a class=td-heading-self-link href=#%e5%b0%86docsy%e4%bd%9c%e4%b8%bahugo%e6%a8%a1%e5%9d%97%e4%bd%bf%e7%94%a8--httpstis-localorgzh-cndocsget-starteddocsy-as-module aria-label="Heading self-link"></a></h5><p>​ 学习如何使用主题作为Hugo模块来开始使用Docsy。</p><h5 id=其他设置选项-httpstis-localorgzh-cndocsget-startedother-options><a href=https://t.is-local.org/zh-cn/docs/get-started/other-options/>其他设置选项 </a><a class=td-heading-self-link href=#%e5%85%b6%e4%bb%96%e8%ae%be%e7%bd%ae%e9%80%89%e9%a1%b9-httpstis-localorgzh-cndocsget-startedother-options aria-label="Heading self-link"></a></h5><p>​ 使用Git或NPM创建一个新的Docsy站点。</p><h5 id=在docker容器中部署docsy-httpstis-localorgzh-cndocsget-startedquickstart-docker><a href=https://t.is-local.org/zh-cn/docs/get-started/quickstart-docker/>在Docker容器中部署Docsy </a><a class=td-heading-self-link href=#%e5%9c%a8docker%e5%ae%b9%e5%99%a8%e4%b8%ad%e9%83%a8%e7%bd%b2docsy-httpstis-localorgzh-cndocsget-startedquickstart-docker aria-label="Heading self-link"></a></h5><p>​ 有关如何使用 Docker 设置和运行本地 Docsy 站点的说明。</p><h5 id=基本站点配置-httpstis-localorgzh-cndocsget-startedbasic-configuration><a href=https://t.is-local.org/zh-cn/docs/get-started/basic-configuration/>基本站点配置 </a><a class=td-heading-self-link href=#%e5%9f%ba%e6%9c%ac%e7%ab%99%e7%82%b9%e9%85%8d%e7%bd%ae-httpstis-localorgzh-cndocsget-startedbasic-configuration aria-label="Heading self-link"></a></h5><p>​ 新的 Docsy 站点的基本配置。</p><h5 id=已知问题-httpstis-localorgzh-cndocsget-startedknown_issues><a href=https://t.is-local.org/zh-cn/docs/get-started/known_issues/>已知问题 </a><a class=td-heading-self-link href=#%e5%b7%b2%e7%9f%a5%e9%97%ae%e9%a2%98-httpstis-localorgzh-cndocsget-startedknown_issues aria-label="Heading self-link"></a></h5><p>​ 安装 Docsy 主题时已知的问题。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-0265154bc48fb3e88cfd52bdacbc4177>1.1 - 将Docsy作为Hugo模块使用</h1><p>​ 学习如何通过将本主题作为 Hugo 模块使用来开始使用 Docsy。</p><p>​ 在构建站点时，<a href=https://gohugo.io/hugo-modules/>Hugo 模块</a>是使用 Hugo 主题（如 Docsy）的最简单和最新的方法。Hugo 使用模块机制从您选择的版本中拉取主题文件，使得在站点中轻松地保持主题最新。我们的示例站点使用 Docsy 作为 Hugo 模块。</p><p>​ 要了解其他设置方法，请参阅我们的<a href=https://t.is-local.org/zh-cn/docs/get-started/>入门</a>概述。如果您想将现有的 Docsy 站点迁移到使用 Hugo 模块，请查看我们的<a href=https://t.is-local.org/zh-cn/docs/updating/convert-site-to-module/>迁移指南</a>。</p><h2 id=使用-hugo-模块的设置选项>使用 Hugo 模块的设置选项<a class=td-heading-self-link href=#%e4%bd%bf%e7%94%a8-hugo-%e6%a8%a1%e5%9d%97%e7%9a%84%e8%ae%be%e7%bd%ae%e9%80%89%e9%a1%b9 aria-label="Heading self-link"></a></h2><p>​ 要将 Docsy 作为 Hugo 模块使用，您有以下几个选项：</p><ul><li>复制并编辑 <a href=https://github.com/google/docsy-example>Docsy 示例站点</a>的源代码。这种方法为您的站点提供了一个骨架结构，包括顶级和文档章节以及可根据需要修改的模板。示例站点使用 Docsy 作为 Hugo 模块。</li><li>使用 Docsy 主题构建自己的站点。在创建或更新站点时像任何其他 Hugo 主题一样指定 <a href=https://github.com/google/docsy>Docsy 主题</a>。使用此选项，您将获得 Docsy 的外观和感觉、导航和其他功能，但需要指定自己的站点结构。</li></ul><p>​ 如果您是初学者，我们建议您通过复制我们的示例站点来开始。如果您已经熟悉 Hugo 或想要非常不同的站点结构，您可以按照我们的指南从头开始创建站点，这样您就可以在较高的实现努力成本下获得最大的灵活性。在两种情况下，您需要遵循我们的先决条件指南，以确保您已安装了 Hugo 和所有必要的依赖项。</p><hr><h5 id=开始之前-httpstis-localorgzh-cndocsget-starteddocsy-as-moduleinstallation-prerequisites><a href=https://t.is-local.org/zh-cn/docs/get-started/docsy-as-module/installation-prerequisites/>开始之前 </a><a class=td-heading-self-link href=#%e5%bc%80%e5%a7%8b%e4%b9%8b%e5%89%8d-httpstis-localorgzh-cndocsget-starteddocsy-as-moduleinstallation-prerequisites aria-label="Heading self-link"></a></h5><p>​ 使用 Docsy 作为 Hugo 模块构建站点的先决条件。</p><h5 id=创建新站点从预设的站点开始-httpstis-localorgzh-cndocsget-starteddocsy-as-moduleexample-site-as-template><a href=https://t.is-local.org/zh-cn/docs/get-started/docsy-as-module/example-site-as-template/>创建新站点：从预设的站点开始 </a><a class=td-heading-self-link href=#%e5%88%9b%e5%bb%ba%e6%96%b0%e7%ab%99%e7%82%b9%e4%bb%8e%e9%a2%84%e8%ae%be%e7%9a%84%e7%ab%99%e7%82%b9%e5%bc%80%e5%a7%8b-httpstis-localorgzh-cndocsget-starteddocsy-as-moduleexample-site-as-template aria-label="Heading self-link"></a></h5><p>​ 通过使用 Docsy 示例站点的克隆作为起点，创建一个新的 Hugo 站点。</p><h5 id=创建新站点从头开始创建新站点-httpstis-localorgzh-cndocsget-starteddocsy-as-modulestart-from-scratch><a href=https://t.is-local.org/zh-cn/docs/get-started/docsy-as-module/start-from-scratch/>创建新站点：从头开始创建新站点 </a><a class=td-heading-self-link href=#%e5%88%9b%e5%bb%ba%e6%96%b0%e7%ab%99%e7%82%b9%e4%bb%8e%e5%a4%b4%e5%bc%80%e5%a7%8b%e5%88%9b%e5%bb%ba%e6%96%b0%e7%ab%99%e7%82%b9-httpstis-localorgzh-cndocsget-starteddocsy-as-modulestart-from-scratch aria-label="Heading self-link"></a></h5><p>​ 使用 Docsy 作为 Hugo 模块，从头开始创建一个新的 Hugo 站点。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-b4d6288661e98d09bd52ac9dbe400ec3>1.1.1 - 开始之前</h1><p>​ 使用 Docsy 作为 Hugo 模块构建站点的先决条件。</p><p>​ 本页面描述了构建使用 Docsy 作为 Hugo 模块的站点的先决条件。</p><h2 id=安装-hugo>安装 Hugo<a class=td-heading-self-link href=#%e5%ae%89%e8%a3%85-hugo aria-label="Heading self-link"></a></h2><p>​ 为了本地构建和预览使用 Docsy 的站点（比如这个示例站点），需要安装<a href=https://github.com/gohugoio/hugo/releases>最新的扩展版 Hugo</a>（我们推荐使用版本 0.73.0 或更高版本）。如果从发布页面进行安装，请确保获取的是支持 <a href=https://sass-lang.com/documentation/file.SCSS_FOR_SASS_USERS.html>SCSS</a>的扩展版（<code>extended</code>） Hugo；你可能需要滚动到发布列表的末尾才能找到它。</p><p>​ 有关全面的 Hugo 文档，请参阅 <a href=https://gohugo.io/>gohugo.io</a>。</p><h3 id=在-linux-上>在 Linux 上<a class=td-heading-self-link href=#%e5%9c%a8-linux-%e4%b8%8a aria-label="Heading self-link"></a></h3><p>​ 谨慎使用 <code>sudo apt-get install hugo</code> 命令进行安装，因为它<a href=https://gohugo.io/getting-started/installing/#debian-and-ubuntu>不能为所有 Debian/Ubuntu 版本</a>提供扩展版 Hugo，也可能不是最新的版本。</p><p>​ 如果你已经安装了 Hugo，请检查其版本：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>hugo version
</span></span></code></pre></div><p>​ 如果结果是 <code>v0.73</code> 或更早版本，或者看不到 <code>Extended</code> 字样，那么你需要安装最新版本。在 <a href=https://gohugo.io/getting-started/installing/#linux>Install Hugo</a> 页面中，可以查看完整的 Linux 安装选项。以下是从发布页面安装 Hugo 的方法：</p><ol><li><p>前往 <a href=https://github.com/gohugoio/hugo/releases>Hugo releases</a> 页面。</p></li><li><p>在最新版本中，向下滚动直到找到扩展版 Hugo 的列表。</p></li><li><p>下载最新的扩展版 Hugo（<code>hugo_extended_0.1XX_Linux-64bit.tar.gz</code>）。</p></li><li><p>创建一个新目录：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir hugo
</span></span></code></pre></div></li><li><p>将下载的文件解压到 <code>hugo</code> 目录中。</p></li><li><p>切换到新的目录：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> hugo
</span></span></code></pre></div></li><li><p>安装 Hugo：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo install hugo /usr/bin
</span></span></code></pre></div></li></ol><h3 id=在-macos-上>在 macOS 上<a class=td-heading-self-link href=#%e5%9c%a8-macos-%e4%b8%8a aria-label="Heading self-link"></a></h3><p>​ 使用 <a href=https://gohugo.io/getting-started/installing/#homebrew-macos>Brew</a>安装 Hugo。</p><h3 id=作为-npm-模块>作为 <code>npm</code> 模块<a class=td-heading-self-link href=#%e4%bd%9c%e4%b8%ba-npm-%e6%a8%a1%e5%9d%97 aria-label="Heading self-link"></a></h3><p>​ 你可以使用 <code>hugo-bin</code> 将 Hugo 安装为 <code>npm</code> 模块。这将把 <code>hugo-bin</code> 添加到你的 <code>node_modules</code> 文件夹中，并将依赖项添加到 <code>package.json</code> 文件中。要安装 Hugo 的扩展版：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>npm install hugo-extended --save-dev
</span></span></code></pre></div><p>​ 有关用法详细信息，请参阅<a href=https://www.npmjs.com/package/hugo-bin>hugo-bin文档</a>。</p><h2 id=安装go语言>安装Go语言<a class=td-heading-self-link href=#%e5%ae%89%e8%a3%85go%e8%af%ad%e8%a8%80 aria-label="Heading self-link"></a></h2><p>​ Hugo的模块管理命令需要在系统上安装Go编程语言。检查<code>go</code>是否已安装：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span><span style=color:#8f5902>$</span> go version
</span></span><span style=display:flex><span><span style=color:#000;font-style:italic>go version go1.19.2 windows/amd64
</span></span></span></code></pre></div><p>​ 确保您正在使用版本1.12或更高版本。</p><p>​ 如果<code>go</code>语言尚未安装在您的系统上，或者您需要升级它，请前往Go站点的<a href=https://go.dev/dl/>下载区域</a>，选择适合您系统架构的安装程序并执行它。之后，检查是否成功安装。</p><h2 id=安装git-vcs客户端>安装Git VCS客户端<a class=td-heading-self-link href=#%e5%ae%89%e8%a3%85git-vcs%e5%ae%a2%e6%88%b7%e7%ab%af aria-label="Heading self-link"></a></h2><p>​ Hugo的模块管理命令需要在系统上安装<code>git</code>客户端。检查您的系统上是否已存在<code>git</code>：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git version
</span></span><span style=display:flex><span>git version 2.39.1
</span></span></code></pre></div><p>​ 如果您的系统上尚未安装<code>git</code>客户端，可以前往<a href=https://git-scm.com/>Git站点</a>，下载适合您系统架构的安装程序并执行它。之后，检查是否成功安装。</p><h2 id=安装postcss>安装PostCSS<a class=td-heading-self-link href=#%e5%ae%89%e8%a3%85postcss aria-label="Heading self-link"></a></h2><p>​ 要构建或更新站点的CSS资源，您还需要<a href=https://postcss.org/>PostCSS</a>来创建最终的assets。如果您需要安装它，则必须在您的计算机上安装最新版本的<a href=https://nodejs.org/en/>NodeJS</a>，以便您可以使用<code>npm</code>，即Node包管理器。默认情况下，<code>npm</code>会在您运行<code>npm install</code>的目录下安装工具：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>npm install -D autoprefixer
</span></span><span style=display:flex><span>npm install -D postcss-cli
</span></span></code></pre></div><p>​ 从<a href=https://github.com/postcss/postcss-cli/blob/master/CHANGELOG.md>postcss-cli的8版本</a>开始，您还必须单独安装<code>postcss</code>：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>npm install -D postcss
</span></span></code></pre></div><p>​ 请注意，如果<a href=https://flaviocopes.com/npm-packages-local-global/>全局</a>安装了<code>PostCSS</code>的版本大于5.0.1，则不会加载<code>autoprefixer</code>，您必须使用本地安装。</p><h2 id=安装升级nodejs>安装/升级Node.js<a class=td-heading-self-link href=#%e5%ae%89%e8%a3%85%e5%8d%87%e7%ba%a7nodejs aria-label="Heading self-link"></a></h2><p>​ 为了确保您可以正确构建站点而不仅仅是执行<code>hugo server</code>，您必须安装<a href=https://nodejs.org/en/about/releases/>最新的长期支持（LTS）版本的Node.js</a>。如果您没有最新的LTS版本，则可能会看到以下错误之一：</p><pre tabindex=0><code>Error: Error building site: POSTCSS: failed to transform &#34;scss/main.css&#34; (text/css): Unexpected identifier
#OR
/home/user/repos/my-new-site/themes/docsy/node_modules/hugo-extended/postinstall.js:1
import install from &#34;./lib/install.js&#34;;
       ^^^^^^^

SyntaxError: Unexpected identifier
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3)
</code></pre><p>​ 您可以通过运行<code>node -v</code>来检查当前的Node.js版本。如果您需要安装新版本，请参阅以下说明：</p><ul><li><p><a href=https://github.com/nodesource/distributions/blob/master/README.md#installation-instructions>基于Debian和Ubuntu的发行版</a></p><p>tl;dr:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Using Ubuntu</span>
</span></span><span style=display:flex><span>curl -fsSL https://deb.nodesource.com/setup_18.x <span style=color:#000;font-weight:700>|</span> sudo -E bash -
</span></span><span style=display:flex><span>sudo apt-get install -y nodejs
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Using Debian, as root</span>
</span></span><span style=display:flex><span>curl -fsSL https://deb.nodesource.com/setup_18.x <span style=color:#000;font-weight:700>|</span> bash -
</span></span><span style=display:flex><span>apt-get install -y nodejs
</span></span></code></pre></div></li><li><p><a href=https://github.com/nodesource/distributions/blob/master/README.md#installation-instructions-1>基于企业Linux的发行版</a></p><p>tl;dr:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># As root</span>
</span></span><span style=display:flex><span>curl -fsSL https://rpm.nodesource.com/setup_18.x <span style=color:#000;font-weight:700>|</span> bash -
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># No root privileges</span>
</span></span><span style=display:flex><span>curl -fsSL https://rpm.nodesource.com/setup_18.x <span style=color:#000;font-weight:700>|</span> sudo bash -
</span></span></code></pre></div></li></ul><h2 id=接下来呢>接下来呢？<a class=td-heading-self-link href=#%e6%8e%a5%e4%b8%8b%e6%9d%a5%e5%91%a2 aria-label="Heading self-link"></a></h2><p>​ 在安装完所有必要的前提条件之后，选择如何开始你的新Hugo站点</p><ul><li><a href=https://t.is-local.org/zh-cn/docs/get-started/docsy-as-module/example-site-as-template/>从预设的站点开始（适合初学者）</a></li><li><a href=https://t.is-local.org/zh-cn/docs/get-started/docsy-as-module/start-from-scratch/>从头开始创建站点（适合专家）</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-246d568273615b724e63e17de537f861>1.1.2 - 创建新站点：从预设的站点开始</h1><p>​ 通过使用 Docsy 示例站点的克隆作为起点来创建新的 Hugo 站点。</p><p>​ 创建新 Docsy 站点的最简单方法是使用 <a href=https://github.com/google/docsy-example>Docsy 示例站点</a>的源代码作为起点。这种方法为您的站点提供了一个骨架结构，包括顶层和文档章节以及您可以根据需要修改的模板。示例站点会自动作为 <a href=https://gohugo.io/hugo-modules/>Hugo 模块</a>引入 Docsy 主题，因此很容易<a href=https://t.is-local.org/zh-cn/docs/updating/updating-hugo-module/>保持最新状态</a>。</p><p>​ 如果您更喜欢从头开始创建站点，请按照"从头开始创建站点（Start a site from scratch）&ldquo;的说明进行操作。</p><h2 id=快速设置>快速设置<a class=td-heading-self-link href=#%e5%bf%ab%e9%80%9f%e8%ae%be%e7%bd%ae aria-label="Heading self-link"></a></h2><p>​ 在 Unix Shell 或 Windows 命令行中运行以下命令：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git clone https://github.com/google/docsy-example.git my-new-site
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span>  my-new-site
</span></span><span style=display:flex><span>hugo server
</span></span></code></pre></div><p>​ 现在，您可以在浏览器中预览 <a href=http://localhost:1313/>http://localhost:1313</a> 中的新站点。</p><h2 id=详细设置说明>详细设置说明<a class=td-heading-self-link href=#%e8%af%a6%e7%bb%86%e8%ae%be%e7%bd%ae%e8%af%b4%e6%98%8e aria-label="Heading self-link"></a></h2><h3 id=克隆-docsy-示例站点>克隆 Docsy 示例站点<a class=td-heading-self-link href=#%e5%85%8b%e9%9a%86-docsy-%e7%a4%ba%e4%be%8b%e7%ab%99%e7%82%b9 aria-label="Heading self-link"></a></h3><p>​ <a href=https://example.docsy.dev/>示例站点</a>为您构建文档站点提供了一个很好的起点，并且预先配置为自动引入 Docsy 主题作为 Hugo 模块。有两种不同的方法可以获取示例站点的本地克隆：</p><ul><li>如果您只想创建本地副本，请选择选项1。</li><li>如果您有 GitHub 帐户并希望为站点创建 GitHub 存储库，请选择选项2。</li></ul><h4 id=选项1使用命令行仅本地副本>选项1：使用命令行（仅本地副本）<a class=td-heading-self-link href=#%e9%80%89%e9%a1%b91%e4%bd%bf%e7%94%a8%e5%91%bd%e4%bb%a4%e8%a1%8c%e4%bb%85%e6%9c%ac%e5%9c%b0%e5%89%af%e6%9c%ac aria-label="Heading self-link"></a></h4><p>​ 如果您想使用除GitHub之外的远程存储库（例如<a href=https://gitlab.com/>GitLab</a>、<a href=https://bitbucket.org/>BitBucket</a>、<a href=https://aws.amazon.com/codecommit/>AWS CodeCommit</a>、<a href=https://gitea.io/>Gitea</a>），或者根本不需要远程存储库，只需直接使用<code>git clone</code>创建一个本地工作副本，将您选择的本地存储库名称（此处为<code>my-new-site</code>）作为最后一个参数即可：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git clone https://github.com/google/docsy-example.git my-new-site
</span></span></code></pre></div><h4 id=选项2使用-github-ui本地副本关联的-github-存储库>选项2：使用 GitHub UI（本地副本+关联的 GitHub 存储库）<a class=td-heading-self-link href=#%e9%80%89%e9%a1%b92%e4%bd%bf%e7%94%a8-github-ui%e6%9c%ac%e5%9c%b0%e5%89%af%e6%9c%ac%e5%85%b3%e8%81%94%e7%9a%84-github-%e5%ad%98%e5%82%a8%e5%ba%93 aria-label="Heading self-link"></a></h4><p>​ 由于Docsy示例站点存储库是<a href=https://github.blog/2019-06-06-generate-new-repositories-with-repository-templates/>模板存储库</a>，因此创建自己的远程GitHub克隆Docsy示例站点存储库非常容易：</p><ol><li><p>进入<a href=https://github.com/google/docsy-example>Docsy示例站点存储库</a>，点击<strong>Use this template</strong>。</p></li><li><p>选择新存储库的名称（例如<code>my-new-site</code>），并在<strong>Repository name</strong>字段中输入它。您还可以添加一个可选的<strong>Description</strong>。</p></li><li><p>单击<strong>Create repository from template</strong>以创建新存储库。恭喜，您刚刚创建了远程Github克隆，现在它是您自己站点的起点！</p></li><li><p>使用<code>git clone</code>创建您新创建的GitHub存储库的本地副本，并将其作为最后一个参数给出您的存储库的Web URL。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git clone https://github.com/me-at-github/my-new-site.git
</span></span></code></pre></div></li></ol><blockquote><p>注意</p><p>​ 根据您的环境，您可能需要微调<code>config.toml</code>中的<a href=https://github.com/google/docsy-example/blob/1c7f7e300c90cd690ca5be66b43fe58713bb21c9/config.toml#L221-L228>模块顶级设置</a>，例如添加代理以在下载远程模块时使用。您可以在<a href=https://gohugo.io/hugo-modules/configuration/#module-config-top-level>Hugo模块文档</a>中找到这些配置设置的详细信息。</p></blockquote><p>​ 现在，您可以对副本站点进行本地编辑并使用Hugo在本地进行测试。</p><h3 id=预览您的站点>预览您的站点<a class=td-heading-self-link href=#%e9%a2%84%e8%a7%88%e6%82%a8%e7%9a%84%e7%ab%99%e7%82%b9 aria-label="Heading self-link"></a></h3><p>​ 要在本地构建和预览站点，请切换到克隆项目的根目录并使用Hugo的<code>server</code>命令：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> my-new-site
</span></span><span style=display:flex><span>hugo server
</span></span></code></pre></div><p>​ 在浏览器中预览站点：<a href=http://localhost:1313/>http://localhost:1313</a>。由于Hugo的实时预览功能，您可以立即看到对本地存储库源文件进行更改的影响。您可以在任何时候使用<code>Ctrl + c</code>停止Hugo服务器。<a href=https://t.is-local.org/zh-cn/docs/get-started/known_issues/#macos>请参阅MacOS上的已知问题</a>。</p><h2 id=接下来呢>接下来呢？<a class=td-heading-self-link href=#%e6%8e%a5%e4%b8%8b%e6%9d%a5%e5%91%a2 aria-label="Heading self-link"></a></h2><ul><li>添加一些<a href=https://t.is-local.org/zh-cn/docs/get-started/basic-configuration/>基本配置</a></li><li><a href=https://t.is-local.org/zh-cn/docs/adding-content/>编辑现有内容并添加更多页面</a></li><li><a href=https://t.is-local.org/zh-cn/docs/adding-content/lookandfeel/>自定义您的站点</a></li><li><a href=https://t.is-local.org/zh-cn/docs/deployment/>发布您的站点</a>。</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-bf5e433da64b6308f9f0a3a9c95a1d1c>1.1.3 - 创建新站点：从头开始创建新站点</h1><p>​## 使用 Docsy 作为 Hugo 模块从头开始创建新的 Hugo 站点</p><p>​ 创建 Docsy 站点的最简单方法是<a href=https://t.is-local.org/zh-cn/docs/get-started/docsy-as-module/example-site-as-template/>复制我们的示例站点</a>。但是，如果您是经验丰富的 Hugo 用户或者我们示例站点的站点结构不符合您的需求，您可能更喜欢从头开始创建新的站点。使用此选项，您将获得 Docsy 的外观和感觉、导航和其他功能，但您需要指定自己的站点结构。</p><p>​ 这些说明仅为您的站点项目提供最小的文件结构，以便您可以逐步构建和扩展您的实际站点。第一步是将 Docsy 主题作为 <a href=https://gohugo.io/hugo-modules/>Hugo 模块</a>添加到您的站点中。如果需要，您可以轻松地从 Docsy GitHub 存储库<a href=https://t.is-local.org/zh-cn/docs/updating/>更新</a>模块到最新版本。</p><h2 id=tldr-专家快速设置>TL;DR: 专家快速设置<a class=td-heading-self-link href=#tldr-%e4%b8%93%e5%ae%b6%e5%bf%ab%e9%80%9f%e8%ae%be%e7%bd%ae aria-label="Heading self-link"></a></h2><p>​ 在您的命令提示符下运行以下命令：</p><p>CLI:</p><p>=== &ldquo;Unix shell&rdquo;</p><pre><code>```bash
hugo new site my-new-site
cd  my-new-site
hugo mod init github.com/me/my-new-site
hugo mod get github.com/google/docsy@v0.6.0
cat &gt;&gt; config.toml &lt;&lt;EOL
[module]
proxy = &quot;direct&quot;
[[module.imports]]
path = &quot;github.com/google/docsy&quot;
[[module.imports]]
path = &quot;github.com/google/docsy/dependencies&quot;
EOL
hugo server
```
</code></pre><p>=== &ldquo;Windows command line&rdquo;</p><pre><code>```bash
hugo new site my-new-site
cd  my-new-site
hugo mod init github.com/me/my-new-site
hugo mod get github.com/google/docsy@v0.6.0
(echo [module]^

proxy = &quot;direct&quot;^

[[module.imports]]^

path = &quot;github.com/google/docsy&quot;^

[[module.imports]]^

path = &quot;github.com/google/docsy/dependencies&quot;)&gt;&gt;config.toml
hugo server
```
</code></pre><p>​ 现在，您可以在浏览器中预览您的新站点，网址为 <a href=http://localhost:1313>http://localhost:1313</a>。</p><h2 id=详细设置说明>详细设置说明<a class=td-heading-self-link href=#%e8%af%a6%e7%bb%86%e8%ae%be%e7%bd%ae%e8%af%b4%e6%98%8e aria-label="Heading self-link"></a></h2><p>​ 将 <a href=https://github.com/google/docsy>Docsy 主题</a>指定为最小站点的 Hugo 模块可为您提供所有主题的好处，但您需要指定自己的站点结构。</p><h3 id=创建新的骨架项目>创建新的骨架项目<a class=td-heading-self-link href=#%e5%88%9b%e5%bb%ba%e6%96%b0%e7%9a%84%e9%aa%a8%e6%9e%b6%e9%a1%b9%e7%9b%ae aria-label="Heading self-link"></a></h3><p>​ 要创建一个新的 Hugo 站点项目，然后将 Docs 主题作为子模块添加，从您的项目根目录运行以下命令。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>hugo new site my-new-site
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span>  my-new-site
</span></span></code></pre></div><p>​ 这将创建一个最小的站点结构，包含 <code>archetypes</code>、<code>content</code>、<code>data</code>、<code>layouts</code>、<code>static</code> 和 <code>themes</code> 文件夹以及一个配置文件（默认为 <code>config.toml</code>）。</p><blockquote><p>提示</p><p>​ 在 Hugo 0.110.0 中，默认配置文件的基本文件名已更改为 <code>hugo.toml</code>。如果您使用的是 hugo 0.110 或更高版本，请考虑将 <code>config.toml</code> 重命名为 <code>hugo.toml</code>！</p></blockquote><h3 id=将-docsy-主题模块作为站点的依赖项导入>将 Docsy 主题模块作为站点的依赖项导入<a class=td-heading-self-link href=#%e5%b0%86-docsy-%e4%b8%bb%e9%a2%98%e6%a8%a1%e5%9d%97%e4%bd%9c%e4%b8%ba%e7%ab%99%e7%82%b9%e7%9a%84%e4%be%9d%e8%b5%96%e9%a1%b9%e5%af%bc%e5%85%a5 aria-label="Heading self-link"></a></h3><p>​ 只有作为 Hugo 模块的站点才能导入其他模块。要将您的站点转换为 Hugo 模块，请在新创建的站点目录中运行以下命令：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>hugo mod init github.com/me/my-new-site
</span></span></code></pre></div><p>​ 这将创建两个新文件，<code>go.mod</code> 用于模块定义，<code>go.sum</code> 用于保存模块校验和。</p><p>​ 接下来，将 Docsy 主题模块声明为站点的依赖项。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>hugo mod get github.com/google/docsy@v0.6.0
</span></span></code></pre></div><p>​ 此命令将 <code>docsy</code>主题模块添加到您的定义文件 <code>go.mod</code> 中。</p><h3 id=添加主题模块配置设置>添加主题模块配置设置<a class=td-heading-self-link href=#%e6%b7%bb%e5%8a%a0%e4%b8%bb%e9%a2%98%e6%a8%a1%e5%9d%97%e9%85%8d%e7%bd%ae%e8%ae%be%e7%bd%ae aria-label="Heading self-link"></a></h3><p>​ 在您的站点<a href=https://gohugo.io/getting-started/configuration/#configuration-file>配置文件</a>（默认：<code>config.toml</code>）的末尾添加以下片段中的设置并保存文件。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
module:
  proxy: direct
  hugoVersion:
    extended: true
    min: 0.73.0
  imports:
    - path: github.com/google/docsy
      disable: false
    - path: github.com/google/docsy/dependencies
      disable: false
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[module]
  proxy = &quot;direct&quot;
  # uncomment line below for temporary local development of module
  # replacements = &quot;github.com/google/docsy -&gt; ../../docsy&quot;
  [module.hugoVersion]
    extended = true
    min = &quot;0.73.0&quot;
  [[module.imports]]
    path = &quot;github.com/google/docsy&quot;
    disable = false
  [[module.imports]]
    path = &quot;github.com/google/docsy/dependencies&quot;
    disable = false
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;module&quot;: {
    &quot;proxy&quot;: &quot;direct&quot;,
    &quot;hugoVersion&quot;: {
      &quot;extended&quot;: true,
      &quot;min&quot;: &quot;0.73.0&quot;
    },
    &quot;imports&quot;: [
      {
        &quot;path&quot;: &quot;github.com/google/docsy&quot;,
        &quot;disable&quot;: false
      },
      {
        &quot;path&quot;: &quot;github.com/google/docsy/dependencies&quot;,
        &quot;disable&quot;: false
      }
    ]
  }
}
```
</code></pre><p>​ 您可以在<a href=https://gohugo.io/hugo-modules/configuration/#module-config-top-level>Hugo模块文档</a>中找到这些配置设置的详细信息。根据您的环境，您可能需要微调它们，例如添加代理以在下载远程模块时使用。</p><h3 id=预览您的站点>预览您的站点<a class=td-heading-self-link href=#%e9%a2%84%e8%a7%88%e6%82%a8%e7%9a%84%e7%ab%99%e7%82%b9 aria-label="Heading self-link"></a></h3><p>​ 要在本地构建和预览网站：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>hugo server
</span></span></code></pre></div><p>​ 默认情况下，您的网站将在 <a href=http://localhost:1313/>http://localhost:1313</a> 上提供。如果遇到问题，请查看 <a href=https://t.is-local.org/zh-cn/docs/get-started/known_issues/#macos>已知问题</a>（MacOS）。</p><p>​ 当您尝试构建网站时，您可能会遇到缺少参数和值的Hugo错误。这通常是因为您缺少Docsy使用的某些配置设置的默认值 —— 一旦您添加它们，您的网站就应该可以正确构建了。您可以在<a href=https://t.is-local.org/zh-cn/docs/get-started/basic-configuration/>基本网站配置</a>中了解如何添加配置 —— 即使您从头开始创建网站，我们建议复制示例网站配置，因为它为许多必需的配置参数提供了默认值。</p><h2 id=下一步是什么>下一步是什么？<a class=td-heading-self-link href=#%e4%b8%8b%e4%b8%80%e6%ad%a5%e6%98%af%e4%bb%80%e4%b9%88 aria-label="Heading self-link"></a></h2><ul><li><p>Add some <a href=https://t.is-local.org/zh-cn/docs/get-started/basic-configuration/>basic configuration</a></p></li><li><p>添加一些<a href=https://t.is-local.org/zh-cn/docs/get-started/basic-configuration/>基本配置</a></p></li><li><p><a href=https://t.is-local.org/zh-cn/docs/adding-content/>添加内容并自定义您的站点</a></p></li><li><p>从我们的<a href=https://github.com/google/docsy-example>示例站点</a>和其他<a href=https://t.is-local.org/zh-cn/docs/examples/>示例</a>中获得一些想法。</p></li><li><p><a href=https://t.is-local.org/zh-cn/docs/deployment/>发布您的站点</a>.</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-55f94868700cbc05df2ff30817caa69d>1.2 - 其他设置选项</h1><p>​ 使用 Git 或 NPM 创建一个新的 Docsy 站点</p><p>​ 如果您不想将 <a href=https://t.is-local.org/zh-cn/docs/get-started/docsy-as-module/>Docsy 用作 Hugo 模块</a>（例如，如果您不想安装 Go），但仍不想将主题文件复制到自己的存储库中，则可以将 Docsy 用作 <a href=https://git-scm.com/book/en/v2/Git-Tools-Submodules>Git 子模块</a>。使用子模块还允许 Hugo 使用 Docsy 存储库中的主题文件，但比 Hugo 模块方法更复杂。这是在旧版本的 Docsy 示例站点中使用的方法，目前仍然得到支持。如果您正在使用 Docy 作为子模块，但想迁移到 Hugo 模块，请参阅我们的<a href=https://t.is-local.org/zh-cn/docs/get-started/other-options/>迁移指南</a>。</p><p>​ 另外，如果您不想让 Hugo 从外部存储库获取主题文件（例如，如果您想直接自定义和维护本主题的副本，或者您的部署选择要求您在存储库中包含本主题的副本），则可以将文件直接克隆到您的站点源。</p><p>​ 最后，您可以<a href=https://t.is-local.org/zh-cn/docs/get-started/other-options/#option-3-docsy-as-an-npm-package>将 Docsy 安装为 NPM 包</a>。</p><p>This guide provides instructions for all of these options, along with common prerequisites.</p><p>​ 本指南提供了所有这些选项的说明，以及常见的先决条件。</p><h2 id=先决条件>先决条件<a class=td-heading-self-link href=#%e5%85%88%e5%86%b3%e6%9d%a1%e4%bb%b6 aria-label="Heading self-link"></a></h2><h3 id=安装-hugo>安装 Hugo<a class=td-heading-self-link href=#%e5%ae%89%e8%a3%85-hugo aria-label="Heading self-link"></a></h3><p>​ 要本地构建和预览使用 Docsy 的网站（如本示例网站），您需要一个<a href=https://github.com/gohugoio/hugo/releases>最新的 <strong>extended</strong> 版本</a>的<a href=https://gohugo.io/>Hugo</a>（我们推荐使用 0.73.0 版本或更高版本）。如果您从发布页面安装，请确保获取支持 <a href=https://sass-lang.com/documentation/file.SCSS_FOR_SASS_USERS.html>SCSS</a> 的<code>extended</code> Hugo 版本；您可能需要滚动列表以查看它。</p><p>​ 有关全面的 Hugo 文档，请参见 <a href=https://gohugo.io/>gohugo.io</a>。</p><h4 id=在-linux-上>在 Linux 上<a class=td-heading-self-link href=#%e5%9c%a8-linux-%e4%b8%8a aria-label="Heading self-link"></a></h4><p>​ 请注意，使用 <code>sudo apt-get install hugo</code> 可能<a href=https://gohugo.io/getting-started/installing/#debian-and-ubuntu>不会为所有 Debian/Ubuntu 版本提供 <code>extended</code> 版本</a>，而且可能不会与最新的 Hugo 版本保持同步。</p><p>​ 如果您已经安装了 Hugo，请检查您的版本：</p><pre tabindex=0><code>hugo version
</code></pre><p>​ 如果结果是 <code>v0.73</code> 或更早版本，或者您没有看到 <code>Extended</code>，那么您需要安装最新版本。您可以在 <a href=https://gohugo.io/getting-started/installing/#linux>安装 Hugo</a> 中看到完整的 Linux 安装选项。以下是如何从发布页面安装 Hugo 的说明：</p><ol><li><p>转到 <a href=https://github.com/gohugoio/hugo/releases>Hugo 发布</a>页面。</p></li><li><p>在最新版本中，向下滚动，直到找到扩展版本列表。</p></li><li><p>下载最新的扩展版本（<code>hugo_extended_0.9X_Linux-64bit.tar.gz</code>）。</p></li><li><p>创建一个新目录：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir hugo
</span></span></code></pre></div></li><li><p>提取您下载的文件到 <code>hugo</code>。</p></li><li><p>切换到新目录：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> hugo
</span></span></code></pre></div></li><li><p>安装 Hugo：</p><pre tabindex=0><code>sudo install hugo /usr/bin
</code></pre></li></ol><h4 id=在-macos-上>在 macOS 上<a class=td-heading-self-link href=#%e5%9c%a8-macos-%e4%b8%8a aria-label="Heading self-link"></a></h4><p>​ 使用 <a href=https://gohugo.io/getting-started/installing/#homebrew-macos>Brew</a>安装 Hugo。</p><h4 id=作为-npm-模块>作为 NPM 模块<a class=td-heading-self-link href=#%e4%bd%9c%e4%b8%ba-npm-%e6%a8%a1%e5%9d%97 aria-label="Heading self-link"></a></h4><p>​ 您可以使用 <a href=https://www.npmjs.com/package/hugo-extended>hugo-extended</a> 将 Hugo 安装为 NPM 模块。要安装 Hugo 的扩展版本：</p><pre tabindex=0><code>npm install hugo-extended --save-dev
</code></pre><h3 id=node获取最新-lts-版本>Node：获取最新 LTS 版本<a class=td-heading-self-link href=#node%e8%8e%b7%e5%8f%96%e6%9c%80%e6%96%b0-lts-%e7%89%88%e6%9c%ac aria-label="Heading self-link"></a></h3><p>​ 如果已经安装了 Node，请检查您的 Node 版本。例如：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>node -v
</span></span></code></pre></div><p>​ 将您的Node版本安装或升级到<a href=https://nodejs.org/en/about/releases/>活跃的LTS版本</a>。我们建议使用<a href=https://github.com/nvm-sh/nvm/blob/master/README.md#installing-and-updating>nvm</a>来管理您的Node安装（显示Linux命令）：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>nvm install --lts
</span></span></code></pre></div><h3 id=安装postcss>安装PostCSS<a class=td-heading-self-link href=#%e5%ae%89%e8%a3%85postcss aria-label="Heading self-link"></a></h3><p>​ 要构建或更新站点的CSS资源，您还需要<a href=https://postcss.org/>PostCSS</a>。使用Node包管理器<code>npm</code>安装它。</p><blockquote><p>重要提示：检查您的Node版本</p><p>​ 某些旧版本的Node安装的PostCSS软件包与Docsy不兼容。将您的Node版本与活动的<a href=https://nodejs.org/en/about/releases/>LTS版本</a>进行对比，并在必要时进行升级。有关详细信息，请参阅<a href=https://t.is-local.org/zh-cn/docs/get-started/other-options/#node-get-the-latest-lts-release>Node：获取最新的LTS版本</a>。</p></blockquote><p>​ 从您的项目根目录运行以下命令：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>npm install --save-dev autoprefixer postcss-cli postcss
</span></span></code></pre></div><h2 id=选项1将docsy作为git子模块>选项1：将Docsy作为Git子模块<a class=td-heading-self-link href=#%e9%80%89%e9%a1%b91%e5%b0%86docsy%e4%bd%9c%e4%b8%bagit%e5%ad%90%e6%a8%a1%e5%9d%97 aria-label="Heading self-link"></a></h2><h3 id=对于新站点>对于新站点<a class=td-heading-self-link href=#%e5%af%b9%e4%ba%8e%e6%96%b0%e7%ab%99%e7%82%b9 aria-label="Heading self-link"></a></h3><p>​ 要创建一个新站点并将Docsy主题作为Git子模块添加，运行以下命令：</p><ol><li><p>创建站点：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>hugo new site myproject
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> myproject
</span></span><span style=display:flex><span>git init
</span></span></code></pre></div></li><li><p><a href=https://t.is-local.org/zh-cn/docs/get-started/other-options/#install-postcss>按照先前的说明</a>安装postCSS。</p></li><li><p>按照下面的说明为现有站点进行操作。</p></li></ol><h3 id=对于已经存在的站点>对于已经存在的站点<a class=td-heading-self-link href=#%e5%af%b9%e4%ba%8e%e5%b7%b2%e7%bb%8f%e5%ad%98%e5%9c%a8%e7%9a%84%e7%ab%99%e7%82%b9 aria-label="Heading self-link"></a></h3><p>​ 要将Docsy主题添加到现有站点，请从项目的根目录运行以下命令：</p><ol><li><p>将Docsy作为Git子模块安装：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git submodule add https://github.com/google/docsy.git themes/docsy
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> themes/docsy
</span></span><span style=display:flex><span>git checkout v0.6.0
</span></span></code></pre></div><p>要从Docsy的开发版本中进行操作（不建议），请改为运行以下命令：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git submodule add --depth <span style=color:#0000cf;font-weight:700>1</span> https://github.com/google/docsy.git themes/docsy
</span></span></code></pre></div></li><li><p>将Docsy添加为主题，例如：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#204a87>echo</span> <span style=color:#4e9a06>&#39;theme = &#34;docsy&#34;&#39;</span> &gt;&gt; config.toml
</span></span></code></pre></div><blockquote><p>提示</p><p>​ 在Hugo 0.110.0中，默认配置基础文件名更改为<code>hugo.toml</code>。如果您使用的是hugo 0.110或更高版本，请考虑将您的<code>config.toml</code>重命名为<code>hugo.toml</code>！</p></blockquote></li><li><p>获取Docsy依赖项：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87>cd</span> themes/docsy <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> npm install<span style=color:#ce5c00;font-weight:700>)</span>
</span></span></code></pre></div></li><li><p>（可选但建议）为了避免每次更新Docsy时都需要重复上一步操作，请考虑向项目的<code>package.json</code>文件添加以下<a href=https://docs.npmjs.com/cli/v8/using-npm/scripts>NPM脚本</a>：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;...&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;...&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;scripts&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;get:submodule&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;git submodule update --init --depth 1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;_prepare:docsy&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;cd themes/docsy &amp;&amp; npm install&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;prepare&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;npm run get:submodule &amp;&amp; npm run _prepare:docsy&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;...&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;...&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;...&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;...&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>每次从您的项目根目录运行<code>npm install</code>时，<code>prepare</code>脚本将获取Docsy及其依赖的最新版本。</p></li></ol><p>​ 从这一点开始，使用通常的Hugo命令来构建和提供您的站点，例如：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>hugo serve
</span></span></code></pre></div><h2 id=选项2克隆该docsy主题>选项2：克隆该Docsy主题<a class=td-heading-self-link href=#%e9%80%89%e9%a1%b92%e5%85%8b%e9%9a%86%e8%af%a5docsy%e4%b8%bb%e9%a2%98 aria-label="Heading self-link"></a></h2><p>​ 如果您不想使用子模块（例如，如果您想直接自定义和维护本主题的副本，或者您的部署选择需要在存储库中包含本主题的副本），则可以将本主题克隆到项目的<code>themes</code>子目录中。</p><p>​ 将 Docsy 版本为 v0.6.0 的代码库克隆到你的项目的 <code>themes</code> 文件夹中，请在你的项目根目录下运行以下命令：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#204a87>cd</span> themes
</span></span><span style=display:flex><span>git clone -b v0.6.0 https://github.com/google/docsy
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> docsy
</span></span><span style=display:flex><span>npm install
</span></span></code></pre></div><p>​ 如果您想要使用 Docsy 的开发版本（不建议，除非您计划将更改上游（upstream ）到 Docsy），则省略上面的克隆命令中的 <code>-b v0.6.0</code> 参数。</p><p>​ 然后考虑设置一个 NPM <a href=https://docs.npmjs.com/cli/v8/using-npm/scripts#prepare-and-prepublish>prepare</a>脚本，如选项 1 中所述。</p><p>​ 有关更多信息，请参阅<a href=https://gohugo.io/>Hugo</a>网站上的<a href=https://gohugo.io/hugo-modules/theme-components/>Theme Components</a>。</p><h2 id=选项-3docsy-作为-npm-包>选项 3：Docsy 作为 NPM 包<a class=td-heading-self-link href=#%e9%80%89%e9%a1%b9-3docsy-%e4%bd%9c%e4%b8%ba-npm-%e5%8c%85 aria-label="Heading self-link"></a></h2><p>​ 您可以按以下方式使用 Docsy 作为 NPM 模块：</p><ol><li><p>创建您的站点，并将Docsy指定为站点主题：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>hugo new site myproject
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> myproject
</span></span><span style=display:flex><span><span style=color:#204a87>echo</span> <span style=color:#4e9a06>&#39;theme = &#34;docsy&#34;&#39;</span> &gt;&gt; config.toml
</span></span></code></pre></div></li><li><p>安装Docsy和postCSS（按照<a href=https://t.is-local.org/zh-cn/docs/get-started/other-options/#install-postcss>之前的说明</a>）：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>npm install --save-dev google/docsy#semver:0.6.0 autoprefixer postcss-cli postcss
</span></span></code></pre></div></li><li><p>使用常规的Hugo命令构建或启动您的新站点，并指定Docsy主题文件的路径。例如，构建站点的命令如下：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ hugo --themesDir node_modules
</span></span><span style=display:flex><span>Start building sites …
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>Total in <span style=color:#0000cf;font-weight:700>1890</span> ms
</span></span></code></pre></div><p>你可以通过在站点的配置文件中添加本主题目录来删除 <code>--themesDir ...</code> 标志：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#204a87>echo</span> <span style=color:#4e9a06>&#39;themesDir = &#34;node_modules&#34;&#39;</span> &gt;&gt; config.toml
</span></span></code></pre></div></li></ol><p>​ 作为指定 <code>themesDir</code> 的替代方法，在某些平台上，你可以按如下方式创建指向 Docsy 主题目录的符号链接（显示了 Linux 命令，从站点根文件夹执行）：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>mkdir -p themes
</span></span><span style=display:flex><span><span style=color:#204a87>pushd</span> themes
</span></span><span style=display:flex><span>ln -s ../node_modules/docsy
</span></span><span style=display:flex><span><span style=color:#204a87>popd</span>
</span></span></code></pre></div><h2 id=预览您的站点>预览您的站点<a class=td-heading-self-link href=#%e9%a2%84%e8%a7%88%e6%82%a8%e7%9a%84%e7%ab%99%e7%82%b9 aria-label="Heading self-link"></a></h2><p>​ 要在本地预览您的站点：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#204a87>cd</span> myproject
</span></span><span style=display:flex><span>hugo server
</span></span></code></pre></div><p>​ 默认情况下，您的站点将在 <a href=http://localhost:1313/>http://localhost:1313</a> 上可用。有关MacOS上的已知问题，<a href=https://t.is-local.org/zh-cn/docs/get-started/known_issues/#macos>请参见已知问题</a>。</p><p>​ 如果您在尝试构建站点时遇到缺少参数和值的 Hugo 错误，则通常是因为 Docsy 使用了某些配置设置的默认值而您没有它们，一旦您添加了它们，您的站点应该能够正确构建。有关如何添加配置的信息，请参见<a href=https://t.is-local.org/zh-cn/docs/get-started/basic-configuration/>基本站点配置</a> —— 即使您从头开始创建站点，我们建议复制示例站点配置，因为它为许多必需的配置参数提供了默认值。</p><h2 id=下一步是什么>下一步是什么？<a class=td-heading-self-link href=#%e4%b8%8b%e4%b8%80%e6%ad%a5%e6%98%af%e4%bb%80%e4%b9%88 aria-label="Heading self-link"></a></h2><ul><li><p>添加一些<a href=https://t.is-local.org/zh-cn/docs/get-started/basic-configuration/>基本站点配置</a></p></li><li><p><a href=https://t.is-local.org/zh-cn/docs/adding-content/>添加内容并自定义您的站点</a></p></li><li><p>从我们的<a href=https://github.com/google/docsy-example>示例站点</a>和其他<a href=https://t.is-local.org/zh-cn/docs/examples/>示例</a>中获取一些想法。</p></li><li><p><a href=https://t.is-local.org/zh-cn/docs/deployment/>发布您的站点</a>.</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-18ca7a612dd95c6452c94db7cc5f7333>1.3 - 在 Docker 容器中部署 Docsy</h1><p>​ 使用 Docker 镜像可以在本地运行和测试 Docsy 站点，无需安装所有 Docys 依赖项。</p><p>​ 我们提供了一个 Docker 镜像，您可以使用它在本地运行和测试 Docsy 站点，而无需安装所有 Docsy 的依赖项。</p><h2 id=安装先决条件>安装先决条件<a class=td-heading-self-link href=#%e5%ae%89%e8%a3%85%e5%85%88%e5%86%b3%e6%9d%a1%e4%bb%b6 aria-label="Heading self-link"></a></h2><ol><li><p>在 Mac 和 Windows 上，下载并安装 <a href=https://www.docker.com/get-started>Docker Desktop</a>。在 Linux 上，安装 <a href=https://docs.docker.com/engine/install/#server>Docker engine</a> 和 <a href=https://docs.docker.com/compose/install/>Docker Compose</a>。</p><p>安装可能需要您重新启动计算机以使更改生效。</p></li><li><p><a href=https://github.com/git-guides/install-git>安装 git</a>。</p></li></ol><h2 id=从-docsy-example-模板创建您的存储库>从 docsy-example 模板创建您的存储库<a class=td-heading-self-link href=#%e4%bb%8e-docsy-example-%e6%a8%a1%e6%9d%bf%e5%88%9b%e5%bb%ba%e6%82%a8%e7%9a%84%e5%ad%98%e5%82%a8%e5%ba%93 aria-label="Heading self-link"></a></h2><p>​ docsy-example 存储库提供了一个基本的站点结构，您可以将其用作创建自己的文档的起点。</p><ol><li><p>使用 <a href=https://github.com/google/docsy-example>docsy-example 模板</a> 来 <a href=https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/creating-a-repository-from-a-template>创建自己的存储库</a>。</p></li><li><p>通过 <a href=https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/cloning-a-repository>克隆新创建的存储库</a> 将代码下载到本地计算机。</p></li><li><p>将工作目录更改为新创建的文件夹：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> docsy-example
</span></span></code></pre></div></li></ol><h2 id=构建并运行容器>构建并运行容器<a class=td-heading-self-link href=#%e6%9e%84%e5%bb%ba%e5%b9%b6%e8%bf%90%e8%a1%8c%e5%ae%b9%e5%99%a8 aria-label="Heading self-link"></a></h2><p>​ docsy-example 存储库包括一个 <a href=https://docs.docker.com/engine/reference/builder/>Dockerfile</a>，您可以使用它来运行您的站点。</p><ol><li><p>构建 Docker 镜像：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker-compose build
</span></span></code></pre></div></li><li><p>运行该构建的镜像：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker-compose up
</span></span></code></pre></div></li><li><p>在您的 Web 浏览器中打开地址 <code>http://localhost:1313</code> 以加载 docsy-example 主页。现在您可以对源文件进行更改，在您的浏览器中进行实时重新加载。</p></li></ol><h2 id=cleanup-清理>Cleanup 清理<a class=td-heading-self-link href=#cleanup-%e6%b8%85%e7%90%86 aria-label="Heading self-link"></a></h2><p>​ 要清理您的系统并删除容器镜像，请按以下步骤操作。</p><ol><li><p>使用 <strong>Ctrl + C</strong> 停止 Docker Compose。</p></li><li><p>删除生成的镜像</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker-compose rm
</span></span></code></pre></div></li></ol><h2 id=接下来是什么>接下来是什么？<a class=td-heading-self-link href=#%e6%8e%a5%e4%b8%8b%e6%9d%a5%e6%98%af%e4%bb%80%e4%b9%88 aria-label="Heading self-link"></a></h2><ul><li>了解 Docsy 的<a href=https://t.is-local.org/zh-cn/docs/get-started/basic-configuration/>基本设置和配置</a>。</li><li><a href=https://t.is-local.org/zh-cn/docs/adding-content/>添加内容并自定义您的站点</a></li><li><a href=https://t.is-local.org/zh-cn/docs/deployment/>发布您的站点</a>.</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-fa6911b5718f1afca68620dc3deca8c8>1.4 - 基本站点配置</h1><p>​ 新的 Docsy 站点的基本配置。</p><p>​ 站点范围的配置细节和参数在项目的<a href=https://gohugo.io/getting-started/configuration/#configuration-file>配置文件</a> (<code>config.toml</code> 或 <code>hugo.toml</code>) 中定义。这些包括你选择的 Hugo 主题（当然是 Docsy！）、项目名称、社区链接、Google Analytics 配置和 Markdown 解析器参数。在<a href=https://github.com/google/docsy-example/blob/master/config.toml><code>config.toml</code> 的示例项目</a>中查看带注释的示例，了解如何添加此信息。即使你只是使用主题而不是复制整个 Docsy 示例站点，<strong>我们建议复制此 <code>config.toml</code> 并进行编辑</strong>，因为它包括了许多参数的默认值，你需要设置这些参数才能正确构建站点。</p><p>​ 你可能想要立即删除或自定义复制的 <code>config.toml</code> 文件中的某些默认值：</p><h2 id=国际化>国际化<a class=td-heading-self-link href=#%e5%9b%bd%e9%99%85%e5%8c%96 aria-label="Heading self-link"></a></h2><p>​ 复制的 <code>config.toml</code> 文件定义了英语、挪威语和波斯语内容。你可以在 <a href=https://t.is-local.org/zh-cn/docs/language/>多语言支持</a> 中了解 Docsy 如何支持多语言内容。</p><p>​ 如果你不打算翻译你的站点，可以通过从 <code>config.toml</code> 中删除以下行来删除语言切换器：</p><pre tabindex=0><code>[languages.no]
title = &#34;Docsy&#34;
description = &#34;Docsy er operativsystem for skyen&#34;
languageName =&#34;Norsk&#34;
contentDir = &#34;content/no&#34;
time_format_default = &#34;02.01.2006&#34;
time_format_blog = &#34;02.01.2006&#34;

[languages.fa]
title = &#34;اسناد گلدی&#34;
description = &#34;یک نمونه برای پوسته داکسی&#34;
languageName =&#34;فارسی&#34;
contentDir = &#34;content/fa&#34;
time_format_default = &#34;2006.01.02&#34;
time_format_blog = &#34;2006.01.02&#34;
</code></pre><h2 id=搜索>搜索<a class=td-heading-self-link href=#%e6%90%9c%e7%b4%a2 aria-label="Heading self-link"></a></h2><p>​ 默认情况下，Docsy 示例站点使用自己的<a href=https://cse.google.com/cse/all>谷歌自定义搜索引擎</a>。要禁用此站点搜索，请删除或注释以下行：</p><pre tabindex=0><code># Google Custom Search Engine ID. Remove or comment out to disable search.
gcs_engine_id = &#34;011737558837375720776:fsdu1nryfng&#34;
</code></pre><p>​ 要使用您自己的自定义搜索引擎，请将 <code>gcs_engine_id</code> 中的值替换为您自己搜索引擎的 ID。或<a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation/#site-search-options>选择其他搜索选项</a>。</p><h2 id=下一步是什么>下一步是什么？<a class=td-heading-self-link href=#%e4%b8%8b%e4%b8%80%e6%ad%a5%e6%98%af%e4%bb%80%e4%b9%88 aria-label="Heading self-link"></a></h2><ul><li><a href=https://t.is-local.org/zh-cn/docs/adding-content/>添加内容并自定义您的站点</a></li><li>从我们的<a href=https://github.com/google/docsy-example>示例站点</a>和其他<a href=https://t.is-local.org/zh-cn/docs/examples/>示例</a>中获取一些想法。</li><li><a href=https://t.is-local.org/zh-cn/docs/deployment/>发布您的站点</a>.</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-b9de64f504609e79da1988b41e06549a>1.5 - 已知问题</h1><p>​ 在安装 Docsy 主题时的已知问题。</p><p>​ 以下问题适用于 <a href=https://t.is-local.org/zh-cn/docs/get-started/known_issues/#macos>MacOS</a>和 <a href=https://t.is-local.org/zh-cn/docs/get-started/known_issues/#windows-subsystem-for-linux-wsl>Windows Subsystem for Linux</a>：</p><h3 id=macos>MacOS<a class=td-heading-self-link href=#macos aria-label="Heading self-link"></a></h3><h4 id=errors-too-many-open-files-or-fatal-error-pipe-failed>Errors: <code>too many open files</code> or <code>fatal error: pipe failed</code><a class=td-heading-self-link href=#errors-too-many-open-files-or-fatal-error-pipe-failed aria-label="Heading self-link"></a></h4><p>​ 默认情况下，MacOS允许打开少量文件描述符。对于较大的网站或同时运行多个应用程序时，当您运行<a href=https://gohugo.io/commands/hugo_server/><code>hugo server</code></a>本地预览网站时，您可能会收到以下错误之一：</p><ul><li><p>POSTCSS v7 及更早版本：</p><pre tabindex=0><code>ERROR 2020/04/14 12:37:16 Error: listen tcp 127.0.0.1:1313: socket: too many open files
</code></pre></li><li><p>POSTCSS v8 及更高版本：</p><pre tabindex=0><code>fatal error: pipe failed
</code></pre></li></ul><h5 id=workaround-解决方法>Workaround 解决方法<a class=td-heading-self-link href=#workaround-%e8%a7%a3%e5%86%b3%e6%96%b9%e6%b3%95 aria-label="Heading self-link"></a></h5><p>​ 为了暂时允许更多的打开文件：</p><ol><li><p>通过运行以下命令查看当前设置：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo launchctl limit maxfiles
</span></span></code></pre></div></li><li><p>通过运行以下命令将限制增加到<code>65535</code>个文件。如果您的站点文件较少，则可以选择设置较低的软（<code>65535</code>）和硬（<code>200000</code>）限制。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo launchctl limit maxfiles <span style=color:#0000cf;font-weight:700>65535</span> <span style=color:#0000cf;font-weight:700>200000</span>
</span></span><span style=display:flex><span><span style=color:#204a87>ulimit</span> -n <span style=color:#0000cf;font-weight:700>65535</span>
</span></span><span style=display:flex><span>sudo sysctl -w kern.maxfiles<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>200000</span>
</span></span><span style=display:flex><span>sudo sysctl -w kern.maxfilesperproc<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>65535</span>
</span></span></code></pre></div></li></ol><p>​ 请注意，您可能需要为每个新的shell设置这些限制。<a href="https://www.google.com/search?q=mac+os+launchctl+limit+maxfiles+site%3Aapple.stackexchange.com&oq=mac+os+launchctl+limit+maxfiles+site%3Aapple.stackexchange.com">了解有关这些限制及如何使其永久的更多信息</a>。</p><h3 id=windows-subsystem-for-linux-wsl>Windows Subsystem for Linux (WSL)<a class=td-heading-self-link href=#windows-subsystem-for-linux-wsl aria-label="Heading self-link"></a></h3><p>​ 如果您正在使用WSL，请确保在文件系统的Linux挂载上运行<code>hugo</code>，而不是在Windows挂载上运行，否则可能会出现意外错误。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-48d76af26bdc4fc2c5aa08ce76b029b3>2 - 内容和自定义</h1><p>How to add content to and customize your Docsy site.</p><p>如何向您的Docsy站点添加内容并进行自定义。</p><hr><h5 id=添加内容-httpstis-localorgzh-cndocsadding-contentcontent><a href=https://t.is-local.org/zh-cn/docs/adding-content/content/>添加内容 </a><a class=td-heading-self-link href=#%e6%b7%bb%e5%8a%a0%e5%86%85%e5%ae%b9-httpstis-localorgzh-cndocsadding-contentcontent aria-label="Heading self-link"></a></h5><p>Add different types of content to your Docsy site.</p><p>向您的Docsy站点添加不同类型的内容。</p><h5 id=look-and-feelhttpstis-localorgzh-cndocsadding-contentlookandfeel><a href=https://t.is-local.org/zh-cn/docs/adding-content/lookandfeel/>Look and Feel</a><a class=td-heading-self-link href=#look-and-feelhttpstis-localorgzh-cndocsadding-contentlookandfeel aria-label="Heading self-link"></a></h5><p>Customize colors, fonts, code highlighting, and more for your site.</p><p>自定义您站点的颜色、字体、代码高亮等。</p><h5 id=navigation-and-searchhttpstis-localorgzh-cndocsadding-contentnavigation><a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation/>Navigation and Search</a><a class=td-heading-self-link href=#navigation-and-searchhttpstis-localorgzh-cndocsadding-contentnavigation aria-label="Heading self-link"></a></h5><p>Customize site navigation and search for your Docsy site.</p><p>为您的Docsy站点自定义站点导航和搜索。</p><h5 id=doc-versioninghttpstis-localorgzh-cndocsadding-contentversioning><a href=https://t.is-local.org/zh-cn/docs/adding-content/versioning/>Doc Versioning</a><a class=td-heading-self-link href=#doc-versioninghttpstis-localorgzh-cndocsadding-contentversioning aria-label="Heading self-link"></a></h5><p>Customize navigation and banners for multiple versions of your docs.</p><p>为文档的多个版本自定义导航和横幅。</p><h5 id=docsy-shortcodeshttpstis-localorgzh-cndocsadding-contentshortcodes><a href=https://t.is-local.org/zh-cn/docs/adding-content/shortcodes/>Docsy Shortcodes</a><a class=td-heading-self-link href=#docsy-shortcodeshttpstis-localorgzh-cndocsadding-contentshortcodes aria-label="Heading self-link"></a></h5><p>Use Docsy’s Hugo shortcodes to quickly build site pages.</p><p>使用Docsy的Hugo短代码快速构建站点页面。</p><h5 id=logos-and-imageshttpstis-localorgzh-cndocsadding-contenticonsimages><a href=https://t.is-local.org/zh-cn/docs/adding-content/iconsimages/>Logos and Images</a><a class=td-heading-self-link href=#logos-and-imageshttpstis-localorgzh-cndocsadding-contenticonsimages aria-label="Heading self-link"></a></h5><p>Add and customize logos, icons, and images in your project.</p><p>在您的项目中添加和自定义标识、图标和图像。</p><h5 id=print-supporthttpstis-localorgzh-cndocsadding-contentprint><a href=https://t.is-local.org/zh-cn/docs/adding-content/print/>Print Support</a><a class=td-heading-self-link href=#print-supporthttpstis-localorgzh-cndocsadding-contentprint aria-label="Heading self-link"></a></h5><p>Making it easier to print entire sections of documentation.</p><p>使整个文档部分易于打印。</p><h5 id=analytics-user-feedback-and-seohttpstis-localorgzh-cndocsadding-contentfeedback><a href=https://t.is-local.org/zh-cn/docs/adding-content/feedback/>Analytics, User Feedback, and SEO</a><a class=td-heading-self-link href=#analytics-user-feedback-and-seohttpstis-localorgzh-cndocsadding-contentfeedback aria-label="Heading self-link"></a></h5><p>Add Google Analytics tracking to your site, collect user feedback and learn about the page description meta tag.</p><p>向您的站点添加Google Analytics跟踪，收集用户反馈并了解页面描述元标记。</p><h5 id=repository-linkshttpstis-localorgzh-cndocsadding-contentrepository-links><a href=https://t.is-local.org/zh-cn/docs/adding-content/repository-links/>Repository Links</a><a class=td-heading-self-link href=#repository-linkshttpstis-localorgzh-cndocsadding-contentrepository-links aria-label="Heading self-link"></a></h5><p>Help your users interact with your source repository.</p><p>帮助您的用户与您的源存储库进行交互。</p><h5 id=taxonomy-supporthttpstis-localorgzh-cndocsadding-contenttaxonomy><a href=https://t.is-local.org/zh-cn/docs/adding-content/taxonomy/>Taxonomy Support</a><a class=td-heading-self-link href=#taxonomy-supporthttpstis-localorgzh-cndocsadding-contenttaxonomy aria-label="Heading self-link"></a></h5><p>Structure the content using taxonomies like tags, categories, labels.</p><p>使用标签、类别、标签等分类方法来结构化内容。</p><h5 id=diagrams-and-formulaehttpstis-localorgzh-cndocsadding-contentdiagrams-and-formulae><a href=https://t.is-local.org/zh-cn/docs/adding-content/diagrams-and-formulae/>Diagrams and Formulae</a><a class=td-heading-self-link href=#diagrams-and-formulaehttpstis-localorgzh-cndocsadding-contentdiagrams-and-formulae aria-label="Heading self-link"></a></h5><p>Add generated diagrams and scientific formulae to your site.</p><p>向您的站点添加生成的图表和科学公式。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-84a5af3024194c6f4dcb46a0e289f751>2.1 - 添加内容</h1><p>​ 向 你的Docsy 站点添加不同类型的内容。</p><p>​ 现在你有了一个带有 Docsy 的新 Hugo 站点，是时候添加一些内容了！本页面告诉你如何使用主题来添加和组织站点内容。</p><h2 id=内容根目录>内容根目录<a class=td-heading-self-link href=#%e5%86%85%e5%ae%b9%e6%a0%b9%e7%9b%ae%e5%bd%95 aria-label="Heading self-link"></a></h2><p>​ 你可以在你的 Hugo 站点项目的内容根目录下添加站点内容 - 即 <code>content/</code> 或<a href=https://t.is-local.org/zh-cn/docs/language/>语言特定的</a>根目录，比如 <code>content/en/</code>。这里的主要例外是你不想构建到站点中的静态文件：你可以在下面的<a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#adding-static-content>添加静态内容</a>中了解更多关于添加这些文件的位置。你的内容根目录中的文件通常按照站点章节和模板分组到子目录中，我们将在<a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#content-sections-and-templates>内容章节和模板</a>中查看这些子目录。</p><p>​ 你可以在<a href=https://gohugo.io/getting-started/directory-structure/#directory-structure-explained>目录结构解释</a>中了解有关 Hugo 目录结构的更多信息。</p><h2 id=内容章节和模板>内容章节和模板<a class=td-heading-self-link href=#%e5%86%85%e5%ae%b9%e7%ab%a0%e8%8a%82%e5%92%8c%e6%a8%a1%e6%9d%bf aria-label="Heading self-link"></a></h2><p>​ Hugo 使用你提供的内容文件和站点主题提供的任何模板来构建你的站点页面。这些模板（在 Hugo 术语中称为"layouts（布局）"）包括你的页面的页眉、页脚、导航和样式表链接：基本上除了页面的具体内容以外的一切。这些模板又可以由局部组成：用于页面元素（如页眉、搜索框等）的小型可重用 HTML 片段。</p><p>​ 因为大多数技术文档站点有不同的章节来存放不同类型的内容，Docsy 主题提供了以下顶级站点章节的<a href=https://github.com/google/docsy/tree/main/layouts>模板</a>：</p><ul><li><a href=https://github.com/google/docsy/tree/main/layouts/docs>docs</a> 用于你站点的文档章节的页面。</li><li><a href=https://github.com/google/docsy/tree/main/layouts/blog>blog</a> 用于你站点的博客页面。</li><li><a href=https://github.com/google/docsy/tree/main/layouts/community>community</a> 用于你站点的社区页面。</li></ul><p>​ 它还提供了一种<a href=https://github.com/google/docsy/tree/main/layouts/_default>默认的"着陆页"模板类型</a>，带有站点页眉和页脚，但没有左侧导航，你可以用它来作为任何其他章节的模板。在这个站点和我们的示例站点中，它用于站点<a href=https://t.is-local.org/zh-cn/>主页</a>和<a href=https://t.is-local.org/zh-cn/about/>About</a>页面。</p><p>​ 你站点中的每个顶级章节都对应着站点内容根目录中的一个目录。根据内容所在的文件夹，Hugo 自动应用适当的模板来渲染该章节。例如，此页面位于站点内容根目录 <code>content/en/</code> 的 <code>docs</code> 子目录中，因此 Hugo 自动应用 <code>docs</code> 模板。你可以通过显式指定特定页面的模板或内容类型来覆盖此行为。</p><p>​ 如果你复制了示例站点，则已经拥有适当命名的顶级章节目录来使用 Docsy 的模板，每个目录都有一个索引页面（ <code>_index.md</code> 或 <code>index.html</code>）供用户访问。这些顶级章节也会出现在示例站点的<a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation/#top-level-menu>顶级菜单</a>中。</p><h3 id=自定义章节>自定义章节<a class=td-heading-self-link href=#%e8%87%aa%e5%ae%9a%e4%b9%89%e7%ab%a0%e8%8a%82 aria-label="Heading self-link"></a></h3><p>​ 如果您复制了示例站点，但并不想使用提供的任何内容章节之一，只需删除相应的内容子目录即可。同样，如果您想添加一个顶级章节，只需添加一个新的子目录，但如果您想使用除默认模板之外的任何现有Docsy模板，则需要在每个页面的<a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#page-frontmatter>前置元数据</a>中明确指定布局或内容类型。例如，如果您创建一个新目录<code>content/en/amazing</code>，并且希望该自定义章节中的一个或多个页面使用Docsy的<code>docs</code>模板，则在每个页面的前置元数据中添加<code>type: docs</code>：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: &quot;My amazing new section&quot;
weight: 1
type: docs
description: &gt;
    A special section with a docs layout.
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;My amazing new section&quot;
weight = 1
type = &quot;docs&quot;
description = '''
A special section with a docs layout.
'''
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;My amazing new section&quot;,
  &quot;weight&quot;: 1,
  &quot;type&quot;: &quot;docs&quot;,
  &quot;description&quot;: &quot;A special section with a docs layout.\n&quot;
}
```
</code></pre><p>​ 或者，根据现有模板，在您项目的<code>layouts</code>目录中为您的新章节创建自己的页面模板。</p><p>​ 您可以在<a href=https://gohugo.io/templates/>Hugo模板</a>中了解更多有关Hugo页面布局的工作原理。本页面的其余部分将告诉您如何添加内容并使用Docsy的每个模板。</p><h3 id=替代站点结构>替代站点结构<a class=td-heading-self-link href=#%e6%9b%bf%e4%bb%a3%e7%ab%99%e7%82%b9%e7%bb%93%e6%9e%84 aria-label="Heading self-link"></a></h3><p>​ 如上所述，默认情况下，您的站点具有主页（使用<code>_default</code>布局），<code>/docs/</code>下的文档章节，<code>/blog/</code>下的博客章节和<code>/community/</code>下的社区章节。每个章节的<a href=https://gohugo.io/content-management/types/>类型</a>（确定其使用的布局）与其目录名称匹配。</p><p>​ 在某些情况下，您可能希望具有不同的目录结构，但仍要利用Docsy的布局。一个常见的例子是"文档站点"，其中大多数页面（包括主页）都使用文档布局，或者您可能更喜欢将<code>/news/</code>目录视为博客布局。</p><p>​ 自Hugo 0.76以来，通过使用<a href=https://gohugo.io/content-management/front-matter/#target-specific-pages>目标特定级联前置元数据</a>，而不需要复制布局到您的站点或在每个页面上都指定<code>type: blog</code>，这已经变得可行。</p><p>​ 例如，对于<code>/news/</code>章节，您可以在index 页面中指定以下前置元数据，这将更改该章节及其以下所有内容的类型为"blog"：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: &quot;Latest News&quot;
linkTitle: &quot;News&quot;
menu:
  main:
    weight: 30

cascade:
  - type: &quot;blog&quot;
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;Latest News&quot;
linkTitle = &quot;News&quot;

[menu.main]
weight = 30

[[cascade]]
type = &quot;blog&quot;
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;Latest News&quot;,
  &quot;linkTitle&quot;: &quot;News&quot;,
  &quot;menu&quot;: {
    &quot;main&quot;: {
      &quot;weight&quot;: 30
    }
  },
  &quot;cascade&quot;: [
    {
      &quot;type&quot;: &quot;blog&quot;
    }
  ]
}
```
</code></pre><p>​ 如果您想创建一个"docs"站点，则在顶级<code>_index.md</code>中指定类似以下内容将使所有顶级章节都被视为"文档"，除了"news"：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: &quot;My Wonderful Site&quot;

cascade:
  - type: &quot;blog&quot;
    toc_root: true
    _target:
    path: &quot;/news/**&quot;
  - type: &quot;docs&quot;
    _target:
    path: &quot;/**&quot;
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;My Wonderful Site&quot;

[[cascade]]
type = &quot;blog&quot;
toc_root = true

  [cascade._target]
  path = &quot;/news/**&quot;

[[cascade]]
type = &quot;docs&quot;

  [cascade._target]
  path = &quot;/**&quot;
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;My Wonderful Site&quot;,
  &quot;cascade&quot;: [
    {
      &quot;type&quot;: &quot;blog&quot;,
      &quot;toc_root&quot;: true,
      &quot;_target&quot;: {
        &quot;path&quot;: &quot;/news/**&quot;
      }
    },
    {
      &quot;type&quot;: &quot;docs&quot;,
      &quot;_target&quot;: {
        &quot;path&quot;: &quot;/**&quot;
      }
    }
  ]
}
```
</code></pre><p>请注意，这里增加了<code>toc_root</code>。将其设置为<code>true</code>，可以使其被视为站点的单独部分，具有自己的左侧导航菜单。</p><p>​ 使用此技术的示例基于文档的站点可在<a href=https://github.com/gwatts/mostlydocs/>mostly docs</a> repo中找到。</p><h2 id=页面前置元数据>页面前置元数据<a class=td-heading-self-link href=#%e9%a1%b5%e9%9d%a2%e5%89%8d%e7%bd%ae%e5%85%83%e6%95%b0%e6%8d%ae aria-label="Heading self-link"></a></h2><p>​ Hugo站点中的每个页面文件都有元数据前置元数据，告诉Hugo有关页面的信息。您可以在TOML、YAML或JSON中指定页面前置元数据（我们的示例站点和此站点使用YAML）。使用前置元数据指定页面标题、描述、创建日期、链接标题、模板、菜单权重，甚至包括页面使用的任何资源，如图像。您可以在<a href=https://gohugo.io/content-management/front-matter/>前置元数据</a>中查看可能的页面前置元数据的完整列表。</p><p>例如，这是本页面的前置元数据：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: &quot;Adding Content&quot;
linkTitle: &quot;Adding Content&quot;
weight: 1
description: &gt;
    Add different types of content to your Docsy site.
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;Adding Content&quot;
linkTitle = &quot;Adding Content&quot;
weight = 1
description = '''
Add different types of content to your Docsy site.
'''
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;Adding Content&quot;,
  &quot;linkTitle&quot;: &quot;Adding Content&quot;,
  &quot;weight&quot;: 1,
  &quot;description&quot;: &quot;Add different types of content to your Docsy site.\n&quot;
}
```
</code></pre><p>​ 你需要提供的最基本的前置元数据是title（标题）：其他的内容都由你决定！然而，如果你没有设置页面weight（权重），你的<a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation>导航</a>可能会有点混乱。你可能还想包括<code>description</code>，因为 Docsy 使用它来生成搜索引擎使用的mata <code>description</code> 标签。详见<a href=https://t.is-local.org/zh-cn/docs/adding-content/feedback/#search-engine-optimization-meta-tags>搜索引擎优化（SEO）元标签</a>。</p><h2 id=页面内容和标记>页面内容和标记<a class=td-heading-self-link href=#%e9%a1%b5%e9%9d%a2%e5%86%85%e5%ae%b9%e5%92%8c%e6%a0%87%e8%ae%b0 aria-label="Heading self-link"></a></h2><p>​ 默认情况下，你可以像编写普通的 <a href=https://gohugo.io/content-management/formats/>Markdown 或 HTML 文件</a>一样，在 Docsy 站点上创建页面并添加<a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#page-frontmatter>页面前置元数据</a>，就像上面描述的那样。从 0.100 版本开始，<a href=https://github.com/yuin/goldmark/>Goldmark</a>是 Hugo 唯一支持的 Markdown 解析器。</p><blockquote><h4 id=提示>提示<a class=td-heading-self-link href=#%e6%8f%90%e7%a4%ba aria-label="Heading self-link"></a></h4><p>如果你之前使用的是在 0.60 版本之前的 Hugo 版本，使用 <a href=https://github.com/russross/blackfriday>BlackFriday</a> 作为 Markdown 解析器，你可能需要对你的站点进行一些小的更改才能与当前的 <code>Goldmark</code> Markdown 解析器一起工作。特别是，如果你克隆了我们的早期示例站点的一个版本，请在 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中添加以下内容，以允许 Goldmark 渲染原始 HTML 和 Markdown：</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
markup:
  goldmark:
    renderer:
      unsafe: true
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
[markup]
  [markup.goldmark]
    [markup.goldmark.renderer]
      unsafe = true
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;markup&quot;: {
    &quot;goldmark&quot;: {
      &quot;renderer&quot;: {
        &quot;unsafe&quot;: true
      }
    }
  }
}
```
</code></pre></blockquote><p>​ 除了标记文本，你还可以使用 Hugo 和 Docsy 的 <a href=https://t.is-local.org/zh-cn/docs/adding-content/shortcodes>shortcodes</a>（简码）：可重用的 HTML 片段，可以快速构建你的页面。在 <a href=https://t.is-local.org/zh-cn/docs/adding-content/shortcodes>Docsy Shortcodes</a> 中了解更多关于简码的内容。</p><blockquote><p>注意</p><p>​ Hugo 也支持使用其他标记语言的<a href=https://gohugo.io/content-management/formats/#additional-formats-through-external-helpers>外部解析器作为辅助工具</a>来添加内容。例如，你可以使用 <code>rst2html</code> 作为外部解析器来添加 RST 内容（尽管请注意，这不支持所有 RST 的变体，例如 Sphinx RST）。同样地，你可以使用 <code>asciidoctor</code> 来解析 Asciidoc 文件，或者使用 <code>pandoc</code> 解析其他格式的文件。</p><p>​ 由于你需要安装外部解析器并运行 Hugo 来生成你的站点（例如，你将无法使用 <a href=https://t.is-local.org/zh-cn/docs/deployment/#deployment-with-netlify>Netlify 的持续部署功能</a>），因此外部解析器可能并不适合与所有部署选项一起使用。此外，添加外部解析器可能会导致构建较大站点时出现性能问题。</p></blockquote><h3 id=处理链接>处理链接<a class=td-heading-self-link href=#%e5%a4%84%e7%90%86%e9%93%be%e6%8e%a5 aria-label="Heading self-link"></a></h3><p>​ Hugo 允许你使用普通的 Markdown 语法指定链接，但请记住，你需要将链接相对于你站点的根 URL 指定，而相对 URL 在你站点生成的 HTML 中不会被 Hugo 更改。</p><p>​ 或者，你可以使用 Hugo 的 helper <a href=https://gohugo.io/content-management/cross-references/>ref 和 relref 简码</a>来创建解析为正确 URL 的内部链接。但是，请注意，如果用户在你生成的站点之外查看你的页面，例如在 GitHub 的 Web UI 中使用渲染的 Markdown 功能，那么你的链接将根本不会出现为链接。</p><p>​ 你可以在 <a href=https://t.is-local.org/zh-cn/docs/best-practices/site-guidance>Hugo Tips</a> 中找到（或添加！）有关处理 Hugo 链接的技巧和提示。</p><h3 id=内容样式>内容样式<a class=td-heading-self-link href=#%e5%86%85%e5%ae%b9%e6%a0%b7%e5%bc%8f aria-label="Heading self-link"></a></h3><p>​ 我们不强制要求您的页面内容采用任何特定的风格。然而，如果您需要一些关于如何编写和格式化清晰、简洁的技术文档的指导，我们推荐使用<a href=https://developers.google.com/style/>Google开发者文档风格指南</a>，特别是其中的<a href=https://developers.google.com/style/highlights>风格指南要点</a>。</p><h2 id=页面-bundles>页面 bundles<a class=td-heading-self-link href=#%e9%a1%b5%e9%9d%a2-bundles aria-label="Heading self-link"></a></h2><p>​ 您可以将站点页面创建为其所在章节或子章节目录中的独立文件，或者作为包含内容的文件夹，其中内容在文件夹的index页中。为您的页面创建一个文件夹可以让您将图像和其他资源与内容<a href=https://gohugo.io/content-management/page-bundles/>捆绑（bundle）</a>在一起。</p><p>​ 您可以在本站点和我们的示例站点中看到这两种方法的示例。例如，本页面的源代码只是一个独立的文件<code>/content/en/docs/adding-content.md</code>。然而，在本站点中，Docsy简码的源代码位于<code>/content/en/docs/adding-content/shortcodes/index.md</code>，该页面使用的图像资源位于同一个<code>/shortcodes/</code>目录中。在Hugo术语中，这被称为叶子bundle，因为它是一个文件夹，包含了单个站点页面的所有数据，没有任何子页面（并且使用了不带下划线的<code>index.md</code>）。</p><p>​ 您可以在<a href=https://gohugo.io/content-management/page-bundles/>页面Bundles</a>中找到更多有关使用Hugo捆绑管理资源的信息。</p><h2 id=adding-docs-and-blog-posts>Adding docs and blog posts<a class=td-heading-self-link href=#adding-docs-and-blog-posts aria-label="Heading self-link"></a></h2><p>​ 您最常使用的模板可能是<a href=https://github.com/google/docsy/blob/main/layouts/docs/baseof.html><code>docs</code>模板</a>（如本页面所使用的）或非常相似的<a href=https://github.com/google/docsy/blob/main/layouts/blog/baseof.html><code>blog</code> 模板</a>。这两个模板都包括：</p><ul><li>a left nav</li><li>GitHub链接（从您的站点配置中获取）供读者编辑页面或创建问题</li><li>a page menu</li></ul><p>以及所有站点页面都使用的常见页头和页脚。应用哪个模板取决于您是否将内容添加到<code>blog</code>或<code>docs</code>内容目录中。您可以在<a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation/>导航和搜索</a>中了解有关如何创建导航和页面菜单的更多信息。</p><h3 id=组织您的文档>组织您的文档<a class=td-heading-self-link href=#%e7%bb%84%e7%bb%87%e6%82%a8%e7%9a%84%e6%96%87%e6%a1%a3 aria-label="Heading self-link"></a></h3><p>​ 虽然Docsy的顶级章节允许您为不同类型的内容创建站点章节，但您可能还希望在<code>docs</code>章节内组织您的文档内容。例如，本站点的<code>docs</code>章节目录有多个子目录，用于入门、内容和自定义等。每个子目录都有一个<code>_index.md</code>（也可以是<code>_index.html</code>），它作为一个章节索引页，告诉Hugo相关目录是您的文档的子章节。</p><p>​ Docsy的<code>docs</code>布局为您提供了一个左侧导航窗格，其中包含根据您的文档文件结构自动生成的嵌套菜单。在<code>docs/</code>目录中的每个独立页面或子章节<code>_index.md</code>或<code>_index.html</code>页面都会获得一个顶级菜单项，使用页面或index中的链接名称和<code>weight</code>元数据。</p><p>​ 要向子章节添加文档，只需将页面文件添加到相应的子目录中。除子章节索引页面外，您添加到子章节的任何页面都将出现在子菜单中（请查看左侧以查看实际效果！），并按页面<code>weight</code>排序。在<a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation/>导航和搜索</a>中了解有关添加Docsy导航元数据的更多信息。</p><p>​ 如果您已经复制了示例站点，则在您的<code>docs</code>目录中已经有一些建议的子目录，并提供了放置何种类型内容以及一些示例Markdown页面的指导。您可以在<a href=https://t.is-local.org/zh-cn/docs/best-practices/organizing-content/>组织您的内容</a>中了解更多关于使用Docsy组织内容的信息。</p><h4 id=文档章节着陆页面>文档章节着陆页面<a class=td-heading-self-link href=#%e6%96%87%e6%a1%a3%e7%ab%a0%e8%8a%82%e7%9d%80%e9%99%86%e9%a1%b5%e9%9d%a2 aria-label="Heading self-link"></a></h4><p>​ 默认情况下，文档章节着陆页（位于章节目录中的<code>_index.md</code>或<code>_index.html</code>）使用一种布局，该布局添加了一个格式化的链接列表，其中包含章节中的页面及其前置元数据描述。本站点中的<a href=https://t.is-local.org/zh-cn/docs/adding-content/>内容和自定义</a>着陆页面是一个很好的例子。</p><p>​ 要显示一个简单的链接条目列表，指定在着陆页面的前置元数据中<code>simple_list: true</code>：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: &quot;Simple List Page&quot;
simple_list: true
weight: 20
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;Simple List Page&quot;
simple_list = true
weight = 20
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;Simple List Page&quot;,
  &quot;simple_list&quot;: true,
  &quot;weight&quot;: 20
}
```
</code></pre><p>​ 要根本不显示任何链接，请在着陆页面的前置元数据中指定<code>no_list: true</code>：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: &quot;No List Page&quot;
no_list: true
weight: 20
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;No List Page&quot;
no_list = true
weight = 20
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;No List Page&quot;,
  &quot;no_list&quot;: true,
  &quot;weight&quot;: 20
}
```
</code></pre><h3 id=组织您的博客文章>组织您的博客文章<a class=td-heading-self-link href=#%e7%bb%84%e7%bb%87%e6%82%a8%e7%9a%84%e5%8d%9a%e5%ae%a2%e6%96%87%e7%ab%a0 aria-label="Heading self-link"></a></h3><p>​ Docsy的<code>blog</code>布局也为您提供了一个左侧导航菜单（如<code>docs</code>布局），以及应用于<code>/blog/_index.md</code>的列表类型index 页，自动按反向时间顺序显示所有最新文章的片段。</p><p>To create different blog categories to organize your posts, create subfolders in <code>blog/</code>. For instance, in our <a href=https://github.com/google/docsy-example/tree/master/content/en/blog>example site</a> we have <code>news</code> and <code>releases</code>. Each category needs to have its own <code>_index.md</code> or <code>_index.html</code> landing page file specifying the category title for it to appear properly in the left nav and top-level blog landing page. Here’s the index page for <code>releases</code>:</p><p>​ 要创建不同的博客类别以组织您的文章，请在<code>blog/</code>中创建子文件夹。例如，在我们的<a href=https://github.com/google/docsy-example/tree/master/content/en/blog>示例站点</a>中，我们有<code>news</code>和<code>releases</code>。每个类别都需要有自己的<code>_index.md</code>或<code>_index.html</code>着陆页面文件，指定类别标题以使其在左侧导航和顶级博客着陆页面上正确显示。这是<code>releases</code>的index 页面：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: &quot;New Releases&quot;
linkTitle: &quot;Releases&quot;
weight: 20
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;New Releases&quot;
linkTitle = &quot;Releases&quot;
weight = 20
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;New Releases&quot;,
  &quot;linkTitle&quot;: &quot;Releases&quot;,
  &quot;weight&quot;: 20
}
```
</code></pre><p>​ 要向博客文章添加作者和日期信息，请将它们添加到页面的前置元数据中：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
date: 2018-10-06
title: &quot;Easy documentation with Docsy&quot;
linkTitle: &quot;Announcing Docsy&quot;
description: &quot;The Docsy Hugo theme lets project maintainers and contributors focus on content, not on reinventing a website infrastructure from scratch&quot;
author: Riona MacNamara
resources:
  - src: &quot;**.{png,jpg}&quot;
    title: &quot;Image #:counter&quot;
    params:
    byline: &quot;Photo: Riona MacNamara / CC-BY-CA&quot;
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
date = 2018-10-06T00:00:00.000Z
title = &quot;Easy documentation with Docsy&quot;
linkTitle = &quot;Announcing Docsy&quot;
description = &quot;The Docsy Hugo theme lets project maintainers and contributors focus on content, not on reinventing a website infrastructure from scratch&quot;
author = &quot;Riona MacNamara&quot;

[[resources]]
src = &quot;**.{png,jpg}&quot;
title = &quot;Image #:counter&quot;

  [resources.params]
  byline = &quot;Photo: Riona MacNamara / CC-BY-CA&quot;
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;date&quot;: &quot;2018-10-06T00:00:00.000Z&quot;,
  &quot;title&quot;: &quot;Easy documentation with Docsy&quot;,
  &quot;linkTitle&quot;: &quot;Announcing Docsy&quot;,
  &quot;description&quot;: &quot;The Docsy Hugo theme lets project maintainers and contributors focus on content, not on reinventing a website infrastructure from scratch&quot;,
  &quot;author&quot;: &quot;Riona MacNamara&quot;,
  &quot;resources&quot;: [
    {
      &quot;src&quot;: &quot;**.{png,jpg}&quot;,
      &quot;title&quot;: &quot;Image #:counter&quot;,
      &quot;params&quot;: {
        &quot;byline&quot;: &quot;Photo: Riona MacNamara / CC-BY-CA&quot;
      }
    }
  ]
}
```
</code></pre><p>​ 如果您已经复制了示例站点，并且不想要blog 章节，或者想链接到外部博客，只需删除<code>blog</code>子目录即可。</p><h2 id=working-with-top-level-landing-pages-使用顶级着陆页面>Working with top-level landing pages. 使用顶级着陆页面<a class=td-heading-self-link href=#working-with-top-level-landing-pages-%e4%bd%bf%e7%94%a8%e9%a1%b6%e7%ba%a7%e7%9d%80%e9%99%86%e9%a1%b5%e9%9d%a2 aria-label="Heading self-link"></a></h2><p>​ Docsy的<a href=https://github.com/google/docsy/blob/main/layouts/docs/baseof.html>默认页面模板</a>没有左侧导航，适用于为您的站点或其他"着陆"类型页面创建主页。</p><h3 id=自定义示例站点页面>自定义示例站点页面<a class=td-heading-self-link href=#%e8%87%aa%e5%ae%9a%e4%b9%89%e7%a4%ba%e4%be%8b%e7%ab%99%e7%82%b9%e9%a1%b5%e9%9d%a2 aria-label="Heading self-link"></a></h3><p>​ 如果你已经复制了示例站点，那么在 <code>content/en/_index.html</code> 文件中你已经有了一个简单的站点着陆页。它由 Docsy 提供的 Hugo shortcode <a href=https://t.is-local.org/zh-cn/docs/adding-content/shortcodes/#shortcode-blocks>页面块</a>组成。</p><p>​ 要自定义大的着陆图片（在一个<a href=https://t.is-local.org/zh-cn/docs/adding-content/shortcodes/#blockscover>封面（cover）</a>块中），请将项目中的 <code>content/en/featured-background.jpg</code> 文件替换为你自己的图片（文件名中必须包含<code>background</code>），你可以添加或删除尽可能多的块，以及添加你自己的内容。</p><p>​ 示例站点还有一个About 页面，在 <code>content/en/about/_index.html</code> 中使用相同的 Docsy 模板。同样，它由<a href=https://t.is-local.org/zh-cn/docs/adding-content/shortcodes/#shortcode-blocks>页面块</a>组成，包括 <code>content/en/about/featured-background.jpg</code> 中的另一个背景图片。与站点着陆页一样，你可以替换图片、删除或添加块，或者添加你自己的内容。</p><h3 id=构建你自己的着陆页>构建你自己的着陆页<a class=td-heading-self-link href=#%e6%9e%84%e5%bb%ba%e4%bd%a0%e8%87%aa%e5%b7%b1%e7%9a%84%e7%9d%80%e9%99%86%e9%a1%b5 aria-label="Heading self-link"></a></h3><p>​ 如果你刚刚使用了这个主题，你仍然可以使用所有 Docsy 提供的<a href=https://t.is-local.org/zh-cn/docs/adding-content/shortcodes/#shortcode-blocks>页面块</a>（或任何其他你想要的内容）在相同的文件位置构建自己的着陆页。</p><h2 id=添加community-页面>添加community 页面<a class=td-heading-self-link href=#%e6%b7%bb%e5%8a%a0community-%e9%a1%b5%e9%9d%a2 aria-label="Heading self-link"></a></h2><p>​ <code>community</code>着陆页模板有样板内容，自动填充项目名称和在 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中指定的社区链接，为你的用户提供快速访问资源的链接，帮助他们参与你的项目。同样的链接也默认添加到你的站点页脚。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  links:
    user:
      - name: User mailing list
        url: 'https://example.org/mail'
        icon: fa fa-envelope
        desc: Discussion and help from your fellow users
      - name: Twitter
        url: 'https://example.org/twitter'
        icon: fab fa-twitter
        desc: Follow us on Twitter to get the latest news!
      - name: Stack Overflow
        url: 'https://example.org/stack'
        icon: fab fa-stack-overflow
        desc: Practical questions and curated answers
    developer:
      - name: GitHub
        url: 'https://github.com/google/docsy'
        icon: fab fa-github
        desc: Development takes place here!
      - name: Slack
        url: 'https://example.org/slack'
        icon: fab fa-slack
        desc: Chat with other project developers
      - name: Developer mailing list
        url: 'https://example.org/mail'
        icon: fa fa-envelope
        desc: Discuss development issues around the project
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.links]
# End user relevant links. These will show up on left side of footer and in the community page if you have one.
[[params.links.user]]
	name = &quot;User mailing list&quot;
	url = &quot;https://example.org/mail&quot;
	icon = &quot;fa fa-envelope&quot;
        desc = &quot;Discussion and help from your fellow users&quot;
[[params.links.user]]
	name =&quot;Twitter&quot;
	url = &quot;https://example.org/twitter&quot;
	icon = &quot;fab fa-twitter&quot;
        desc = &quot;Follow us on Twitter to get the latest news!&quot;
[[params.links.user]]
	name = &quot;Stack Overflow&quot;
	url = &quot;https://example.org/stack&quot;
	icon = &quot;fab fa-stack-overflow&quot;
        desc = &quot;Practical questions and curated answers&quot;
# Developer relevant links. These will show up on right side of footer and in the community page if you have one.
[[params.links.developer]]
	name = &quot;GitHub&quot;
	url = &quot;https://github.com/google/docsy&quot;
	icon = &quot;fab fa-github&quot;
        desc = &quot;Development takes place here!&quot;
[[params.links.developer]]
	name = &quot;Slack&quot;
	url = &quot;https://example.org/slack&quot;
	icon = &quot;fab fa-slack&quot;
        desc = &quot;Chat with other project developers&quot;
[[params.links.developer]]
	name = &quot;Developer mailing list&quot;
	url = &quot;https://example.org/mail&quot;
	icon = &quot;fa fa-envelope&quot;
        desc = &quot;Discuss development issues around the project&quot;
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;links&quot;: {
      &quot;user&quot;: [
        {
          &quot;name&quot;: &quot;User mailing list&quot;,
          &quot;url&quot;: &quot;https://example.org/mail&quot;,
          &quot;icon&quot;: &quot;fa fa-envelope&quot;,
          &quot;desc&quot;: &quot;Discussion and help from your fellow users&quot;
        },
        {
          &quot;name&quot;: &quot;Twitter&quot;,
          &quot;url&quot;: &quot;https://example.org/twitter&quot;,
          &quot;icon&quot;: &quot;fa-brands fa-twitter&quot;,
          &quot;desc&quot;: &quot;Follow us on Twitter to get the latest news!&quot;
        },
        {
          &quot;name&quot;: &quot;Stack Overflow&quot;,
          &quot;url&quot;: &quot;https://example.org/stack&quot;,
          &quot;icon&quot;: &quot;fa-brands fa-stack-overflow&quot;,
          &quot;desc&quot;: &quot;Practical questions and curated answers&quot;
        }
      ],
      &quot;developer&quot;: [
        {
          &quot;name&quot;: &quot;GitHub&quot;,
          &quot;url&quot;: &quot;https://github.com/google/docsy&quot;,
          &quot;icon&quot;: &quot;fa-brands fa-github&quot;,
          &quot;desc&quot;: &quot;Development takes place here!&quot;
        },
        {
          &quot;name&quot;: &quot;Slack&quot;,
          &quot;url&quot;: &quot;https://example.org/slack&quot;,
          &quot;icon&quot;: &quot;fa-brands fa-slack&quot;,
          &quot;desc&quot;: &quot;Chat with other project developers&quot;
        },
        {
          &quot;name&quot;: &quot;Developer mailing list&quot;,
          &quot;url&quot;: &quot;https://example.org/mail&quot;,
          &quot;icon&quot;: &quot;fa fa-envelope&quot;,
          &quot;desc&quot;: &quot;Discuss development issues around the project&quot;
        }
      ]
    }
  }
}
```
</code></pre><p>​ 如果你正在创建自己的站点，想要使用这个模板添加页面，请在你的内容根目录中添加一个 <code>/community/_index.md</code> 文件。如果你复制了示例站点，并不想要一个社区页面，请在项目存储库中删除 <code>/content/en/community/</code> 目录。</p><h2 id=添加静态内容>添加静态内容<a class=td-heading-self-link href=#%e6%b7%bb%e5%8a%a0%e9%9d%99%e6%80%81%e5%86%85%e5%ae%b9 aria-label="Heading self-link"></a></h2><p>​ 你可能想要将一些非 Hugo 构建的内容与你的站点一起提供：例如，如果你使用 Doxygen、Javadoc 或其他文档生成工具生成参考文档。</p><p>​ 要添加静态内容以"原样（as-is）&ldquo;提供，请在站点的 <code>static</code> 目录中添加文件夹和/或文件。在部署站点时，该目录中的内容将在站点根路径下提供服务。因此，例如，如果你在 <code>/static/reference/cpp/</code> 添加了内容，用户可以在 <code>http://{server-url}/reference/cpp/</code> 访问该内容，你可以从其他页面在 <code>/reference/cpp/{file name}</code> 上链接到该目录中的页面。</p><p>​ 你还可以在该目录中使用你的项目使用的其他文件，包括图像文件。你可以在<a href=https://gohugo.io/content-management/static-files/>静态文件</a>中了解更多关于提供静态文件的信息，包括配置多个静态内容目录。</p><h2 id=rss-订阅>RSS 订阅<a class=td-heading-self-link href=#rss-%e8%ae%a2%e9%98%85 aria-label="Heading self-link"></a></h2><p>​ Hugo 默认会为主页和任何章节创建一个 RSS 订阅。对于主 RSS 订阅，你可以通过设置 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中的站点参数来控制包含哪些章节。这是默认配置：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
rss_sections:
  - blog
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
rss_sections = [&quot;blog&quot;]
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;rss_sections&quot;: [
    &quot;blog&quot;
  ]
}
```
</code></pre><p>​ 要禁用所有RSS订阅，请在<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>中添加以下内容：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
disableKinds:
  - RSS
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
disableKinds = [&quot;RSS&quot;]
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;disableKinds&quot;: [
    &quot;RSS&quot;
  ]
}
```
</code></pre><blockquote><p>注意</p><p>​ 如果您已启用我们的<a href=https://t.is-local.org/zh-cn/docs/adding-content/print/>打印功能</a>或以其他方式在<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>中指定了章节级别的输出格式，请确保"RSS"被列为输出格式，否则您将无法获得章节级别的RSS订阅（并且您的博客章节将不会有漂亮的橙色RSS按钮）。您的<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 规范将覆盖Hugo用于章节的默认<a href=https://gohugo.io/templates/output-formats/>输出格式</a>，这些格式为HTML和RSS。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
outputs:
  section:
    - HTML
    - RSS
    - print
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[outputs]
section = [ &quot;HTML&quot;, &quot;RSS&quot;, &quot;print&quot; ]
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;outputs&quot;: {
    &quot;section&quot;: [
      &quot;HTML&quot;,
      &quot;RSS&quot;,
      &quot;print&quot;
    ]
  }
}
```
</code></pre></blockquote><h2 id=sitemap>Sitemap<a class=td-heading-self-link href=#sitemap aria-label="Heading self-link"></a></h2><p>​ Hugo默认为您的生成站点创建<code>sitemap.xml</code>文件：例如，这是<a href=https://t.is-local.org/zh-cn/sitemap.xml>本站的sitemap</a>。</p><p>​ 您可以在<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>中配置您的sitemap更新频率、sitemap文件名和默认页面优先级：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
sitemap:
  changefreq: monthly
  filename: sitemap.xml
  priority: 0.5
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[sitemap]
  changefreq = &quot;monthly&quot;
  filename = &quot;sitemap.xml&quot;
  priority = 0.5
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;sitemap&quot;: {
    &quot;changefreq&quot;: &quot;monthly&quot;,
    &quot;filename&quot;: &quot;sitemap.xml&quot;,
    &quot;priority&quot;: 0.5
  }
}
```
</code></pre><p>​ 要为给定页面覆盖这些值，请在页面的前置元数据中指定：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: &quot;Adding Content&quot;
linkTitle: &quot;Adding Content&quot;
weight: 1
description: &gt;
    Add different types of content to your Docsy site.
sitemap:
  priority: 1.0
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;Adding Content&quot;
linkTitle = &quot;Adding Content&quot;
weight = 1
description = '''
Add different types of content to your Docsy site.
'''
[sitemap]
priority = 1
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;Adding Content&quot;,
  &quot;linkTitle&quot;: &quot;Adding Content&quot;,
  &quot;weight&quot;: 1,
  &quot;description&quot;: &quot;Add different types of content to your Docsy site.\n&quot;,
  &quot;sitemap&quot;: {
    &quot;priority&quot;: 1
  }
}
```
</code></pre><p>​ 要了解有关配置站点地图的更多信息，请参阅<a href=https://gohugo.io/templates/sitemap-template/>Sitemap模板</a>。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-53157a70b4db311e46eacf5b7c7cf0c2>2.2 - 外观与感受</h1><p>​ 自定义您的站点颜色、字体、代码高亮等等。</p><p>​ 默认情况下，使用 Docsy 的站点具有主题的默认字体、颜色和一般外观和感受。然而，如果您想要自己的颜色方案（您可能会想要！），您可以使用自己项目特定的值非常容易地覆盖主题默认值——Hugo 在查找构建您的站点的信息时将首先查找您的项目文件。并且，由于 Docsy 使用 Bootstrap 4 和 SCSS 进行样式化，您可以在其特殊的 SCSS 项目变量文件中仅覆盖单个值（如项目颜色和字体），或通过创建自己的样式进行更进一步的定制。</p><p>​ Docsy 还提供了使用 Chroma 或 Prism 进行高亮显示代码块的选项。</p><h2 id=项目样式文件>项目样式文件<a class=td-heading-self-link href=#%e9%a1%b9%e7%9b%ae%e6%a0%b7%e5%bc%8f%e6%96%87%e4%bb%b6 aria-label="Heading self-link"></a></h2><p>​ 要自定义项目的外观和感受，请创建以下任一 Docsy 占位符文件的您自己的版本（注意下划线后缀 <code>_project.scss</code>）：</p><ul><li><code>assets/scss/_variables_project.scss</code> 是您添加项目特定的主题变量定义（如<a href=https://t.is-local.org/zh-cn/docs/adding-content/lookandfeel/#site-colors>站点颜色</a>）以及您想要设置的任何其他 Bootstrap 变量值的地方。您可以在 <code>assets/scss/_variables.scss</code> 中找到 Docsy 主题变量及其默认值的列表。有关其他 Bootstrap 4 变量的信息，请参见<a href=https://getbootstrap.com/docs/4.1/getting-started/theming/#variable-defaults>变量默认值</a>和 Bootstrap 的 <a href=https://github.com/twbs/bootstrap/blob/v4-dev/scss/_variables.scss>v4-dev/scss/_variables.scss</a> 文件。</li><li><code>assets/scss/_styles_project.scss</code> 是您可以添加自己的自定义 SCSS 样式的地方，包括覆盖 Docsy 主题 SCSS 文件中的任何样式。</li></ul><blockquote><p>提示</p><p>​ 在服务器模式下运行时未启用 PostCSS（CSS 浏览器前缀自动添加）（速度较慢），因此 Chrome 是推荐的开发选择。</p></blockquote><h2 id=站点颜色>站点颜色<a class=td-heading-self-link href=#%e7%ab%99%e7%82%b9%e9%a2%9c%e8%89%b2 aria-label="Heading self-link"></a></h2><p>​ 要自定义您的站点颜色，请在 <code>assets/scss/_variables_project.scss</code> 中添加 SCSS 变量覆盖。例如，您可以设置主色和次要色：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scss data-lang=scss><span style=display:flex><span><span style=color:#000>$primary</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>#390040</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000>$secondary</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>#A23B72</span><span style=color:#000;font-weight:700>;</span>
</span></span></code></pre></div><p>​ 该主题默认启用渐变背景 (<code>$enable-gradients</code>) 和阴影 (<code>$enable-shadows</code>) 等功能。您也可以在项目变量文件中通过将变量设置为 <code>false</code> 来切换这些功能。</p><h2 id=字体>字体<a class=td-heading-self-link href=#%e5%ad%97%e4%bd%93 aria-label="Heading self-link"></a></h2><p>​ 该主题使用<a href=https://fonts.google.com/specimen/Open+Sans>Open Sans</a> 作为其主要字体。要禁用 Google Fonts 并使用系统字体，请在 <code>assets/scss/_variables_project.scss</code> 中设置此 SCSS 变量：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scss data-lang=scss><span style=display:flex><span><span style=color:#000>$td-enable-google-fonts</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>false</span><span style=color:#000;font-weight:700>;</span>
</span></span></code></pre></div><p>​ 要配置其他 Google 字体：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scss data-lang=scss><span style=display:flex><span><span style=color:#000>$google_font_name</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Open Sans&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000>$google_font_family</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Open+Sans:300,300i,400,400i,700,700i&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span></code></pre></div><p>​ 请注意，如果您决定选择具有不同权重的字体（在内置配置中，这是 <code>300</code>（轻），<code>400</code>（中）和 <code>700</code>（粗）），您还需要调整与权重相关的变量，即以 <code>$font-weight-</code> 开头的变量。</p><h2 id=css-实用程序>CSS 实用程序<a class=td-heading-self-link href=#css-%e5%ae%9e%e7%94%a8%e7%a8%8b%e5%ba%8f aria-label="Heading self-link"></a></h2><p>​ 有关可用 CSS 实用程序类的文档，请参见 <a href=https://getbootstrap.com/>Bootstrap 文档</a>。这个主题在这个领域自己添加的很少。但是，我们添加了一些颜色状态的 CSS 类，这些类在动态上下文中可能会很有用：</p><ul><li><code>.-bg-&lt;color></code></li><li><code>.-text-&lt;color></code></li></ul><p>​ 例如，当您不知道<code>primary</code>色是暗色还是亮色时，您可以使用这些类将文本样式为适当的颜色，以确保正确的颜色对比度。当您收到颜色代码作为<a href=https://t.is-local.org/zh-cn/docs/adding-content/shortcodes/>短代码</a>参数时，它们也很有用。</p><p>​ <code>&lt;color></code> 的值可以是任何颜色名称，例如 <code>primary</code>、<code>white</code>、<code>dark</code>、<code>warning</code>、<code>light</code>、<code>success</code>、<code>300</code>、<code>blue</code>、<code>orange</code> 等。</p><p>​ 当您使用 <code>.-bg-&lt;color></code> 时，文本颜色将调整以获得适当的对比度：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;-bg-primary p-3 display-4&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Background: Primary<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;-bg-200 p-3 display-4&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Background: Gray 200<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p><img alt=image-20230501100609188 src=LookAndFeel_img/image-20230501100609188.png></p><p><code>.-text-&lt;color></code> 仅设置文本颜色：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;-text-blue pt-3 display-4&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Text: Blue<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p><img alt=image-20230501100621386 src=LookAndFeel_img/image-20230501100621386.png></p><h2 id=使用chroma进行代码高亮>使用Chroma进行代码高亮<a class=td-heading-self-link href=#%e4%bd%bf%e7%94%a8chroma%e8%bf%9b%e8%a1%8c%e4%bb%a3%e7%a0%81%e9%ab%98%e4%ba%ae aria-label="Heading self-link"></a></h2><p>​ 从Hugo版本0.60开始，您可以使用<a href=https://github.com/alecthomas/chroma>Chroma</a>选择一系列代码块高亮和颜色样式，并将其默认应用于您的围栏代码块。如果您复制了最近的<code>config.toml</code>，则您的站点将使用Tango（像这个站点一样），否则Hugo默认为Monokai。您可以使用您的<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>切换到任何<a href=https://xyproto.github.io/splash/docs/all.html>可用的Chroma样式</a>（包括我们的Docsy默认Tango）。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
markup:
  goldmark:
    renderer:
      unsafe: true
  highlight:
    style: tango
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[markup]
  [markup.goldmark]
    [markup.goldmark.renderer]
      unsafe = true
  [markup.highlight]
      # See a complete list of available styles at https://xyproto.github.io/splash/docs/all.html
      style = &quot;tango&quot;
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;markup&quot;: {
    &quot;goldmark&quot;: {
      &quot;renderer&quot;: {
        &quot;unsafe&quot;: true
      }
    },
    &quot;highlight&quot;: {
      &quot;style&quot;: &quot;tango&quot;
    }
  }
}
```
</code></pre><p>​ 默认情况下，未指定语言的代码块不会应用代码高亮样式，而是会获得Docsy的默认灰色背景黑色文本的样式。如果您希望代码高亮样式适用于所有代码块，即使没有语言，请在您的<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>中的<code>[markup.highlight]</code>下取消注释或添加以下行。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
guessSyntax: true
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
# Uncomment if you want your chosen highlight style used for code blocks without a specified language
guessSyntax = true
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;guessSyntax&quot;: true
}
```
</code></pre><p>​ 您可以在<a href=https://gohugo.io/content-management/syntax-highlighting/>语法高亮</a>中了解有关在Hugo中使用Chroma进行代码高亮的更多信息。</p><h2 id=使用prism进行代码高亮>使用Prism进行代码高亮<a class=td-heading-self-link href=#%e4%bd%bf%e7%94%a8prism%e8%bf%9b%e8%a1%8c%e4%bb%a3%e7%a0%81%e9%ab%98%e4%ba%ae aria-label="Heading self-link"></a></h2><p>​ 您还可以在您的<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>中启用Prism语法高亮：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
prism_syntax_highlighting: true
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
# Enable syntax highlighting and copy buttons on code blocks with Prism
prism_syntax_highlighting = true
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;prism_syntax_highlighting&quot;: true
}
```
</code></pre><p>​ 启用此选项后，您的站点将使用<a href=https://prismjs.com/index.html>Prism</a>而不是Chroma进行代码块高亮。</p><p>​ Prism是一种流行的开源语法高亮器，支持200多种<a href=https://prismjs.com/index.html#supported-languages>语言</a>和各种<a href=https://prismjs.com/index.html#plugins>插件</a>。</p><p>​ Docsy包含了用于基本Prism配置的JavaScript和CSS文件，支持：</p><ul><li>使用Prism<code>Default</code>主题样式化的代码块</li><li>代码块上的复制到剪贴板按钮</li><li>为许多常见语言指定的语法高亮，如下面的Prism下载链接中所指定的，<a href="https://prismjs.com/download.html#themes=prism&languages=markup+css+clike+javascript+bash+c+csharp+cpp+go+java+markdown+python+scss+sql+toml+yaml&plugins=toolbar+copy-to-clipboard">定制您的下载</a>。</li></ul><h3 id=没有语言的代码块>没有语言的代码块<a class=td-heading-self-link href=#%e6%b2%a1%e6%9c%89%e8%af%ad%e8%a8%80%e7%9a%84%e4%bb%a3%e7%a0%81%e5%9d%97 aria-label="Heading self-link"></a></h3><p>​ 默认情况下，Prism代码高亮样式不会应用于没有指定语言的代码块，而是获得Docsy的默认灰色背景黑色文本的样式。要将Prism样式应用于没有语言或不受Prism支持的语言的代码块，请在三个反引号后指定<code>none</code>作为语言。</p><h3 id=扩展prism以支持其他语言或插件>扩展Prism以支持其他语言或插件<a class=td-heading-self-link href=#%e6%89%a9%e5%b1%95prism%e4%bb%a5%e6%94%af%e6%8c%81%e5%85%b6%e4%bb%96%e8%af%ad%e8%a8%80%e6%88%96%e6%8f%92%e4%bb%b6 aria-label="Heading self-link"></a></h3><p>​ 如果包含的Prism配置不能满足您的要求，并且您想使用其他语言或插件，您可以使用您自己的文件替换包含的文件。</p><ol><li>从<a href=https://prismjs.com/download.html>https://prismjs.com/download.html</a>下载您自己的Prism JS和CSS文件</li><li>用您下载的文件替换包含的Prism JS和CSS文件：<ul><li>将JavaScript文件复制到<code>static/js/prism.js</code></li><li>将CSS文件复制到<code>static/css/prism.css</code></li></ul></li></ol><h2 id=导航栏>导航栏<a class=td-heading-self-link href=#%e5%af%bc%e8%88%aa%e6%a0%8f aria-label="Heading self-link"></a></h2><p>​ 对于包含<a href=https://t.is-local.org/zh-cn/docs/adding-content/shortcodes/#blockscover>blocks/cover</a> shortcode的页面（如大多数主页），只要主题图片没有向上滚动到导航栏上方，导航栏就是半透明的。例如，请参阅<a href=https://t.is-local.org/zh-cn/about/>About Docsy</a>页面。这种最初的半透明设置确保主题图片最大程度地可见。</p><p>​ 在主题图片滚过导航栏之后，导航栏（不透明）的背景色被设置为站点的<a href=https://t.is-local.org/zh-cn/docs/adding-content/lookandfeel/#site-colors>主色调</a>。</p><p>​ 有些主题图片的导航栏条目的文本可能难以阅读。在这些情况下，您可以通过在站点配置文件中将<code>params.ui.navbar_translucent_over_cover_disable</code>选项设置为<code>true</code>来禁用导航栏的半透明效果。</p><h3 id=美化您的项目标识和名称>美化您的项目标识和名称<a class=td-heading-self-link href=#%e7%be%8e%e5%8c%96%e6%82%a8%e7%9a%84%e9%a1%b9%e7%9b%ae%e6%a0%87%e8%af%86%e5%92%8c%e5%90%8d%e7%a7%b0 aria-label="Heading self-link"></a></h3><p>​ 默认的Docsy导航栏（<code>.td-navbar</code>）显示您的站点标识，包括以下内容：</p><ol><li><p><a href=https://t.is-local.org/zh-cn/docs/adding-content/iconsimages/#add-your-logo>您的logo</a>，作为内联SVG包含在导航栏中，并由<code>.td-navbar .navbar-brand svg</code>样式化。有关样式详细信息，请参见<a href=https://github.com/google/docsy/blob/main/assets/scss/_nav.scss>_nav.scss</a>。</p><p>为确保您的logo 正确显示，您可能需要调整其大小并确保它没有高度和宽度属性，以便其大小完全响应。根据需要<a href=https://t.is-local.org/zh-cn/docs/adding-content/lookandfeel/#project-style-files>覆盖</a><code>.td-navbar .navbar-brand svg</code>或（等效地）<code>.td-navbar .navbar-brand__logo</code>的默认样式。</p></li><li><p>您的项目名称，即站点<code>title</code>。如果您不希望您的项目名称出现（例如，因为您的标志是或包含<a href=https://en.wikipedia.org/wiki/Wordmark>字体商标</a>），则可以将以下自定义样式添加到您<a href=https://t.is-local.org/zh-cn/docs/adding-content/lookandfeel/#project-style-files>项目的样式</a>中：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#000;font-weight:700>.</span><span style=color:#000>td-navbar</span> <span style=color:#000;font-weight:700>.</span><span style=color:#000>navbar-brand__name</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>display</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>none</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div></li></ol><h2 id=表格>表格<a class=td-heading-self-link href=#%e8%a1%a8%e6%a0%bc aria-label="Heading self-link"></a></h2><p>​ Docsy通过类<code>.td-table</code>对所有表格应用以下样式：</p><ul><li><p><a href=https://getbootstrap.com/docs/5.3/content/tables/>Bootstrap表格</a>样式：</p><ul><li><code>.table</code></li><li><code>.table-striped</code></li><li><code>.table-responsive</code></li></ul></li><li><p><code>display: block</code>，这对于表格响应性很重要。</p></li></ul><p>​ 这种样式配置让您仅使用Markdown即可获得响应式表格，而无需将表格包装在<code>&lt;div></code>中。然而，这意味着所有表格的<code>display</code>设置为<code>block</code>。如果您不希望这样，请为表格创建自己的自定义样式。</p><blockquote><p>注意</p><p>​ 我们的表格样式违反了<a href=https://getbootstrap.com/docs/5.3/content/tables/#responsive-tables>Bootstrap建议将表格</a>包装在<code>.table-responsive</code>中 —— 然而，我们认为让用户仅使用Markdown表格语法创建响应式表格更方便。</p></blockquote><p>​ 要在没有 Docsy 样式的情况下呈现表格，请将 <code>.td-initial</code> 类应用于表格。从生成的 <code>&lt;table></code> 样式基础上，更容易应用自定义样式（而不是试图撤消 Docsy 表格样式），如以下示例所示：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>| 形状      | 边数            |
</span></span><span style=display:flex><span>| -------- | --------------- |
</span></span><span style=display:flex><span>| Triangle | 3               |
</span></span><span style=display:flex><span>| Square   | 4               |
</span></span><span style=display:flex><span>{.td-initial .my-dark-table-style}
</span></span></code></pre></div><p>​ 上面的示例使用了 <a href=https://discourse.gohugo.io/t/markdown-attributes/41783>Markdown 属性</a>语法，并可能渲染为如下：</p><table><thead><tr><th>形状</th><th>边数</th></tr></thead><tbody><tr><td>Triangle</td><td>3</td></tr><tr><td>Square</td><td>4</td></tr></tbody></table><h2 id=自定义模板>自定义模板<a class=td-heading-self-link href=#%e8%87%aa%e5%ae%9a%e4%b9%89%e6%a8%a1%e6%9d%bf aria-label="Heading self-link"></a></h2><h3 id=将代码添加到-head-或-before-body-end>将代码添加到 head 或 before body end<a class=td-heading-self-link href=#%e5%b0%86%e4%bb%a3%e7%a0%81%e6%b7%bb%e5%8a%a0%e5%88%b0-head-%e6%88%96-before-body-end aria-label="Heading self-link"></a></h3><p>​ 如果您需要在每个页面的 <code>head</code> 部分添加一些代码（CSS 导入、cookie 同意或类似），请将 <code>head-end.html</code> 局部添加到您的项目中：</p><pre tabindex=0><code>layouts/partials/hooks/head-end.html
</code></pre><p>​ 并在该文件中添加您需要的代码。您的局部代码会自动包含在主题局部<code>head.html</code> 结束前。本主题版本的 <code>head-end.html</code> 为空。</p><p>​ 类似地，如果您想在 <code>body</code> end 前添加一些代码，请创建以下文件的自己的版本：</p><pre tabindex=0><code>layouts/partials/hooks/body-end.html
</code></pre><p>​ 此文件中的任何代码都会自动包含在本主题局部 <code>scripts.html</code> 的结尾。</p><p>​ <code>head.html</code> 和 <code>scripts.html</code> 都用于构建 Docsy 的<a href=https://github.com/google/docsy/blob/main/layouts/_default/baseof.html>基本页面布局</a>，该布局被所有其他页面模板所使用：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!doctype html&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span> <span style=color:#c4a000>lang</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;{{ .Site.Language.Lang }}&#34;</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;no-js&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    {{ partial &#34;head.html&#34; . }}
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>body</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;td-{{ .Kind }}&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>header</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      {{ partial &#34;navbar.html&#34; . }}
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>header</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;container-fluid td-default td-outer&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>main</span> <span style=color:#c4a000>role</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;main&#34;</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;td-main&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        {{ block &#34;main&#34; . }}{{ end }}
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>main</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      {{ partial &#34;footer.html&#34; . }}
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    {{ partialCached &#34;scripts.html&#34; . }}
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-50a6beabbb3d2a3c7a9bca4ec87eca43>2.3 - 导航和搜索</h1><p>​ 为您的 Docsy 站点自定义站点导航和搜索。</p><h2 id=顶层菜单>顶层菜单<a class=td-heading-self-link href=#%e9%a1%b6%e5%b1%82%e8%8f%9c%e5%8d%95 aria-label="Heading self-link"></a></h2><p>​ 顶层菜单（出现在整个站点的顶部导航栏中）使用您站点的<a href=https://gohugo.io/content-management/menus/>主菜单（<code>main</code> menu）</a>。所有的 Hugo 站点都有一个主菜单（<code>main</code> menu）项数组，可以通过 <code>.Site.Menus</code> 站点变量进行访问，通过页面前置元数据或您站点的 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 进行填充。</p><p>​ 要将页面或章节添加到此菜单中，请将其添加到站点的主菜单（<code>main</code> menu）中，无论是在 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中还是在目标页面的前置元数据中（在 <code>_index.md</code> 或 <code>_index.html</code> 中作为章节着陆页面）。例如，这里是我们如何将 Documentation 章节着陆页添加到该站点的主菜单中的示例：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: &quot;Welcome to Docsy&quot;
linkTitle: &quot;Documentation&quot;
menu:
  main:
    weight: 20
    pre: &lt;i class='fa-solid fa-book'&gt;&lt;/i&gt;
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;Welcome to Docsy&quot;
linkTitle = &quot;Documentation&quot;

[menu.main]
weight = 20
pre = &quot;&lt;i class='fa-solid fa-book'&gt;&lt;/i&gt;&quot;
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;Welcome to Docsy&quot;,
  &quot;linkTitle&quot;: &quot;Documentation&quot;,
  &quot;menu&quot;: {
    &quot;main&quot;: {
      &quot;weight&quot;: 20,
      &quot;pre&quot;: &quot;&lt;i class='fa-solid fa-book'&gt;&lt;/i&gt;&quot;
    }
  }
}
```
</code></pre><p>​ 该菜单按页面<code>weight</code>从左到右排序。例如，页面<code>weight: 30</code> 的章节索引或页面将出现在菜单中的 Documentation 章节之后，而<code>weight: 10</code>的页面将出现在它之前。</p><p>​ 如果要将外部站点的链接添加到此菜单中，请在 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中添加，指定<code>weight</code>。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
menu:
  main:
    - name: GitHub
      weight: 50
      url: 'https://github.com/google/docsy/'
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[[menu.main]]
    name = &quot;GitHub&quot;
    weight = 50
    url = &quot;https://github.com/google/docsy/&quot;
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;menu&quot;: {
    &quot;main&quot;: [
      {
        &quot;name&quot;: &quot;GitHub&quot;,
        &quot;weight&quot;: 50,
        &quot;url&quot;: &quot;https://github.com/google/docsy/&quot;
      }
    ]
  }
}
```
</code></pre><h3 id=将图标添加到顶层菜单>将图标添加到顶层菜单<a class=td-heading-self-link href=#%e5%b0%86%e5%9b%be%e6%a0%87%e6%b7%bb%e5%8a%a0%e5%88%b0%e9%a1%b6%e5%b1%82%e8%8f%9c%e5%8d%95 aria-label="Heading self-link"></a></h3><p>​ 如 <a href=https://gohugo.io/content-management/menus/#add-non-content-entries-to-a-menu>Hugo 文档</a>中所述，您可以使用站点的 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 或页面前置元数据中定义的主菜单项的 <code>pre</code> 和/或 <code>post</code> 参数为顶层菜单项添加图标。例如，以下配置将 GitHub 图标添加到 GitHub 菜单项，并添加 <code>New!</code> 警报以指示这是菜单的新添加。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
menu:
  main:
    - name: GitHub
      weight: 50
      url: 'https://github.com/google/docsy/'
      pre: &lt;i class=&quot;fa-brands fa-github&quot;&gt;&lt;/i&gt;
      post: &lt;span class='alert'&gt;New!&lt;/span&gt;
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[[menu.main]]
    name = &quot;GitHub&quot;
    weight = 50
    url = &quot;https://github.com/google/docsy/&quot;
    pre = &quot;&lt;i class=&quot;fa-brands fa-github&quot;&gt;&lt;/i&gt;&quot;
    post = &quot;&lt;span class='alert'&gt;New!&lt;/span&gt;&quot;
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;menu&quot;: {
    &quot;main&quot;: [
      {
        &quot;name&quot;: &quot;GitHub&quot;,
        &quot;weight&quot;: 50,
        &quot;url&quot;: &quot;https://github.com/google/docsy/&quot;,
        &quot;pre&quot;: &quot;&lt;i class=&quot;fa-brands fa-github&quot;&gt;&lt;/i&gt;&quot;,
        &quot;post&quot;: &quot;&lt;span class='alert'&gt;New!&lt;/span&gt;&quot;
      }
    ]
  }
}
```
</code></pre><p>​ 您可以在<a href="https://fontawesome.com/icons?d=gallery&p=2">FontAwesome文档</a>中找到完整的图标列表。Docsy主题默认包含免费的FontAwesome图标。</p><h3 id=添加版本下拉菜单>添加版本下拉菜单<a class=td-heading-self-link href=#%e6%b7%bb%e5%8a%a0%e7%89%88%e6%9c%ac%e4%b8%8b%e6%8b%89%e8%8f%9c%e5%8d%95 aria-label="Heading self-link"></a></h3><p>​ 如果在<code>hugo.toml</code>中添加了一些<code>[params.versions]</code>，Docsy主题将在顶级菜单中添加一个版本选择器下拉菜单。</p><p>​ 您可以在<a href=https://t.is-local.org/zh-cn/docs/adding-content/versioning/>版本控制指南</a>中了解更多信息。</p><h3 id=添加语言下拉菜单>添加语言下拉菜单<a class=td-heading-self-link href=#%e6%b7%bb%e5%8a%a0%e8%af%ad%e8%a8%80%e4%b8%8b%e6%8b%89%e8%8f%9c%e5%8d%95 aria-label="Heading self-link"></a></h3><p>​ 如果在<code>hugo.toml</code>中配置了多种语言，Docsy主题将在顶级菜单中添加一个语言选择器下拉菜单。选择语言将带用户到当前页面的翻译版本，或给定语言的主页。</p><p>​ 您可以在<a href=https://t.is-local.org/zh-cn/docs/language/>多语言支持</a>中了解更多信息。</p><h2 id=章节菜单>章节菜单<a class=td-heading-self-link href=#%e7%ab%a0%e8%8a%82%e8%8f%9c%e5%8d%95 aria-label="Heading self-link"></a></h2><p>​ 章节菜单位于<code>docs</code>章节的左侧，自动从<code>content</code>树中构建。与顶级菜单一样，按页面或章节索引<code>weight</code>（或按页面创建<code>date</code>，如果未设置<code>weight</code>）排序，页面或索引的<code>title</code>或<code>linkTitle</code>（如果不同）作为菜单中的链接标题。如果一个章节子文件夹除了<code>_index.md</code>或<code>_index.html</code>之外还有其他页面，那么这些页面将作为子菜单出现，再次按<code>weight</code>排序。例如，这是这个页面的元数据，显示它的<code>weight</code>和<code>title</code>：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: &quot;Navigation and Search&quot;
linkTitle: &quot;Navigation and Search&quot;
date: 2017-01-05
weight: 3
description: &gt;
    Customize site navigation and search for your Docsy site.
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;Navigation and Search&quot;
linkTitle = &quot;Navigation and Search&quot;
date = 2017-01-05T00:00:00.000Z
weight = 3
description = '''
Customize site navigation and search for your Docsy site.
'''
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;Navigation and Search&quot;,
  &quot;linkTitle&quot;: &quot;Navigation and Search&quot;,
  &quot;date&quot;: &quot;2017-01-05T00:00:00.000Z&quot;,
  &quot;weight&quot;: 3,
  &quot;description&quot;: &quot;Customize site navigation and search for your Docsy site.\n&quot;
}
```
</code></pre><p>​ 要从左侧导航菜单中隐藏页面或章节，请在前置元数据中设置<code>toc_hide: true</code>。</p><p>​ 要从<a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#docs-section-landing-pages>文档章节着落页</a>的章节摘要中隐藏一个页面，请在该页面的前置元数据中设置<code>hide_summary: true</code>。如果您想从目录菜单和章节摘要列表中隐藏一个页面，您需要在该页面的前置元数据中将<code>toc_hide</code>和<code>hide_summary</code>都设置为<code>true</code>。</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: &quot;My Hidden Page&quot;
weight: 99
toc_hide: true
hide_summary: true
description: &gt;
    Page hidden from both the TOC menu and the section summary list.
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;My Hidden Page&quot;
weight = 99
toc_hide = true
hide_summary = true
description = '''
Page hidden from both the TOC menu and the section summary list.
'''
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;My Hidden Page&quot;,
  &quot;weight&quot;: 99,
  &quot;toc_hide&quot;: true,
  &quot;hide_summary&quot;: true,
  &quot;description&quot;: &quot;Page hidden from both the TOC menu and the section summary list.\n&quot;
}
```
</code></pre><h3 id=章节菜单选项>章节菜单选项<a class=td-heading-self-link href=#%e7%ab%a0%e8%8a%82%e8%8f%9c%e5%8d%95%e9%80%89%e9%a1%b9 aria-label="Heading self-link"></a></h3><p>​ 默认情况下，章节菜单完全展开显示当前章节。对于大型站点，这可能会使左侧导航过长，难以扫描。尝试在<code>hugo.toml</code>中设置站点参数<code>ui.sidebar_menu_compact = true</code>。</p><p>​ 使用紧凑菜单（<code>.ui.sidebar_menu_compact = true</code>），只显示当前页面的祖先、同级和直接后代。您可以使用可选参数<code>.ui.ul_show</code>来设置所需的菜单深度始终可见。例如，使用<code>.ui.ul_show = 1</code>将始终显示第一级菜单。</p><p>​ 除了完全展开和紧凑的菜单选项，您还可以通过在<code>hugo.toml</code>中设置站点参数<code>ui.sidebar_menu_foldable = true</code>来创建折叠菜单。折叠菜单让用户通过在菜单中的父节点旁边切换箭头图标来展开和折叠该菜单章节。</p><p>​ 在大型站点上（默认情况下：>2000页），该章节菜单不会为每个页面生成，而是为整个章节进行缓存。然后使用JS设置标记活动菜单项（和菜单路径）的HTML类。您可以使用可选参数<code>.ui.sidebar_cache_limit</code>调整激活缓存的章节菜单的限制。</p><p>​ 下面的选项卡窗格列出了您可以在项目<a href=https://gohugo.io/getting-started/configuration/#configuration-file>配置文件</a>中定义的菜单章节选项。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  ui:
    sidebar_menu_compact: true
    ul_show: 1
    sidebar_menu_foldable: true
    sidebar_cache_limit: 1000
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.ui]
sidebar_menu_compact = true
ul_show = 1
sidebar_menu_foldable = true
sidebar_cache_limit = 1000
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;ui&quot;: {
      &quot;sidebar_menu_compact&quot;: true,
      &quot;ul_show&quot;: 1,
      &quot;sidebar_menu_foldable&quot;: true,
      &quot;sidebar_cache_limit&quot;: 1000,
    }
  }
}
```
</code></pre><h3 id=向章节菜单添加图标>向章节菜单添加图标<a class=td-heading-self-link href=#%e5%90%91%e7%ab%a0%e8%8a%82%e8%8f%9c%e5%8d%95%e6%b7%bb%e5%8a%a0%e5%9b%be%e6%a0%87 aria-label="Heading self-link"></a></h3><p>​ 您可以通过在页面前置元数据中设置<code>icon</code>参数（例如<code>icon: fa-solid fa-screwdriver-wrench</code>）向侧边栏中的章节菜单添加图标。</p><p>​ 您可以在<a href="https://fontawesome.com/icons?d=gallery&p=2">FontAwesome文档</a>中找到要使用的所有图标的完整列表。Docsy默认包含免费的FontAwesome图标。</p><p>​ 开箱即用，如果您想使用图标，您应该为同一菜单级别上的所有项定义图标，以确保适当的外观。如果该图标以不同的方式使用，则可能需要进行个别CSS调整。</p><h3 id=向章节菜单添加手动链接>向章节菜单添加手动链接<a class=td-heading-self-link href=#%e5%90%91%e7%ab%a0%e8%8a%82%e8%8f%9c%e5%8d%95%e6%b7%bb%e5%8a%a0%e6%89%8b%e5%8a%a8%e9%93%be%e6%8e%a5 aria-label="Heading self-link"></a></h3><p>​ 默认情况下，章节菜单完全是从您的章节页面生成的。如果您想在此菜单中添加手动链接，例如链接到外部站点或你站点中的不同章节中的页面，则可以通过在doc层次结构中创建具有适当权重和一些特殊参数的占位符页面文件（frontmatter）来实现这一点，以指定链接详细信息。</p><p>​ 要创建占位符页面，请按通常方式在要在该菜单中显示链接的目录中创建一个页面文件，并将<code>manualLink</code>参数添加到其元数据中。如果一个页面在其元数据中具有<code>manualLink</code>，则Docsy会为此页面在章节菜单和章节索引中（章节在着陆页面上的子页面列表中 —— 请参见<a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#docs-section-landing-pages>Docsy文档中的描述</a>）生成链接，但该链接目标会被替换为<code>manualLink</code>的值。该链接文本是您的占位符页面的<code>title</code>（如果设置了<code>linkTitle</code>，则是<code>linkTitle</code>）。您还可以使用<code>manualLinkTitle</code>参数设置链接的<code>title</code>属性以及使用<code>manualLinkTarget</code>设置链接目标 —— 例如，如果您希望一个外部链接在新选项卡中打开，则可以将其链接目标设置为<code>_blank</code>。Docsy会自动将<code>rel=noopener</code>添加到打开新标签页的链接中，作为安全最佳实践。</p><p>​ 您还可以使用<code>manualLink</code>将其他现有站点页面的附加交叉引用添加到站点中。对于内部链接，您可以选择使用<code>manualLinkRelref</code>参数而不是<code>manualLink</code>来使用内置的Hugo函数<a href=https://gohugo.io/functions/relref/>relref</a>。如果<code>relref</code>无法在您的站点中找到唯一页面，则Hugo会抛出错误消息。</p><blockquote><h4 id=注意>注意<a class=td-heading-self-link href=#%e6%b3%a8%e6%84%8f aria-label="Heading self-link"></a></h4><p>​ 尽管基于您的占位符文件生成的所有菜单和着陆页链接都根据参数 <code>manualLink</code> 或 <code>manualLinkRelref</code> 设置，但 Hugo 仍会为该文件生成一个常规的 HTML 站点页面，尽管没有生成的链接指向该页面。为避免用户意外着陆到生成的占位符页面时产生混淆，我们建议在该页面的正常内容和/或页面描述中指定外部链接的 URL。</p></blockquote><h2 id=面包屑导航>面包屑导航<a class=td-heading-self-link href=#%e9%9d%a2%e5%8c%85%e5%b1%91%e5%af%bc%e8%88%aa aria-label="Heading self-link"></a></h2><p>​ 默认情况下，面包屑导航链接出现在每个页面的顶部。要禁用面包屑导航，请在<code>hugo.toml</code>中设置站点参数<code>ui.breadcrumb_disable = true</code>。</p><p>​ 分类结果页面上的每个项（例如，单击一个分类标签，例如：标签/类别）也会显示面包屑导航链接。可以通过在<code>hugo.toml</code>中设置站点参数<code>ui.taxonomy_breadcrumb_disable = true</code>来禁用这些面包屑。</p><p>​ 下面的选项卡窗格列出了您可以在项目<a href=https://gohugo.io/getting-started/configuration/#configuration-file>配置文件</a>中定义的面包屑导航选项。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  ui:
    breadcrumb_disable: true
    taxonomy_breadcrumb_disable: true
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.ui]
breadcrumb_disable = true
taxonomy_breadcrumb_disable = true
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;ui&quot;: {
      &quot;breadcrumb_disable&quot;: true,
      &quot;taxonomy_breadcrumb_disable&quot;: true
    }
  }
}
```
</code></pre><h2 id=站点搜索选项>站点搜索选项<a class=td-heading-self-link href=#%e7%ab%99%e7%82%b9%e6%90%9c%e7%b4%a2%e9%80%89%e9%a1%b9 aria-label="Heading self-link"></a></h2><p>​ Docsy提供多个选项，让您的读者搜索您的站点内容，因此您可以选择适合您需求的选项。您可以选择以下选项：</p><ul><li><a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation/#configure-search-with-a-google-custom-search-engine>Google自定义搜索引擎</a>（GCSE），默认选项，使用Google的公共站点索引生成搜索结果页面。</li><li><a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation/#configure-algolia-docsearch>Algolia DocSearch</a>使用Algolia的索引和搜索机制，并在读者使用搜索框时提供组织良好的下拉式搜索结果列表。 Algolia DocSearch对公共文档站点是免费的。</li><li><a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation/#configure-local-search-with-lunr>使用Lunr进行本地搜索</a>，它使用JavaScript对您的站点进行索引和搜索，而无需连接到外部服务。此选项不需要将您的站点公开。</li></ul><p>​ 如果你在项目的<a href=https://gohugo.io/getting-started/configuration/#configuration-file>配置文件</a>中启用了这些搜索选项，那么一个搜索框将显示在你的顶部导航栏右侧。默认情况下，在左侧导航窗格的章节菜单顶部也会显示一个搜索框，如果你愿意，或者如果你使用的搜索选项仅适用于顶部搜索框，你可以禁用它。</p><p>​ 请注意，如果您在项目<a href=https://gohugo.io/getting-started/configuration/#configuration-file>配置文件</a>中意外启用了多个搜索选项，您可能会得到意外的结果（例如，如果您添加了Algolia DocSearch的<code>.js</code>文件，如果启用了GCSE搜索但忘记禁用Algolia搜索，则会得到Algolia的结果）。</p><h3 id=禁用侧边栏搜索框>禁用侧边栏搜索框<a class=td-heading-self-link href=#%e7%a6%81%e7%94%a8%e4%be%a7%e8%be%b9%e6%a0%8f%e6%90%9c%e7%b4%a2%e6%a1%86 aria-label="Heading self-link"></a></h3><p>​ 默认情况下，搜索框会显示在顶部导航栏和侧边栏左侧导航窗格的顶部。如果您不想要侧边栏搜索框，请在<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>中设置<code>sidebar_search_disable</code>为<code>true</code>。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
sidebar_search_disable: true
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
sidebar_search_disable = true
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;sidebar_search_disable&quot;: true
}
```
</code></pre><h2 id=使用-google-自定义搜索引擎配置搜索>使用 Google 自定义搜索引擎配置搜索<a class=td-heading-self-link href=#%e4%bd%bf%e7%94%a8-google-%e8%87%aa%e5%ae%9a%e4%b9%89%e6%90%9c%e7%b4%a2%e5%bc%95%e6%93%8e%e9%85%8d%e7%bd%ae%e6%90%9c%e7%b4%a2 aria-label="Heading self-link"></a></h2><p>​ 默认情况下，Docsy 使用 <a href=https://cse.google.com/cse/all>Google 自定义搜索引擎</a> (GCSE) 搜索您的站点。要启用此功能，您首先需要确保已构建并部署了<a href=https://t.is-local.org/zh-cn/docs/deployment#build-environments-and-indexing>您站点的生产版本</a>，否则您的站点将无法被爬取和索引。</p><h3 id=设置站点搜索>设置站点搜索<a class=td-heading-self-link href=#%e8%ae%be%e7%bd%ae%e7%ab%99%e7%82%b9%e6%90%9c%e7%b4%a2 aria-label="Heading self-link"></a></h3><ol><li>在<a href=https://cse.google.com/cse/all>Custom Search page</a>上点击<strong>New search engine</strong>，按照说明为已部署的站点创建一个 Google 自定义搜索引擎。记下您的新搜索引擎的 ID。</li><li>使用<strong>Edit search engine</strong>选项添加您想要的任何其他配置到您的搜索引擎中。特别是您可能需要执行以下操作：<ul><li>选择<strong>Look and feel</strong>。将默认的<strong>Overlay</strong>布局更改为<strong>Results only</strong>，因为这个选项意味着您的搜索结果被嵌入到搜索页面中，而不是出现在单独的框中。单击<strong>Save</strong>以保存更改。</li><li>编辑默认的结果链接行为，使来自您站点的搜索结果不会在新标签页中打开。要执行此操作，请选择<strong>Search Features</strong> - <strong>Advanced</strong> - <strong>Websearch Settings</strong>。在<strong>Link Target</strong>字段中键入"_parent"。单击<strong>Save</strong>以保存更改。</li></ul></li></ol><blockquote><p>提示</p><p>​ 您的站点搜索结果应该会在几天内显示。如果需要更长的时间，你可以<a href="https://support.google.com/webmasters/answer/183668?hl=en">通过 Google 搜索控制台提交站点地图</a>来手动请求索引。</p></blockquote><h3 id=添加搜索页面>添加搜索页面<a class=td-heading-self-link href=#%e6%b7%bb%e5%8a%a0%e6%90%9c%e7%b4%a2%e9%a1%b5%e9%9d%a2 aria-label="Heading self-link"></a></h3><p>​ 一旦您设置好搜索引擎，就可以将此功能添加到您的站点：</p><ol><li><p>确保在 <code>content/en/search.md</code> 中有一个 Markdown 文件 (如果需要，其他语言也需要一个) 来显示您的搜索结果。它只需要一个<code>title</code>和<code>layout: search</code>，如以下示例：</p><p>Front matter:</p></li></ol><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
   ---
   title: Search Results
   layout: search
   ---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
   +++
   title = &quot;Search Results&quot;
   layout = &quot;search&quot;
   +++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
   {
       &quot;title&quot;: &quot;Search Results&quot;,
       &quot;layout&quot;: &quot;search&quot;
   }
```
</code></pre><ol start=2><li><p>将您的 Google 自定义搜索引擎 ID 添加到 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 的站点参数中。如果需要，您可以针对每种语言添加不同的值。</p><p>Configuration file:</p></li></ol><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
   gcs_engine_id: '011737558837375720776:fsdu1nryfng'
   
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
   gcs_engine_id = &quot;011737558837375720776:fsdu1nryfng&quot;
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
   {
     &quot;gcs_engine_id&quot;: &quot;011737558837375720776:fsdu1nryfng&quot;
   }
```
</code></pre><h3 id=禁用-gcse-搜索>禁用 GCSE 搜索<a class=td-heading-self-link href=#%e7%a6%81%e7%94%a8-gcse-%e6%90%9c%e7%b4%a2 aria-label="Heading self-link"></a></h3><p>​ 如果您未为您的项目指定 Google 自定义搜索引擎 ID 并且未启用任何其他搜索选项，则搜索框将不会出现在您的站点中。如果您正在使用示例站点中的默认 <code>hugo.toml</code> 并想禁用搜索，请注释或删除相关行。</p><h2 id=配置-algolia-docsearch>配置 Algolia DocSearch<a class=td-heading-self-link href=#%e9%85%8d%e7%bd%ae-algolia-docsearch aria-label="Heading self-link"></a></h2><p>​ 作为 GCSE 的替代方案，您可以使用此主题的 <a href=https://docsearch.algolia.com/>Algolia DocSearch</a>。Algolia DocSearch 对于公共文档站点是免费的。Docsy 支持 Algolia DocSearch v3。</p><blockquote><p>注意</p><p>​ Docsy 以前支持 Algolia DocSearch v2，现在已被弃用。如果您是现有的 Algolia DocSearch v2 用户并想使用最新版本的 Docsy，请按照 DocSearch 文档中的<a href=https://docsearch.algolia.com/docs/migrating-from-v2>迁移说明</a>更新您的 DocSearch 代码片段。</p></blockquote><h3 id=注册-algolia-docsearch>注册 Algolia DocSearch<a class=td-heading-self-link href=#%e6%b3%a8%e5%86%8c-algolia-docsearch aria-label="Heading self-link"></a></h3><p>​ 在 <a href=https://docsearch.algolia.com/apply/>https://docsearch.algolia.com/apply/</a> 上完成表单。</p><p>​ 如果您被接受to the program，您将通过电子邮件收到从Algolia获取的用于添加到您的文档站点的代码。</p><h3 id=添加algolia-docsearch>添加Algolia DocSearch<a class=td-heading-self-link href=#%e6%b7%bb%e5%8a%a0algolia-docsearch aria-label="Heading self-link"></a></h3><ol><li><p>Configuration file:</p><p>在<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>中启用Algolia DocSearch。</p></li></ol><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
algolia_docsearch: true
   
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
algolia_docsearch = true
   
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
     &quot;algolia_docsearch&quot;: true
   }
   
```
</code></pre><ol start=2><li><p>移除或注释掉<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>中的任何GCSE ID，并确保将本地搜索设置为<code>false</code>，因为您只能启用一种类型的搜索。请参阅<a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation/#disabling-gcse-search>禁用GCSE搜索</a>。</p></li><li><p>在<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>中禁用侧边栏搜索，因为目前它不支持Algolia DocSearch。请参阅<a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation/#disabling-the-sidebar-search-box>禁用侧边栏搜索框</a>。</p></li><li><p>按照<a href=https://t.is-local.org/zh-cn/docs/adding-content/lookandfeel/#add-code-to-head-or-before-body-end>Add code to head or before body end</a>中的说明，在站点的每个页面的head和body中添加用于使用Algolia的CSS和JS。</p><ul><li><p>在<code>head-end.html</code>中添加DocSearch CSS：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>link</span> <span style=color:#c4a000>rel</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;stylesheet&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://cdn.jsdelivr.net/npm/@docsearch/css@3&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span></code></pre></div></li><li><p>在<code>body-end.html</code>中添加DocSearch脚本，用从 Algolia 获取的代码段替换 <code>docsearch</code> 的详细信息（下面的示例是Algolia自己的站点索引！）。您必须提供<code>#docsearch</code>作为<code>container</code>值，因为那是 Docsy 布局中提供的 <code>div</code> 的 ID：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://cdn.jsdelivr.net/npm/@docsearch/js@3&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;text/javascript&#34;</span><span style=color:#000;font-weight:700>&gt;</span><span style=color:#000>docsearch</span><span style=color:#000;font-weight:700>({</span>
</span></span><span style=display:flex><span>  <span style=color:#000>container</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;#docsearch&#39;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000>appId</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;R2IYF7ETH7&#39;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000>apiKey</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;599cec31baffa4868cae4e79f180729b&#39;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000>indexName</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;docsearch&#39;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>});&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div></li></ul></li></ol><p>​ 您可以在Algolia DocSearch V3 <a href=https://docsearch.algolia.com/docs/DocSearch-v3>Getting started</a>中了解有关如何配置DocSearch的更多信息。</p><p>​ 当你完成这些步骤后，Algolia搜索就应该在你的站点上启用了。搜索结果会显示在一个弹窗中，因此你不需要添加任何搜索结果页面。</p><h2 id=配置lunr本地搜索>配置Lunr本地搜索<a class=td-heading-self-link href=#%e9%85%8d%e7%bd%aelunr%e6%9c%ac%e5%9c%b0%e6%90%9c%e7%b4%a2 aria-label="Heading self-link"></a></h2><p>​ <a href=https://lunrjs.com/>Lunr</a> 是一种基于 Javascript 的搜索选项，它可以让您对站点进行索引并进行搜索，无需外部服务器端搜索服务。这是一个特别适合较小或非公共站点的好选择。</p><p>​ 要将Lunr搜索添加到您的Docsy站点中：</p><ol><li>在<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>中启用本地搜索。</li></ol><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
   offlineSearch: true
   
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
   offlineSearch = true
   
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
   {
     &quot;offlineSearch&quot;: true
   }
   
```
</code></pre><ol start=2><li>在 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中删除或注释掉任何 GCSE ID，并确保 Algolia DocSearch 设置为 <code>false</code>，因为您只能启用一种类型的搜索。请参阅 <a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation/#disabling-gcse-search>禁用 GCSE 搜索</a>。</li></ol><p>​ 完成这些步骤后，本地搜索已在您的站点上启用，搜索结果会在您使用搜索框时以下拉列表形式出现。</p><blockquote><p>提示</p><p>​ 如果您正在使用Hugo的本地服务器功能进行<a href=https://t.is-local.org/zh-cn/docs/deployment/#serving-your-site-locally>本地测试</a>，则需要首先通过运行 <code>hugo</code> 来构建您的 <code>offline-search-index.xxx.json</code> 文件。如果您在构建 <code>offline-search-index.xxx.json</code> 文件时已经运行Hugo服务器，则可能需要停止服务器并重新启动才能看到您的搜索结果。</p></blockquote><h3 id=更改本地搜索结果摘要长度>更改本地搜索结果摘要长度<a class=td-heading-self-link href=#%e6%9b%b4%e6%94%b9%e6%9c%ac%e5%9c%b0%e6%90%9c%e7%b4%a2%e7%bb%93%e6%9e%9c%e6%91%98%e8%a6%81%e9%95%bf%e5%ba%a6 aria-label="Heading self-link"></a></h3><p>​ 您可以通过在 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中设置 <code>offlineSearchSummaryLength</code> 来自定义摘要长度。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
offlineSearch: true
offlineSearchSummaryLength: 200
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
#Enable offline search with Lunr.js
offlineSearch = true
offlineSearchSummaryLength = 200
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;offlineSearch&quot;: true,
  &quot;offlineSearchSummaryLength&quot;: 200
}
```
</code></pre><h3 id=更改本地搜索的最大结果数>更改本地搜索的最大结果数<a class=td-heading-self-link href=#%e6%9b%b4%e6%94%b9%e6%9c%ac%e5%9c%b0%e6%90%9c%e7%b4%a2%e7%9a%84%e6%9c%80%e5%a4%a7%e7%bb%93%e6%9e%9c%e6%95%b0 aria-label="Heading self-link"></a></h3><p>​ 您可以通过在 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中设置 <code>offlineSearchMaxResults</code> 来自定义最大结果数。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
offlineSearch: true
offlineSearchMaxResults: 25
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
offlineSearch = true
offlineSearchMaxResults = 25
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;offlineSearch&quot;: true,
  &quot;offlineSearchMaxResults&quot;: 25
}
```
</code></pre><h3 id=更改本地搜索结果弹出窗口的宽度>更改本地搜索结果弹出窗口的宽度<a class=td-heading-self-link href=#%e6%9b%b4%e6%94%b9%e6%9c%ac%e5%9c%b0%e6%90%9c%e7%b4%a2%e7%bb%93%e6%9e%9c%e5%bc%b9%e5%87%ba%e7%aa%97%e5%8f%a3%e7%9a%84%e5%ae%bd%e5%ba%a6 aria-label="Heading self-link"></a></h3><p>​ 搜索结果弹出窗口的宽度将根据内容自动扩展。</p><p>​ 如果您想限制宽度，请将以下 scss 添加到 <code>assets/scss/_variables_project.scss</code>。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scss data-lang=scss><span style=display:flex><span><span style=color:#000>.td-offline-search-results</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#c4a000>max-width</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>460</span><span style=color:#204a87;font-weight:700>px</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=排除页面不出现在本地搜索结果中>排除页面不出现在本地搜索结果中<a class=td-heading-self-link href=#%e6%8e%92%e9%99%a4%e9%a1%b5%e9%9d%a2%e4%b8%8d%e5%87%ba%e7%8e%b0%e5%9c%a8%e6%9c%ac%e5%9c%b0%e6%90%9c%e7%b4%a2%e7%bb%93%e6%9e%9c%e4%b8%ad aria-label="Heading self-link"></a></h3><p>​ 要将一些页面排除在本地搜索结果之外，请在这些页面的每个页面的前置元数据中添加 <code>exclude_search: true</code>：</p><p>front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: &quot;Index&quot;
weight: 10
exclude_search: true
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;Index&quot;
weight = 10
exclude_search = true
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;Index&quot;,
  &quot;weight&quot;: 10,
  &quot;exclude_search&quot;: true
}
```
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-cc12c5890f520021fd55cb64466da1c9>2.4 - 文档版本控制</h1><p>​ 定制多个文档版本的导航和横幅。</p><p>​ 根据您的项目的发布和版本控制，您可能希望让用户访问您的文档的先前版本。如何部署先前的版本取决于您。本页面介绍了 Docsy 中可用的功能，可用于在不同版本的文档之间提供导航，并在归档站点上显示信息横幅。</p><h2 id=添加版本下拉菜单>添加版本下拉菜单<a class=td-heading-self-link href=#%e6%b7%bb%e5%8a%a0%e7%89%88%e6%9c%ac%e4%b8%8b%e6%8b%89%e8%8f%9c%e5%8d%95 aria-label="Heading self-link"></a></h2><p>​ 如果在 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中添加一些 <code>[params.versions]</code>，Docsy 主题将在顶级菜单中添加版本选择器下拉菜单。您可以指定每个版本的 URL 和名称，如下面的示例所示：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  versions:
    - version: master
      url: 'https://master.kubeflow.org'
    - version: v0.2
      url: 'https://v0-2.kubeflow.org'
    - version: v0.3
      url: 'https://v0-3.kubeflow.org'
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
# Add your release versions here
[[params.versions]]
  version = &quot;master&quot;
  url = &quot;https://master.kubeflow.org&quot;

[[params.versions]]
  version = &quot;v0.2&quot;
  url = &quot;https://v0-2.kubeflow.org&quot;

[[params.versions]]
  version = &quot;v0.3&quot;
  url = &quot;https://v0-3.kubeflow.org&quot;
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;versions&quot;: [
      {
        &quot;version&quot;: &quot;master&quot;,
        &quot;url&quot;: &quot;https://master.kubeflow.org&quot;
      },
      {
        &quot;version&quot;: &quot;v0.2&quot;,
        &quot;url&quot;: &quot;https://v0-2.kubeflow.org&quot;
      },
      {
        &quot;version&quot;: &quot;v0.3&quot;,
        &quot;url&quot;: &quot;https://v0-3.kubeflow.org&quot;
      }
    ]
  }
}
```
</code></pre><p>​ 记得添加当前版本，以便用户可以导航回去！</p><p>​ 版本下拉菜单的默认标题为 <strong>Releases</strong>。要更改标题，请更改 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中的 <code>version_menu</code> 参数：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
version_menu: 'Releases'

```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
version_menu = &quot;Releases&quot;

```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;version_menu&quot;: &quot;Releases&quot;
}

```
</code></pre><p>​ 如果将 <code>version_menu_pagelinks</code> 参数设置为 <code>true</code>，则版本下拉菜单中的链接指向其他版本中的当前页面，而不是主页面。如果文档在不同版本之间几乎没有变化，则此功能可能很有用。请注意，如果其他版本中不存在当前页面，则链接将被broken。</p><p>​ 您可以在<a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation/>导航和搜索</a>指南中阅读有关 Docsy 菜单的更多信息。</p><h2 id=在归档的文档站点上显示横幅>在归档的文档站点上显示横幅<a class=td-heading-self-link href=#%e5%9c%a8%e5%bd%92%e6%a1%a3%e7%9a%84%e6%96%87%e6%a1%a3%e7%ab%99%e7%82%b9%e4%b8%8a%e6%98%be%e7%a4%ba%e6%a8%aa%e5%b9%85 aria-label="Heading self-link"></a></h2><p>​ 如果为文档的早期版本创建了归档快照，则可以在归档的文档的每个页面顶部添加注释，以让读者知道他们正在查看未维护的快照，并向他们提供最新版本的链接。</p><p>​ 例如，请参见 <a href=https://v0-6.kubeflow.org/docs/>Kubeflow v0.6</a> 的归档文档：</p><p><img alt="A text box explaining that this is an unmaintained snapshot of the docs." src=DocVersioning_img/version-banner.png></p><p>图1：Kubeflow v0.6归档文档上的横幅</p><p>​ 要在文档站点上添加横幅，请在<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>文件中进行以下更改：</p><ol><li><p>将<code>archived_version</code>参数设置为<code>true</code>：</p><p>Configuration file:</p></li></ol><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
   archived_version: true
   
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
   archived_version = true
   
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
   {
     &quot;archived_version&quot;: true
   }
```
</code></pre><ol start=2><li><p>将<code>version</code>参数设置为归档文档集的版本。例如，如果归档文档是版本0.1：</p><p>Configuration file:</p></li></ol><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
   version: '0.1'
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
   version = &quot;0.1&quot;
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
   {
     &quot;version&quot;: &quot;0.1&quot;
   }
```
</code></pre><ol start=3><li><p>确保<code>url_latest_version</code>包含您想要指向读者的站点的URL。在大多数情况下，这应该是您文档的最新版本的URL：</p><p>Configuration file:</p></li></ol><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
   url_latest_version: 'https://your-latest-doc-site.com'
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
   url_latest_version = &quot;https://your-latest-doc-site.com&quot;
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
   {
     &quot;url_latest_version&quot;: &quot;https://your-latest-doc-site.com&quot;
   }
```
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-9d693ae931b0fc63143985df75c9c5c2>2.5 - Docsy简码</h1><p>​使用Docsy的Hugo简码快速构建站点页面。</p><p>​ Hugo 允许你定义并使用 <a href=https://gohugo.io/content-management/shortcodes/>简码</a>，而不是从头编写所有站点页面。这些可重复使用的内容片段可以包含在你的页面中，通常使用 HTML 创建难以或不可能在简单的 Markdown 中实现的效果。简码还可以具有参数，例如，让你向花哨的简码文本框中添加自己的文本。除了 Hugo 的<a href=https://gohugo.io/content-management/shortcodes/>内置简码</a>外，Docsy 还提供了一些自己的 简码，以帮助你构建页面。</p><h2 id=简码分隔符>简码分隔符<a class=td-heading-self-link href=#%e7%ae%80%e7%a0%81%e5%88%86%e9%9a%94%e7%ac%a6 aria-label="Heading self-link"></a></h2><p>​ 如下所示，使用花括号样式的<a href=https://gohugo.io/content-management/shortcodes/#use-shortcodes>简码分隔符</a><code>\{\{\&lt;...\>\}\}</code>告诉Hugo内部内容是HTML/纯文本，无需进一步处理。通过使用分隔符<code>\{\{\%...\%\}\}</code>，Hugo将把简码body视为Markdown。您可以在页面中使用这两种样式。</p><h2 id=简码块>简码块<a class=td-heading-self-link href=#%e7%ae%80%e7%a0%81%e5%9d%97 aria-label="Heading self-link"></a></h2><p>​ 本主题附带一组自定义页面块（<strong>Page Block</strong> ）简码，可用于组合着陆页面、About页面等。</p><p>​ 这些块共享一些通用参数：</p><ul><li><p>height</p><p>块容器的预定义高度。可以是 <code>min</code>、<code>med</code>、<code>max</code>、<code>full</code> 或 <code>auto</code> 中的一个。将其设置为 <code>full</code> 将填充视口高度，这对于着陆页非常有用。</p></li><li><p>color</p><p>如果未提供，块将被分配一个主题调色板的颜色，但如果需要，您可以设置自己的颜色。您可以使用所有 Bootstrap 的颜色名称、主题颜色名称或灰度阴影。一些例子包括 <code>primary</code>、<code>white</code>、<code>dark</code>、<code>warning</code>、<code>light</code>、<code>success</code>、<code>300</code>、<code>blue</code>、<code>orange</code>。这将成为块的<strong>背景颜色</strong>，但文本颜色将适应以获得适当的对比度。</p></li></ul><h3 id=blockscover>blocks/cover<a class=td-heading-self-link href=#blockscover aria-label="Heading self-link"></a></h3><p>​ <strong>blocks/cover</strong>简码创建填充页面顶部的着陆页类型块。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>\{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>blocks</span><span style=color:#a40000>/</span><span style=color:#c4a000>cover</span> <span style=color:#c4a000>title</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Welcome!&#34;</span> <span style=color:#c4a000>image_anchor</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;center&#34;</span> <span style=color:#c4a000>height</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;full&#34;</span> <span style=color:#c4a000>color</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;primary&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;mx-auto&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;btn btn-lg btn-primary me-3 mb-4&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;\{\{\&lt; relref &#34;</span><span style=color:#a40000>/</span><span style=color:#c4a000>docs</span><span style=color:#a40000>&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}&#34;&gt;
</span></span><span style=display:flex><span>		Learn More <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>i</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;fa-solid fa-circle-right ms-2&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>i</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;btn btn-lg btn-secondary me-3 mb-4&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://example.org&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>		Download <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>i</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;fa-brands fa-github ms-2 &#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>i</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>p</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;lead mt-5&#34;</span><span style=color:#000;font-weight:700>&gt;</span>This program is now available in <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;#&#34;</span><span style=color:#000;font-weight:700>&gt;</span>AppStore!<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;mx-auto mt-5&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>		\{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>blocks</span><span style=color:#a40000>/</span><span style=color:#c4a000>link-down</span> <span style=color:#c4a000>color</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;info&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>\{\{\<span style=color:#a40000>&lt;</span> /blocks/cover \&gt;\}\}
</span></span></code></pre></div><p>请注意，上面提到的相关简码参数将具有合理的默认值，但为了完整性而包含在此处。</p><table><thead><tr><th>Parameter</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>title</td><td></td><td>The main display title for the block. 该块的主要显示标题。</td></tr><tr><td>image_anchor</td><td></td><td></td></tr><tr><td>height</td><td></td><td>See above.</td></tr><tr><td>color</td><td></td><td>See above.</td></tr><tr><td>byline</td><td>Byline text on featured image. 在特色图片上的署名文本。</td><td></td></tr></tbody></table><p>​ 要设置背景图像，请在该页面的<a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#page-bundles>Page Bundle</a>中放置一个带有"background"单词的图像名称。例如，在我们的示例站点中，首页的封面块中的背景图像为<code>featured-background.jpg</code>，在同一目录中。</p><blockquote><p>提示</p><p>如果在图像名称中还包括featured单词，例如<code>my-featured-background.jpg</code>，则在共享时它也将用作Twitter Card图像。</p></blockquote><p>​ 有关可用图标，请参见<a href="https://fontawesome.com/icons?d=gallery&m=free">Font Awesome</a>。</p><h3 id=blockslead>blocks/lead<a class=td-heading-self-link href=#blockslead aria-label="Heading self-link"></a></h3><p>​ <strong>blocks/lead</strong>简码是一个简单的引导/标题块，具有居中的文本和向下箭头指向下一节。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>\{\{\% blocks/lead color=&#34;dark&#34; \%\}\}
</span></span><span style=display:flex><span>TechOS is the OS of the future.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Runs on **bare metal** in the **cloud**!
</span></span><span style=display:flex><span>\{\{\% /blocks/lead \%\}\}
</span></span></code></pre></div><table><thead><tr><th>Parameter</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>height</td><td><code>auto</code></td><td>See <a href=https://t.is-local.org/zh-cn/docs/adding-content/shortcodes/#shortcode-blocks>Shortcode blocks</a></td></tr><tr><td>color</td><td>.Ordinal</td><td>See <a href=https://t.is-local.org/zh-cn/docs/adding-content/shortcodes/#shortcode-blocks>Shortcode blocks</a></td></tr></tbody></table><h3 id=blockssection>blocks/section<a class=td-heading-self-link href=#blockssection aria-label="Heading self-link"></a></h3><p>​ <strong>blocks/section</strong>简码旨在作为通用内容容器使用。它有两种"口味（flavors）"，一种适用于一般内容，另一种则具有更适合包装水平特征章节的样式。</p><p>​ 下面的示例显示一个包含3个特征章节的章节。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>\{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>blocks</span><span style=color:#a40000>/</span><span style=color:#c4a000>section</span> <span style=color:#c4a000>color</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;dark&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;row&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>\{\{\% blocks/feature icon=&#34;fa-lightbulb&#34; title=&#34;Fastest OS **on the planet**!&#34; \%\}\}
</span></span><span style=display:flex><span>The new **TechOS** operating system is an open source project. It is a new project, but with grand ambitions.
</span></span><span style=display:flex><span>Please follow this space for updates!
</span></span><span style=display:flex><span>\{\{\% /blocks/feature \%\}\}
</span></span><span style=display:flex><span>\{\{\% blocks/feature icon=&#34;fa-brands fa-github&#34; title=&#34;Contributions welcome!&#34; url=&#34;https://github.com/gohugoio/hugo&#34; \%\}\}
</span></span><span style=display:flex><span>We do a [Pull Request](https://github.com/gohugoio/hugo/pulls) contributions workflow on **GitHub**. New users are always welcome!
</span></span><span style=display:flex><span>\{\{\% /blocks/feature \%\}\}
</span></span><span style=display:flex><span>\{\{\% blocks/feature icon=&#34;fa-brands fa-twitter&#34; title=&#34;Follow us on Twitter!&#34; url=&#34;https://twitter.com/GoHugoIO&#34; \%\}\}
</span></span><span style=display:flex><span>For announcement of latest features etc.
</span></span><span style=display:flex><span>\{\{\% /blocks/feature \%\}\}
</span></span><span style=display:flex><span>\{\{\<span style=color:#a40000>&lt;</span> /blocks/section \&gt;\}\}
</span></span></code></pre></div><table><thead><tr><th>参数</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>height</code></td><td></td><td>See above.</td></tr><tr><td><code>color</code></td><td></td><td>See above.</td></tr><tr><td><code>type</code></td><td></td><td>如果您想要一个一般的容器，请指定"container"（默认值），或者如果该章节包含列 - 必须是直接子级，则指定"row"。</td></tr></tbody></table><h3 id=blocksfeature>blocks/feature<a class=td-heading-self-link href=#blocksfeature aria-label="Heading self-link"></a></h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>\{\{\% blocks/feature icon=&#34;fa-brands fa-github&#34; title=&#34;Contributions welcome!&#34; url=&#34;https://github.com/gohugoio/hugo&#34; \%\}\}
</span></span><span style=display:flex><span>We do a [Pull Request](https://github.com/gohugoio/hugo/pulls) contributions workflow on **GitHub**. New users are always welcome!
</span></span><span style=display:flex><span>\{\{\% /blocks/feature \%\}\}
</span></span></code></pre></div><table><thead><tr><th>参数</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td>title</td><td></td><td>The title to use.</td></tr><tr><td>url</td><td></td><td>The URL to link to.</td></tr><tr><td>icon</td><td></td><td>The icon class to use.</td></tr></tbody></table><h3 id=blockslink-down>blocks/link-down<a class=td-heading-self-link href=#blockslink-down aria-label="Heading self-link"></a></h3><p>​ <strong>blocks/link-down</strong>简码创建导航链接到下一个章节。它旨在与其他块简码结合使用。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;mx-auto mt-5&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	\{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>blocks</span><span style=color:#a40000>/</span><span style=color:#c4a000>link-down</span> <span style=color:#c4a000>color</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;info&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><table><thead><tr><th>参数</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td>color</td><td>info</td><td>See above.</td></tr></tbody></table><h2 id=简码助手helpers>简码助手（helpers）<a class=td-heading-self-link href=#%e7%ae%80%e7%a0%81%e5%8a%a9%e6%89%8bhelpers aria-label="Heading self-link"></a></h2><h3 id=alert>alert<a class=td-heading-self-link href=#alert aria-label="Heading self-link"></a></h3><p>​ <strong>alert</strong>简码创建一个警报块，可用于显示通知或警告。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>\{\{\% alert title=&#34;Warning&#34; color=&#34;warning&#34; \%\}\}
</span></span><span style=display:flex><span>This is a warning.
</span></span><span style=display:flex><span>\{\{\% /alert \%\}\}
</span></span></code></pre></div><p>渲染为：</p><p><img alt=image-20230502082041657 src=Shortcodes_img/image-20230502082041657.png></p><table><thead><tr><th>参数</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td>color</td><td>primary</td><td>其中之一的主题颜色，例如<code>primary</code>，<code>info</code>，<code>warning</code>等。</td></tr></tbody></table><h3 id=pageinfo>pageinfo<a class=td-heading-self-link href=#pageinfo aria-label="Heading self-link"></a></h3><p>​ <strong>pageinfo</strong> 简码创建了一个文本框，您可以使用它来为页面添加横幅信息，例如告诉用户页面包含占位内容，内容已过时或记录了一个 beta 功能。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>\{\{\% pageinfo color=&#34;primary&#34; \%\}\}
</span></span><span style=display:flex><span>This is placeholder content.
</span></span><span style=display:flex><span>\{\{\% /pageinfo \%\}\}
</span></span></code></pre></div><p>渲染成：</p><p><img alt=image-20230501073913392 src=Shortcodes_img/image-20230501073913392.png></p><table><thead><tr><th>参数</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td>color</td><td>primary</td><td>其中之一的主题颜色，例如<code>primary</code>，<code>info</code>，<code>warning</code>等。</td></tr></tbody></table><h3 id=imgproc>imgproc<a class=td-heading-self-link href=#imgproc aria-label="Heading self-link"></a></h3><p>​ <strong>imgproc</strong>简码会在当前<a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#page-bundles>Page Bundle</a>中查找图片，并根据给定的一组处理指令对其进行缩放。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>\{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>imgproc</span> <span style=color:#c4a000>spruce</span> <span style=color:#c4a000>Fill</span> <span style=color:#a40000>&#34;</span><span style=color:#c4a000>400x450</span><span style=color:#a40000>&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>Norway Spruce <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>i</span><span style=color:#000;font-weight:700>&gt;</span>Picea abies<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>i</span><span style=color:#000;font-weight:700>&gt;</span> shoot with foliage buds.
</span></span><span style=display:flex><span>\{\{\<span style=color:#a40000>&lt;</span> /imgproc \&gt;\}\}
</span></span></code></pre></div><p><img alt=image-20230501075659751 src=Shortcodes_img/image-20230501075659751.png></p><p>​ 上面的示例还添加了带有照片归属地的副标题。当使用来自<a href=https://commons.wikimedia.org/>WikiMedia</a>等免费许可的插图时，大多数情况下需要一种方法来归属作者或许可证持有人。您可以在你的页面前置元数据中的页面资源中添加元数据。在此主题中，<code>byline</code> 参数通常用于此目的：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
resources:
- src: &quot;**spruce*.jpg&quot;
  params:
    byline: &quot;Photo: Bjørn Erik Pedersen / CC-BY-SA&quot;
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
[[resources]]
src = &quot;**spruce*.jpg&quot;

  [resources.params]
  byline = &quot;Photo: Bjørn Erik Pedersen / CC-BY-SA&quot;
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;resources&quot;: [
    {
      &quot;src&quot;: &quot;**spruce*.jpg&quot;,
      &quot;params&quot;: {
        &quot;byline&quot;: &quot;Photo: Bjørn Erik Pedersen / CC-BY-SA&quot;
      }
    }
  ]
}
```
</code></pre><table><thead><tr><th style=text-align:right>参数</th><th>描述</th></tr></thead><tbody><tr><td style=text-align:right>1</td><td>图片文件名或足够的文件名以便识别它（我们使用Glob匹配）</td></tr><tr><td style=text-align:right>2</td><td>命令。可以是<code>Fit</code>、<code>Resize</code>、<code>Fill</code>或<code>Crop</code>中的一个。参见<a href=https://gohugo.io/content-management/image-processing/#image-processing-methods>Image Processing Methods</a>。</td></tr><tr><td style=text-align:right>3</td><td>处理选项，例如 <code>400x450 r180</code>。参见<a href=https://gohugo.io/content-management/image-processing/#image-processing-options>Image Processing Options</a>。</td></tr></tbody></table><h3 id=swaggerui>swaggerui<a class=td-heading-self-link href=#swaggerui aria-label="Heading self-link"></a></h3><p>​ <code>swaggerui</code> 简码可以放置在任何使用 <a href=https://github.com/google/docsy/tree/main/layouts/swagger><code>swagger</code> 布局</a> 的页面中；它使用任何 OpenAPI YAML 或 JSON 文件作为源来渲染 <a href=https://swagger.io/tools/swagger-ui/>Swagger UI</a>。该文件可以托管在任何位置，例如您站点的根 <a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#adding-static-content><code>/static</code> 文件夹</a>中。</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: &quot;Pet Store API&quot;
type: swagger
weight: 1
description: Reference for the Pet Store API
---

\{\{\&lt; swaggerui src=&quot;/openapi/petstore.yaml&quot; \&gt;\}\}
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;Pet Store API&quot;
type = &quot;swagger&quot;
weight = 1
description = &quot;Reference for the Pet Store API&quot;
+++

\{\{\&lt; swaggerui src=&quot;/openapi/petstore.yaml&quot; \&gt;\}\}
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;Pet Store API&quot;,
  &quot;type&quot;: &quot;swagger&quot;,
  &quot;weight&quot;: 1,
  &quot;description&quot;: &quot;Reference for the Pet Store API&quot;
}

\{\{\&lt; swaggerui src=&quot;/openapi/petstore.yaml&quot; \&gt;\}\}
```
</code></pre><p>​ 您可以通过覆盖Swagger的CSS或通过编辑和编译<a href=https://github.com/swagger-api/swagger-ui>Swagger UI dist</a>自己来自定义Swagger UI的外观和感觉，并替换<code>themes/docsy/static/css/swagger-ui.css</code>。</p><h3 id=redoc>redoc<a class=td-heading-self-link href=#redoc aria-label="Heading self-link"></a></h3><p>​ <code>redoc</code>简码使用开源<a href=https://github.com/Redocly/redoc>Redoc</a>工具从OpenAPI YAML或JSON文件中渲染参考API文档。该文件可以托管在您喜欢的任何位置，例如在站点的根<a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#adding-static-content><code>/static</code> 文件夹</a>中，但您也可以使用一个URL，例如：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#000>---</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;Pet Store API&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>docs</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>weight</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>description</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Reference for the Pet Store API</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>---</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>\{\{\&lt; redoc &#34;https://raw.githubusercontent.com/OAI/OpenAPI-Specification/main/examples/v2.0/yaml/petstore.yaml&#34; \&gt;\}\}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><h3 id=iframe>iframe<a class=td-heading-self-link href=#iframe aria-label="Heading self-link"></a></h3><p>​ 使用此简码，您可以将外部内容作为内联框架（<code>iframe</code>）嵌入Docsy页面，参见：<a href=https://www.w3schools.com/tags/tag_iframe.asp>https://www.w3schools.com/tags/tag_iframe.asp</a></p><table><thead><tr><th>参数</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td>src</td><td></td><td>外部内容的URL</td></tr><tr><td>width</td><td>100%</td><td>iframe的宽度</td></tr><tr><td><code>tryautoheight</code></td><td>true</td><td>如果为 <code>true</code>，则该简码将尝试使用 JavaScript 计算嵌入式内容所需的高度，如此处所述：<a href=https://stackoverflow.com/a/14618068>https://stackoverflow.com/a/14618068</a>。这仅在嵌入式内容与当前域名相同时才可能实现（<a href=https://stackoverflow.com/questions/22086722/resize-cross-domain-iframe-height>https://stackoverflow.com/questions/22086722/resize-cross-domain-iframe-height</a>）。请注意，即使嵌入式内容与当前域名相同，仍取决于内容的结构是否能够正确计算高度。</td></tr><tr><td>style</td><td>min-height:98vh; border:none;</td><td>用于 iframe 的 CSS 样式。<code>min-height: 98vh;</code> 是在 <code>tryautoheight</code> 不起作用时的备选项。<code>border: none;</code> 将 iframe 的边框删除 - 如果您希望嵌入式内容看起来更像页面中的内部内容，则这很有用。</td></tr><tr><td>sandbox</td><td>false</td><td>您可以通过设置 <code>sandbox = true</code> 完全打开沙盒模式，或使用在 <a href=https://www.w3schools.com/tags/att_iframe_sandbox.asp>HTML 标准</a> 中定义的 iframe 参数 <code>sandbox</code> 的常见值来允许特定功能。</td></tr><tr><td>name</td><td>iframe-name</td><td>指定该<a href=https://www.w3schools.com/tags/att_iframe_name.asp>iframe的名称</a>。</td></tr><tr><td>id</td><td>iframe-id</td><td>设置该iframe的ID。</td></tr><tr><td>class</td><td></td><td>设置该iframe的类的可选参数。</td></tr><tr><td>sub</td><td>您的浏览器无法显示嵌入框架。您可以通过以下链接访问嵌入页面：</td><td>如果用户的浏览器无法显示嵌入式框架，则显示的文本（除了嵌入的 URL）。</td></tr></tbody></table><blockquote><p>警告</p><p>​ 只有在服务器的 <code>X-Frame-Options</code> 未设置或明确允许被嵌入到您的站点时，才能嵌入外部内容。有关详细信息，请参见<a href=https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/X-Frame-Options>https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/X-Frame-Options</a>。</p></blockquote><p>​ 有几种工具可用于检查站点是否可以通过iframe嵌入，例如：<a href=https://gf.dev/x-frame-options-test>https://gf.dev/x-frame-options-test</a>。请注意，当此测试显示"Couldn’t find the X-Frame-Options header in the response headers.&ldquo;时，您<strong>可以</strong>嵌入它，但是当测试显示"Great! X-Frame-Options header was found in the HTTP response headers as highlighted below.&ldquo;时，除非已明确启用了您的站点，否则您<strong>不可以</strong>嵌入它。</p><h2 id=tabbed-panes-选项卡式窗格>Tabbed panes 选项卡式窗格<a class=td-heading-self-link href=#tabbed-panes-%e9%80%89%e9%a1%b9%e5%8d%a1%e5%bc%8f%e7%aa%97%e6%a0%bc aria-label="Heading self-link"></a></h2><p>​ 在编写内容时，有时非常有用的是选项卡式窗格。一个常见的用例是显示多个语法突出显示的代码块，这些代码块展示了同一问题在不同编程语言中的解决方法。例如，下面的选项卡式窗格显示了通常在学习新编程语言时编写的<code>Hello world</code>！程序的语言特定变体：</p><p>=== &ldquo;C&rdquo;</p><pre><code>```C
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main(void)
{
  puts(&quot;Hello World!&quot;);
  return EXIT_SUCCESS;
}
```
</code></pre><p>=== &ldquo;C++&rdquo;</p><pre><code>```C++
#include &lt;iostream&gt;

int main()
{
  std::cout &lt;&lt; &quot;Hello World!&quot; &lt;&lt; std::endl;
}
```
</code></pre><p>=== &ldquo;Go&rdquo;</p><pre><code>```Go
package main
import &quot;fmt&quot;
func main() {
  fmt.Printf(&quot;Hello World!\n&quot;)
}
```
</code></pre><p>=== &ldquo;Java&rdquo;</p><pre><code>```Java
class HelloWorld {
  static public void main( String args[] ) {
    System.out.println( &quot;Hello World!&quot; );
  }
}
```
</code></pre><p>=== &ldquo;Kotlin&rdquo;</p><pre><code>```Kotlin
fun main(args : Array&lt;String&gt;) {
    println(&quot;Hello, world!&quot;)
}
```
</code></pre><p>=== &ldquo;Lua&rdquo;</p><pre><code>```Lua
print &quot;Hello world&quot;

```
</code></pre><p>=== &ldquo;PHP&rdquo;</p><pre><code>```PHP
&lt;?php
echo 'Hello World!';
?&gt;

```
</code></pre><p>=== &ldquo;Python&rdquo;</p><pre><code>```Python
print(&quot;Hello World!&quot;)

```
</code></pre><p>=== &ldquo;Ruby&rdquo;</p><pre><code>```Ruby
puts &quot;Hello World!&quot;

```
</code></pre><p>=== &ldquo;Scala&rdquo;</p><pre><code>```Scala
object HelloWorld extends App {
  println(&quot;Hello world!&quot;)
}

```
</code></pre><p>=== &ldquo;Reference&rdquo;</p><pre><code>```c

```
</code></pre><p>​ Docsy模板提供了两个简码<code>tabpane</code>和<code>tab</code>，让您轻松创建选项卡式窗格。要了解如何使用它们，请查看以下代码块，该代码块渲染为右对齐的窗格，其中一个选项卡被禁用，另外三个选项卡处于活动状态：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>\{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>tabpane</span> <span style=color:#c4a000>text</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>true</span> <span style=color:#c4a000>right</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>true</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>  \{\{\% tab header=&#34;**Languages**:&#34; disabled=true /\%\}\}
</span></span><span style=display:flex><span>  \{\{\% tab header=&#34;English&#34; lang=&#34;en&#34; \%\}\}
</span></span><span style=display:flex><span>  ![Flag United Kingdom](flags/uk.png)
</span></span><span style=display:flex><span>  Welcome!
</span></span><span style=display:flex><span>  \{\{\% /tab \%\}\}
</span></span><span style=display:flex><span>  \{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>tab</span> <span style=color:#c4a000>header</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;German&#34;</span> <span style=color:#c4a000>lang</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;de&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>b</span><span style=color:#000;font-weight:700>&gt;</span>Herzlich willkommen!<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>b</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>img</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;flags/de.png&#34;</span> <span style=color:#c4a000>alt</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Flag Germany&#34;</span> <span style=color:#c4a000>style</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;float: right; padding: 0 0 0 0px&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  \{\{\<span style=color:#a40000>&lt;</span> /tab \&gt;\}\}
</span></span><span style=display:flex><span>  \{\{\% tab header=&#34;Swahili&#34; lang=&#34;sw&#34; \%\}\}
</span></span><span style=display:flex><span>  ![Flag Tanzania](flags/tz.png)
</span></span><span style=display:flex><span>  **Karibu sana!**
</span></span><span style=display:flex><span>  \{\{\% /tab \%\}\}
</span></span><span style=display:flex><span>\{\{\<span style=color:#a40000>&lt;</span> /tabpane \&gt;\}\}
</span></span></code></pre></div><p>​ 这段代码转换为下面的右对齐选项卡窗格，显示英语、德语或斯瓦希里语的<code>Welcome!</code>问候：</p><p><strong>Languages</strong>:</p><p>=== &ldquo;English&rdquo;
<img alt=image-20230501075849083 src=Shortcodes_img/image-20230501075849083.png></p><p>=== &ldquo;German&rdquo;
<img alt=image-20230501075912241 src=Shortcodes_img/image-20230501075912241.png></p><p>=== &ldquo;Swahili&rdquo;
<img alt=image-20230501075922612 src=Shortcodes_img/image-20230501075922612.png></p><h3 id=简码详细信息>简码详细信息<a class=td-heading-self-link href=#%e7%ae%80%e7%a0%81%e8%af%a6%e7%bb%86%e4%bf%a1%e6%81%af aria-label="Heading self-link"></a></h3><p>​ 选项卡式窗格使用两个简码实现：</p><ul><li><p><code>tabpane</code> 简码是选项卡的容器元素。该简码可以包含可选的命名参数 <code>lang</code>、<code>highlight</code> 和 <code>right</code>。可选参数 <code>lang</code> 和 <code>highlight</code> 的值会作为 Hugo 内置函数 <a href=https://gohugo.io/functions/highlight/>highlight</a> 的第二个 <code>LANG</code> 和第三个 <code>OPTIONS</code> 参数传递，该函数用于渲染各个选项卡中的代码块。如果您想要右对齐选项卡，请指定 <code>right=true</code>。如果选项卡的标题文本等于选项卡代码块中使用的语言（如上面的第一个选项卡窗格示例），您可以在周围的 <code>tabpane</code> 简码中指定 <code>langEqualsHeader=true</code>。然后，各个选项卡的标题文本将自动设置为相应选项卡的 <code>lang</code> 参数。</p></li><li><p>各种选项卡简码代表您想要显示的选项卡。对于每个选项卡，通过指定命名参数 <code>header</code> 来设置选项卡的标题文本。如果<code>header</code>参数是您选项卡简码中唯一的参数，则可以将标题设置为未命名参数，例如 <code>{ tab "My header" }} … {{ /tab }}</code>。如果您的选项卡简码没有任何参数，则选项卡的header 将默认为Tab n。要将窗格分为左对齐和右对齐的选项卡组，请在分隔选项卡中指定 <code>right=true</code>。通过多次设置 <code>right=true</code>，您甚至可以渲染多个选项卡组。通过指定参数 <code>disabled=true</code> 可以禁用选项卡。对于启用的选项卡，有两种内容显示模式，代码表示和文本表示：</p><ul><li>默认情况下，选项卡的内容将渲染为代码块。为了获得适当的语法高亮显示，请为每个选项卡指定命名参数 <code>lang</code>，并可选地指定参数 <code>highlight</code>。在父选项卡窗格简码中设置的参数将被覆盖。</li><li>如果您的选项卡内容应该渲染为具有不同样式和可选图像的文本，请将 <code>text=true</code> 作为<code>tabpane</code> （或<code>tab</code>）的参数。如果您的内容是 Markdown，请使用百分号 <code>%</code> 作为选项卡简码的最外层分隔符，您的标记应如下所示：<code>\{\{\% tab \%\}\}Your **markdown** content\{\{\% /tab \%\}\}</code>。对于 HTML 内容，请使用方括号 <code>&lt;></code> 作为最外层分隔符：<code>\{\{\&lt; tab \>\}\}Your &lt;b>HTML&lt;/b> content\{\{\&lt; /tab \>\}\}</code>。</li></ul></li></ul><blockquote><p>信息</p><p>​ 默认情况下，所选tab（选项卡） 的语言将存储并在不同的浏览器会话之间保留。如果选项卡内的内容长度差异很大，则在切换选项卡时可能会导致不必要的滚动。要禁用此不必要的行为，请在<code>tabpane</code>简码中指定 <code>persistLang=false</code>。</p></blockquote><h2 id=card-panes-卡片窗格>Card panes 卡片窗格<a class=td-heading-self-link href=#card-panes-%e5%8d%a1%e7%89%87%e7%aa%97%e6%a0%bc aria-label="Heading self-link"></a></h2><p>​ 在编写内容时，将类似的文本块或代码片段放在类似卡片的元素上，可以让它们可选地并排呈现，这在某些情况下非常有用。下面是一个样本卡片组，展示了美国的前四位总统，我们来演示一下这个功能：</p><p><img alt=image-20230501081306476 src=Shortcodes_img/image-20230501081306476.png></p><p><img alt=image-20230501081319802 src=Shortcodes_img/image-20230501081319802.png></p><p><img alt=image-20230501081332167 src=Shortcodes_img/image-20230501081332167.png></p><p><img alt=image-20230501081347954 src=Shortcodes_img/image-20230501081347954.png></p><p>​ Docsy 支持通过不同的简码创建此类卡片窗格：</p><ul><li><code>cardpane</code> 简码是用来包含不同卡片的容器元素。</li><li><code>card</code> 简码代表一个单独的卡片，每个简码代表一个独立的卡片。虽然卡片通常会出现在卡片组内，但一个单独的卡片也可以单独呈现。<code>card</code> 简码可以包含文本、图片或任何其他任意类型的 Markdown 或 HTML 标记作为内容。如果你的内容是编程代码，建议使用 <code>card-code</code> 简码，这是一种具有代码高亮和其他可选功能（如行号、某些行的高亮等）的特殊卡片。</li></ul><h3 id=简码card用于文本图像等>简码<code>card</code>（用于文本、图像等）<a class=td-heading-self-link href=#%e7%ae%80%e7%a0%81card%e7%94%a8%e4%ba%8e%e6%96%87%e6%9c%ac%e5%9b%be%e5%83%8f%e7%ad%89 aria-label="Heading self-link"></a></h3><p>​ 如上所述，卡片可以使用 <code>card</code> 或 <code>card-code</code> 简码之一进行编码。如果您的内容是除了编程代码以外的任何类型的文本，请使用通用的 <code>card</code> 简码。以下代码示例演示如何编码<code>card</code> 元素：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>\{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>card</span> <span style=color:#c4a000>header</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;**Imagine**&#34;</span> <span style=color:#c4a000>title</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Artist and songwriter: John Lennon&#34;</span> <span style=color:#c4a000>subtitle</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Co-writer: Yoko Ono&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#c4a000>footer</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;![SignatureJohnLennon](https://server.tld/…/signature.png &#39;Signature John Lennon&#39;)&#34;</span><span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>Imagine there&#39;s no heaven, It&#39;s easy if you try<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>br</span><span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>No hell below us, above us only sky<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>br</span><span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>Imagine all the people living for today…
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>…
</span></span><span style=display:flex><span>\{\{\<span style=color:#a40000>&lt;</span> /card \&gt;\}\}
</span></span></code></pre></div><p>​ 此代码转换为下面的左侧的卡片，显示 John Lennon 著名歌曲 <code>Imagine</code> 的歌词。右侧的第二个说明性card 元素指示并解释了card 的各个组成部分：</p><p><img alt=image-20230501081736024 src=Shortcodes_img/image-20230501081736024.png></p><p><img alt=image-20230501081750236 src=Shortcodes_img/image-20230501081750236.png></p><p>​ 虽然卡片的主要内容取自 <code>card</code> 简码的内部标记，但可选元素 <code>footer</code>、<code>header</code>、<code>title</code> 和 <code>subtitle</code> 都作为简码的命名参数指定。</p><h3 id=简码card-code用于编程代码>简码<code>card-code</code>（用于编程代码）<a class=td-heading-self-link href=#%e7%ae%80%e7%a0%81card-code%e7%94%a8%e4%ba%8e%e7%bc%96%e7%a8%8b%e4%bb%a3%e7%a0%81 aria-label="Heading self-link"></a></h3><p>​ 如果您想在卡片上显示编程代码，可以使用专门的<code>card-code</code> 简码。下面的示例演示了如何用C编写著名的<code>Hello world!</code>应用程序的卡片元素：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>\{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>card-code</span> <span style=color:#c4a000>header</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;**C**&#34;</span> <span style=color:#c4a000>lang</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;C&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>#include <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>stdio.h</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>#include <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>stdlib.h</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>int main(void)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  puts(&#34;Hello World!&#34;);
</span></span><span style=display:flex><span>  return EXIT_SUCCESS;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>\{\{\<span style=color:#a40000>&lt;</span> /card-code \&gt;\}\}
</span></span></code></pre></div><p>​ 这段代码将转换为下面的卡片：</p><p><img alt=image-20230501081814481 src=Shortcodes_img/image-20230501081814481.png></p><p>​ <code>card-code</code> 简码可以可选地包含<code>lang</code>和/或<code>highlight</code>命名参数。这些可选参数的值作为第二个<code>LANG</code>和第三个<code>OPTIONS</code>参数传递给Hugo的内置<a href=https://gohugo.io/functions/highlight/>highlight</a>函数，该函数用于渲染在卡片上呈现的代码块。</p><h3 id=卡片组>卡片组<a class=td-heading-self-link href=#%e5%8d%a1%e7%89%87%e7%bb%84 aria-label="Heading self-link"></a></h3><p>​ 将两个或多个卡片并排显示可以通过将它们放在<code>cardpane</code>简码的开放和关闭元素之间轻松实现。卡片组的一般标记与选项卡窗格的标记非常相似：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>\{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>cardpane</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>  \{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>card</span> <span style=color:#c4a000>header</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Header card 1&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>    Content card 1
</span></span><span style=display:flex><span>  \{\{\<span style=color:#a40000>&lt;</span> /card \&gt;\}\}
</span></span><span style=display:flex><span>  \{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>card</span> <span style=color:#c4a000>header</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Header card 2&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>    Content card 2
</span></span><span style=display:flex><span>  \{\{\<span style=color:#a40000>&lt;</span> /card \&gt;\}\}
</span></span><span style=display:flex><span>  \{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>card</span> <span style=color:#c4a000>header</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Header card 3&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>    Content card 3
</span></span><span style=display:flex><span>  \{\{\<span style=color:#a40000>&lt;</span> /card \&gt;\}\}
</span></span><span style=display:flex><span>\{\{\<span style=color:#a40000>&lt;</span> /cardpane \&gt;\}\}
</span></span></code></pre></div><p>​ 与选项卡（tabs）不同，卡片（cards ）是并排呈现的。这尤其有用，如果您想在两个卡片上比较不同的编程技术（传统 vs. 现代），就像上面的示例演示的那样：</p><p><img alt=image-20230501081908799 src=Shortcodes_img/image-20230501081908799.png></p><h2 id=包含外部文件>包含外部文件<a class=td-heading-self-link href=#%e5%8c%85%e5%90%ab%e5%a4%96%e9%83%a8%e6%96%87%e4%bb%b6 aria-label="Heading self-link"></a></h2><p>​ 有时候有一些内容对多个文档都是相关的，或者是存储在一个不一定是文档的文件中。对于这样的情况，<code>readfile</code> 简码允许您将外部文件的内容导入到文档中。</p><h3 id=重用文档>重用文档<a class=td-heading-self-link href=#%e9%87%8d%e7%94%a8%e6%96%87%e6%a1%a3 aria-label="Heading self-link"></a></h3><p>​ 如果您想在多个文档中重复使用一些内容，可以将该内容编写在一个单独的文件中，然后在需要时包含它。</p><p>​ 例如，假设您有一个名为<code>installation.md</code>的文件，其内容如下：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>## Installation
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>\{\{\% alert title=&#34;Note&#34; color=&#34;primary&#34; \%\}\}
</span></span><span style=display:flex><span>Check system compatibility before proceeding.
</span></span><span style=display:flex><span>\{\{\% /alert \%\}\}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>1.  Download the installation files.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>1.  Run the installation script
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    `sudo sh install.sh`
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>1.  Test that your installation was successfully completed.
</span></span></code></pre></div><p>​ 您可以将此部分导入到另一个文档中：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>The following section explains how to install the database:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>\{\{\% readfile &#34;installation.md&#34; \%\}\}
</span></span></code></pre></div><p>​ 这将渲染出好像指令在父文档中一样。导入文件包含简码时需要 Hugo v0.101.0+ 才能正确被渲染。</p><hr><p>​ 以下部分解释了如何安装数据库：</p><p><img alt=image-20230502103503671 src=Shortcodes_img/image-20230502103503671.png></p><hr><p>​ 该参数是该文件的相对路径。仅支持在父文件的工作目录下的相对路径。</p><p>​ 对于工作目录之外的文件，可以使用以 <code>/</code> 开头的绝对路径。根目录是 <code>/content</code> 文件夹。</p><h3 id=包含代码文件>包含代码文件<a class=td-heading-self-link href=#%e5%8c%85%e5%90%ab%e4%bb%a3%e7%a0%81%e6%96%87%e4%bb%b6 aria-label="Heading self-link"></a></h3><p>​ 假设您有一个包含多个代码示例的<code>includes</code>文件夹，您希望将其用作文档的一部分。您可以使用<code>readfile</code>并带有一些额外的参数：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>To create a new pipeline, follow the next steps:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>1.  Create a configuration file `config.yaml`:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    \{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>readfile</span> <span style=color:#c4a000>file</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;includes/config.yaml&#34;</span> <span style=color:#c4a000>code</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;true&#34;</span> <span style=color:#c4a000>lang</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;yaml&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>2.  Apply the file to your cluster `kubectl apply config.yaml`
</span></span></code></pre></div><p>​ 该代码自动读取<code>includes/config.yaml</code>的内容并将其插入到文档中。渲染后的文本如下所示：</p><hr><p><img alt=image-20230502104015054 src=Shortcodes_img/image-20230502104015054.png></p><hr><blockquote><p>警告</p><p>​ 为了使代码高亮显示正常工作，必须使用<code>\{\{\&lt; \>\}\}</code>的分隔符。</p></blockquote><p>​ 该"file"参数是文件的相对路径。仅支持在父文件的工作目录下的相对路径。</p><p>​ 对于工作目录之外的文件，可以使用以 <code>/</code> 开头的绝对路径。根目录是 <code>/content</code> 文件夹。</p><table><thead><tr><th>参数</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td>file</td><td></td><td>外部文件路径</td></tr><tr><td>code</td><td>false</td><td>布尔值。如果为<code>true</code> ，该内容将被视为代码</td></tr><tr><td>lang</td><td>plain text</td><td>编程语言</td></tr></tbody></table><h3 id=错误报告>错误报告<a class=td-heading-self-link href=#%e9%94%99%e8%af%af%e6%8a%a5%e5%91%8a aria-label="Heading self-link"></a></h3><p>​ 如果该简码无法找到指定的文件，则该简码会抛出编译错误。</p><p>​ 在下面的示例中，如果无法找到<code>includes/deploy.yml</code>文件，Hugo会抛出编译错误：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>\{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>readfile</span> <span style=color:#c4a000>file</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;includes/deploy.yaml&#34;</span> <span style=color:#c4a000>code</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;true&#34;</span> <span style=color:#c4a000>lang</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;yaml&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span></code></pre></div><p>​ 或者，Hugo可以在呈现的页面上显示一条消息，而不是抛出编译错误。添加<code>draft="true"</code>参数。例如：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>\{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>readfile</span> <span style=color:#c4a000>file</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;includes/deploy.yaml&#34;</span> <span style=color:#c4a000>code</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;true&#34;</span> <span style=color:#c4a000>lang</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;yaml&#34;</span> <span style=color:#c4a000>draft</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;true&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span></code></pre></div><h2 id=条件文本>条件文本<a class=td-heading-self-link href=#%e6%9d%a1%e4%bb%b6%e6%96%87%e6%9c%ac aria-label="Heading self-link"></a></h2><p>​ <code>conditional-text</code> 简码允许您根据配置文件中设置的 <code>buildCondition</code> 参数的值来显示或隐藏内容的某些部分。如果您正在从相同的源生成不同的构建，例如使用不同的产品名称，那么这将非常有用。这个简码帮助您处理这些构建之间的小差异。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>\{\{\% conditional-text include-if=&#34;foo&#34; \%\}\}
</span></span><span style=display:flex><span>This text appears in the output only if `buildCondition = &#34;foo&#34; is set in your config file`.
</span></span><span style=display:flex><span>\{\{\% /conditional-text \%\}\}
</span></span><span style=display:flex><span>\{\{\% conditional-text exclude-if=&#34;bar&#34; \%\}\}
</span></span><span style=display:flex><span>This text does not appear in the output if `buildCondition = &#34;bar&#34; is set in your config file`.
</span></span><span style=display:flex><span>\{\{\% /conditional-text \%\}\}
</span></span></code></pre></div><p>​ 如果您正在使用此简码，请注意，在求值条件时，子字符串匹配也将被视为匹配。这意味着，如果您设置了 <code>include-if="foobar"</code>，而 <code>buildcondition = "foo"</code>，则匹配！</p></div><div class=td-content style=page-break-before:always><h1 id=pg-b170390955ad5d57a161f55c8a978960>2.6 - Logo和图片</h1><p>在您的项目中添加和自定义logo、icon和图片。</p><h2 id=添加您的logo>添加您的logo<a class=td-heading-self-link href=#%e6%b7%bb%e5%8a%a0%e6%82%a8%e7%9a%84logo aria-label="Heading self-link"></a></h2><p>​ 默认情况下，Docsy在导航栏的开头即极左处显示一个站点logo。将您的项目的SVG logo放在<code>assets/icons/logo.svg</code>中。这将覆盖主题中默认的Docsy logo。</p><p>​ 如果您不希望在导航栏中出现logo，则在您的项目配置中将<code>navbar_logo</code>设置为<code>false</code>：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
navbar_logo: false

```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
navbar_logo = false

```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;navbar_logo&quot;: false
}

```
</code></pre><p>​ 有关样式化您的logo的信息，请参见<a href=https://t.is-local.org/zh-cn/docs/adding-content/lookandfeel/#styling-your-project-logo-and-name>样式化您的项目logo和名称</a>。</p><h2 id=使用-icons>使用 icons<a class=td-heading-self-link href=#%e4%bd%bf%e7%94%a8-icons aria-label="Heading self-link"></a></h2><p>​ Docsy 默认包含了免费的 FontAwesome 图标，其中包括 GitHub 和 Stack Overflow 等网站的logo。您可以在 <a href=https://fontawesome.com/icons/>FontAwesome 文档</a> 中查看所有可用的图标，包括 FontAwesome 版本以及该图标是否可供免费使用。检查 Docsy 的 <a href=https://github.com/google/docsy/blob/main/package.json><code>package.json</code></a> 和发行说明，了解 Docsy 当前包含的 FontAwesome 版本。</p><p>​ 您可以在 <a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation/#adding-icons-to-the-top-level-menu>顶级菜单</a>、<a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation/#add-icons-to-the-section-menu>章节菜单</a> 或文本的任何位置添加 FontAwesome 图标。</p><h2 id=添加您的favicon>添加您的favicon<a class=td-heading-self-link href=#%e6%b7%bb%e5%8a%a0%e6%82%a8%e7%9a%84favicon aria-label="Heading self-link"></a></h2><p>​ 最简单的方法是通过 <a href=http://cthedot.de/icongen>http://cthedot.de/icongen</a>（允许您从单个图像创建各种图标大小和选项）和/或 <a href=https://favicon.io/>https://favicon.io</a> 来创建一组网站图标，然后将它们放在站点项目的 <code>static/favicons</code> 目录中。这将覆盖本主题的默认图标。</p><p>​ 请注意，<a href=https://favicon.io/>https://favicon.io</a> 并不像 Icongen 那样创建范围广泛的尺寸，但它可以让您快速从文本创建 favicon：如果您想创建文本 favicon，则可以使用该站点生成它们，然后使用 Icongen 从生成的 <code>.png</code> 文件中创建更多尺寸（如果需要）。</p><p>​ 如果您有特殊的网站图标要求，可以创建自己的 <code>layouts/partials/favicons.html</code> 文件并添加相应的链接。</p><h2 id=添加图像>添加图像<a class=td-heading-self-link href=#%e6%b7%bb%e5%8a%a0%e5%9b%be%e5%83%8f aria-label="Heading self-link"></a></h2><h3 id=着陆页面>着陆页面<a class=td-heading-self-link href=#%e7%9d%80%e9%99%86%e9%a1%b5%e9%9d%a2 aria-label="Heading self-link"></a></h3><p>​ Docsy 的 <a href=https://t.is-local.org/zh-cn/docs/adding-content/shortcodes/#blockscover><strong>blocks/cover</strong> 简码</a> 可以方便地向你的 着陆 pages 中添加大型封面图片。这个 简码 在 landing page 的 <a href=https://gohugo.io/content-management/page-bundles/>Page Bundle</a> 中查找一个名字中带有"background"的图片——例如，如果你复制了本示例站点，则 <code>content/en/_index.html</code> 中的 landing page 图片是 <code>content/en/featured-background.jpg</code>。</p><p>​ 你可以使用块的 <code>height</code> 参数指定 cover 块容器（及其图片）的首选显示高度。对于全视口高度，请使用 <code>full</code>：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>\{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>blocks</span><span style=color:#a40000>/</span><span style=color:#c4a000>cover</span> <span style=color:#c4a000>title</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Welcome to the Docsy Example Project!&#34;</span> <span style=color:#c4a000>image_anchor</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;top&#34;</span> <span style=color:#c4a000>height</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;full&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>\{\{\<span style=color:#a40000>&lt;</span> /blocks/cover \&gt;\}\}
</span></span></code></pre></div><p>​ 对于较短的图片，例如本示例站点的 About 页面，请使用 <code>min</code>、<code>med</code>、<code>max</code> 或 <code>auto</code>（实际图片的高度）之一：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>\{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>blocks</span><span style=color:#a40000>/</span><span style=color:#c4a000>cover</span> <span style=color:#c4a000>title</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;About the Docsy Example&#34;</span> <span style=color:#c4a000>image_anchor</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;bottom&#34;</span> <span style=color:#c4a000>height</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;min&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>\{\{\<span style=color:#a40000>&lt;</span> /blocks/cover \&gt;\}\}
</span></span></code></pre></div><h3 id=其他页面>其他页面<a class=td-heading-self-link href=#%e5%85%b6%e4%bb%96%e9%a1%b5%e9%9d%a2 aria-label="Heading self-link"></a></h3><p>​ 要向其他页面添加内联图片，请使用 <a href=https://t.is-local.org/zh-cn/docs/adding-content/shortcodes/#imgproc>imgproc 简码</a>。或者，如果你喜欢，只需使用常规的 Markdown 或 HTML 图像，并将你的图像文件添加到你的项目的 <code>static</code> 目录中。你可以在<a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#adding-static-content>添加静态内容</a>中了解更多关于使用此目录的信息。</p><h2 id=在本站点中使用的图片>在本站点中使用的图片<a class=td-heading-self-link href=#%e5%9c%a8%e6%9c%ac%e7%ab%99%e7%82%b9%e4%b8%ad%e4%bd%bf%e7%94%a8%e7%9a%84%e5%9b%be%e7%89%87 aria-label="Heading self-link"></a></h2><p>​ 本站点中用作背景图片的图像属于<a href=https://commons.wikimedia.org/wiki/User:Bep/gallery#Wed_Aug_01_16:16:51_CEST_2018>公共领域</a>，可以自由使用。示例网站中的粥图像由<a href="https://pixabay.com/users/iha31-560629/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=531209">iha31</a>提供，来自<a href="https://pixabay.com/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=531209">Pixabay</a>。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-d8483cb4cda9bb0618a8f87fc3602f0c>2.7 - 打印支持</h1><p>​ 更容易地打印整个文档章节。</p><p>​ 大多数浏览器中的个别文档页面都可以很好地打印，因为布局已经被设计成从打印输出中省略导航界面。</p><p>​ 在一些站点上，启用"打印整个章节"功能可能很有用（就像在本用户指南中所看到的）。选择此选项将使用适合打印的格式呈现当前顶级章节（例如此页面的Content 和Customization）的所有子页面和子章节，并附带该章节的目录。</p><p>​ 要启用此功能，请在站点的<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>文件中为"section"类型添加"print"输出格式：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
outputs:
  section:
    - HTML
    - RSS
    - print
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[outputs]
section = [ &quot;HTML&quot;, &quot;RSS&quot;, &quot;print&quot; ]

```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;outputs&quot;: {
    &quot;section&quot;: [
      &quot;HTML&quot;,
      &quot;RSS&quot;,
      &quot;print&quot;
    ]
  }
}
```
</code></pre><p>然后，站点应在右侧导航中显示一个"打印整个章节"的链接。</p><h2 id=进一步的定制>进一步的定制<a class=td-heading-self-link href=#%e8%bf%9b%e4%b8%80%e6%ad%a5%e7%9a%84%e5%ae%9a%e5%88%b6 aria-label="Heading self-link"></a></h2><h3 id=禁用目录>禁用目录<a class=td-heading-self-link href=#%e7%a6%81%e7%94%a8%e7%9b%ae%e5%bd%95 aria-label="Heading self-link"></a></h3><p>​ 要在可打印视图中禁用目录，请在页面前置元数据或<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>中将<code>disable_toc</code>参数设置为<code>true</code>：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
…
disable_toc: true
…
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
…
disable_toc = true
…
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  …,
  &quot;disable_toc&quot;: true,
  …
}
```
</code></pre><p>或配置文件：</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  print:
    disable_toc: true
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.print]
disable_toc = true
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;print&quot;: {
      &quot;disable_toc&quot;: true
    }
  }
}
```
</code></pre><h2 id=布局钩子>布局钩子<a class=td-heading-self-link href=#%e5%b8%83%e5%b1%80%e9%92%a9%e5%ad%90 aria-label="Heading self-link"></a></h2><p>​ 有一些布局的partial和hook被定义用于自定义打印格式。它们可以在<code>layouts/partials/print</code>中找到。</p><p>​ Hook可以按类型定义。例如，您可能想自定义"blog"页面和"docs"页面的标题布局。可以通过创建<code>layouts/partials/print/page-heading-&lt;type>.html</code>来实现，例如<code>page-heading-blog.html</code>。它默认使用页面title 和description 作为标题（heading）。</p><p>​ 类似地，每个页面的格式可以通过创建<code>layouts/partials/print/content-&lt;type>.html</code>进行自定义。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-4daa29348e76dac1c71ed41bfd67d58e>2.8 - 分析、用户反馈和SEO</h1><p>​为您的站点添加Google Analytics跟踪，收集用户反馈并了解页面描述元标记。</p><h2 id=添加分析>添加分析<a class=td-heading-self-link href=#%e6%b7%bb%e5%8a%a0%e5%88%86%e6%9e%90 aria-label="Heading self-link"></a></h2><p>​ Docsy 主题基于 <a href=https://gohugo.io/templates/internal/#google-analytics>Hugo 对 Google Analytics 的支持</a>，Hugo 通过 <a href=https://gohugo.io/templates/internal/>内部模板</a> 提供支持。一旦您按照下面的说明设置了分析，您的网站使用信息（如页面浏览量）将发送到您的 <a href=https://analytics.google.com/analytics/web/>Google Analytics</a> 账户。</p><h3 id=先决条件>先决条件<a class=td-heading-self-link href=#%e5%85%88%e5%86%b3%e6%9d%a1%e4%bb%b6 aria-label="Heading self-link"></a></h3><p>​ 在继续之前，您需要为您的网站获取一个 <strong>分析 ID</strong>（技术上称为测量 ID 或属性 ID，但在本指南中我们将使用"analytics ID（分析 ID）&ldquo;这个术语）。如果您还没有分析 ID，请参见 <a href=https://support.google.com/analytics/answer/1042508>介绍 Google Analytics 4 (GA4)</a> 的 <strong>入门指南</strong> 部分。</p><blockquote><p>提示</p><p>​ 您的项目的 <strong>分析 ID</strong> 是以 <code>G-</code>（GA4 测量 ID）或 <code>UA-</code>（通用分析属性 ID）开头的字符串。</p></blockquote><h3 id=设置>设置<a class=td-heading-self-link href=#%e8%ae%be%e7%bd%ae aria-label="Heading self-link"></a></h3><p>​ 通过将项目的分析 ID 添加到站点配置文件中来启用 Google Analytics。有关详细信息，请参见 <a href=https://gohugo.io/templates/internal/#configure-google-analytics>配置 Google Analytics</a>。</p><p>​ 默认情况下，Docsy 主题使用 <a href=https://support.google.com/analytics/answer/10220869>gtag.js</a> 分析库来支持 GA4（它 <em>需要</em> <code>gtag.js</code>）和通用分析（UA）站点标签。如果您更喜欢在您的 UA 站点标签中使用较旧的 <code>analytics.js</code> 库，则在您的项目 <a href=https://gohugo.io/getting-started/configuration/#configuration-file>配置文件</a> 中设置 <code>params.disableGtagForUniversalAnalytics</code> 为 <code>true</code>。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  disableGtagForUniversalAnalytics: true
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params]
disableGtagForUniversalAnalytics = true
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;disableGtagForUniversalAnalytics&quot;: true
  }
}
```
</code></pre><blockquote><p>警告</p><p>​ 您可以通过设置顶层 <code>googleAnalytics</code> 配置参数或 <code>services.googleAnalytics.id</code> 来配置项目的分析 ID。<strong>不要同时定义这两个参数</strong>，否则可能会导致<a href=https://github.com/google/docsy/issues/921>意外行为</a>。有关详细信息，请参见 <a href=https://discourse.gohugo.io/t/config-is-services-googleanalytics-id-an-alias-for-googleanalytics/39469>Is services.googleAnalytics.id an alias for googleAnalytics</a>。</p></blockquote><blockquote><p>Production-only feature! 仅限于生产环境！</p><p>​ 分析仅在<strong>生产环境</strong>（在 Hugo 术语中称为"环境（environments）"）中启用。有关 Hugo 环境及如何设置它们的信息，请参见以下 <a href=https://discourse.gohugo.io/t/what-does-setting-hugo-env-to-production-do/24669/2>讨论</a>。</p></blockquote><h2 id=用户反馈>用户反馈<a class=td-heading-self-link href=#%e7%94%a8%e6%88%b7%e5%8f%8d%e9%a6%88 aria-label="Heading self-link"></a></h2><p>​ 默认情况下，Docsy 在每个文档页面底部放置一个"was this page helpful?&ldquo;的反馈小部件，如图1所示。</p><p><img alt="The user is presented with the text &lsquo;Was this page helpful?&rsquo; followed             by &lsquo;Yes&rsquo; and &lsquo;No&rsquo; buttons." src=AnalyticsUserFeedbackAndSEO_img/feedback.png></p><p>图1. 反馈小部件，用红线勾勒出来。</p><p>​ 点击"Yes"后，用户应该会看到类似图2的响应。您可以在项目的 <a href=https://gohugo.io/getting-started/configuration/#configuration-file>配置文件</a> <code>hugo.toml</code> 中<a href=https://t.is-local.org/zh-cn/docs/adding-content/feedback/#setup-1>配置</a>响应文本。</p><p><img alt="After clicking &lsquo;Yes&rsquo; the widget responds with &lsquo;Glad to hear it!             Please tell us how we can improve.&rsquo; and the second sentence is a link which,             when clicked, opens GitHub and lets the user create an issue on the             documentation repository." src=AnalyticsUserFeedbackAndSEO_img/yes.png></p><p>​ 图2. 一个"Yes"响应的示例。</p><h3 id=这些数据有什么用处>这些数据有什么用处？<a class=td-heading-self-link href=#%e8%bf%99%e4%ba%9b%e6%95%b0%e6%8d%ae%e6%9c%89%e4%bb%80%e4%b9%88%e7%94%a8%e5%a4%84 aria-label="Heading self-link"></a></h3><p>​ 当您有大量文档，且没有足够的时间更新所有文档时，您可以使用"was this page helpful?&rdquo; 的反馈数据来帮助您决定哪些页面需要优先考虑。通常，从访问量高且评级低的页面开始。在此上下文中，&ldquo;Low ratings"意味着用户更经常地点击<strong>No</strong>——页面不够有用——而不是<strong>Yes</strong>——页面有用。您还可以研究您评级高的页面，以制定关于为什么您的用户认为它们有用的假设。</p><p>​ 一般来说，如果可能的话，您可以在文档中引入孤立的更改，以更加确定用户喜欢或不喜欢的模式。例如，假设您发现一个教程不再匹配产品。您更新了说明，一个月后再次检查，分数已经提高。现在您有了最新说明和更高评分之间的相关性。或者，假设您研究了高评分页面，并发现它们都以代码示例开头。您找到另外10个代码示例在底部的页面，将示例移动到顶部，发现每个页面的分数都有所提高。由于这是您在每个页面上引入的唯一更改，因此更有理由相信您的用户发现页面顶部的代码示例有帮助。换句话说，这是将科学方法应用于技术写作！</p><h3 id=setup-设置>Setup 设置<a class=td-heading-self-link href=#setup-%e8%ae%be%e7%bd%ae aria-label="Heading self-link"></a></h3><ol><li><p>打开<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>。</p></li><li><p>确保启用了谷歌分析，<a href=https://t.is-local.org/zh-cn/docs/adding-content/feedback/#setup>如上所述</a>。</p></li><li><p>设置用户在点击<strong>Yes</strong>或<strong>No</strong>后看到的响应文本。</p><p>Configuration file:</p></li></ol><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
   params:
     ui:
       feedback:
         enable: true
         'yes': &gt;-
           Glad to hear it! Please &lt;a href=&quot;https://github.com/USERNAME/REPOSITORY/issues/new&quot;&gt;
           tell us how we can improve&lt;/a&gt;.        
         'no': &gt;-
           Sorry to hear that. Please &lt;a href=&quot;https://github.com/USERNAME/REPOSITORY/issues/new&quot;&gt;
           tell us how we can improve&lt;/a&gt;.  
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
   [params.ui.feedback]
   enable = true
   yes = 'Glad to hear it! Please &lt;a href=&quot;https://github.com/USERNAME/REPOSITORY/issues/new&quot;&gt;tell us how we can improve&lt;/a&gt;.'
   no = 'Sorry to hear that. Please &lt;a href=&quot;https://github.com/USERNAME/REPOSITORY/issues/new&quot;&gt;tell us how we can improve&lt;/a&gt;.'
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
   {
     &quot;params&quot;: {
       &quot;ui&quot;: {
         &quot;feedback&quot;: {
           &quot;enable&quot;: true,
           &quot;yes&quot;: &quot;Glad to hear it! Please &lt;a href=\&quot;https://github.com/USERNAME/REPOSITORY/issues/new\&quot;&gt; tell us how we can improve&lt;/a&gt;.&quot;,
           &quot;no&quot;: &quot;Sorry to hear that. Please &lt;a href=\&quot;https://github.com/USERNAME/REPOSITORY/issues/new\&quot;&gt; tell us how we can improve&lt;/a&gt;.&quot;
         }
       }
     }
   }
```
</code></pre><ol start=7><li>保存并关闭 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>。</li></ol><h3 id=访问反馈数据>访问反馈数据<a class=td-heading-self-link href=#%e8%ae%bf%e9%97%ae%e5%8f%8d%e9%a6%88%e6%95%b0%e6%8d%ae aria-label="Heading self-link"></a></h3><p>​ 本节假设您基本熟悉Google Analytics。例如，您应该知道如何检查某个时间范围内的页面浏览量，并在访问多个文档站点的情况下在帐户之间导航。</p><ol><li>打开 Google Analytics。</li><li>打开 <strong>Behavior</strong> > <strong>Events</strong> > <strong>Overview</strong>。</li><li>在<strong>Event Category</strong>表中点击 <strong>Helpful</strong> 行。如果看不到 <strong>Helpful</strong> 行，请点击<strong>view full report</strong>。</li><li>点击<strong>Event Label</strong>。现在您可以按页面对评级进行详细分类。</li></ol><p>​ 以下是这四列的含义：</p><ul><li><strong>Total Events</strong>是用户点击 <strong>Yes</strong> 或 <strong>No</strong> 的总次数。</li><li><strong>Unique Events</strong>提供了一个粗略的指标，用于指示用户在每个会话中评价您的页面的频率。例如，假设您的<strong>Total Events</strong>为5000，而<strong>Unique Events</strong>为2500。这意味着您有 2500 个用户每个会话对 2 个页面进行评级。</li><li><strong>Event Value</strong> 并不是非常有用。</li><li><strong>Avg. Value</strong> 是该页面的聚合评级。该值始终在 0 和 1 之间。当用户点击 <strong>No</strong> 时，会发送值 0 到 Google Analytics。当用户点击 <strong>Yes</strong> 时，会发送值 1。您可以将其视为百分比。如果某个页面的 <strong>Avg. Value</strong> 为 0.67，则表示有 67% 的用户点击了 <strong>Yes</strong>，33% 的用户点击了 <strong>No</strong>。</li></ul><p>​ 存储"was this page helpful?&ldquo;数据的基础 Google Analytics 基础架构称为<a href=https://developers.google.com/analytics/devguides/collection/analyticsjs/events>事件（Events）</a>。查看 <a href=https://github.com/google/docsy/pull/1/files>docsy pull request #1</a> 来了解用户单击 <strong>Yes</strong> 或 <strong>No</strong> 按钮时发生的确切事件。这只是一个<code>click</code>事件监听器，触发了 Google Analytics 的 JavaScript 函数来记录事件、禁用 <strong>Yes</strong> 和 <strong>No</strong> 按钮，并显示响应文本。</p><h3 id=在单个页面上禁用反馈>在单个页面上禁用反馈<a class=td-heading-self-link href=#%e5%9c%a8%e5%8d%95%e4%b8%aa%e9%a1%b5%e9%9d%a2%e4%b8%8a%e7%a6%81%e7%94%a8%e5%8f%8d%e9%a6%88 aria-label="Heading self-link"></a></h3><p>​ 在页面的前置元数据中添加 <code>hide_feedback</code> 参数并将其设置为 <code>true</code>。</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
hide_feedback: true
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
hide_feedback = true
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
    &quot;hide_feedback&quot;: true
}
```
</code></pre><h3 id=在所有页面上禁用反馈>在所有页面上禁用反馈<a class=td-heading-self-link href=#%e5%9c%a8%e6%89%80%e6%9c%89%e9%a1%b5%e9%9d%a2%e4%b8%8a%e7%a6%81%e7%94%a8%e5%8f%8d%e9%a6%88 aria-label="Heading self-link"></a></h3><p>​ 在 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中将 <code>params.ui.feedback.enable</code> 设置为 <code>false</code>：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  ui:
    feedback:
      enable: false
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.ui.feedback]
enable = false
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;ui&quot;: {
      &quot;feedback&quot;: {
        &quot;enable&quot;: false
      }
    }
  }
}
```
</code></pre><h2 id=使用-fabform-添加联系表单>使用 Fabform 添加联系表单<a class=td-heading-self-link href=#%e4%bd%bf%e7%94%a8-fabform-%e6%b7%bb%e5%8a%a0%e8%81%94%e7%b3%bb%e8%a1%a8%e5%8d%95 aria-label="Heading self-link"></a></h2><p>​ 您可以为您的站点创建一个联系表单，并在 <a href=https://fabform.io/>fabform.io</a> 上收集您的表单提交。要使用此功能，您首先需要在 Fabform 上注册一个帐户。以下示例显示如何将收集用户电子邮件地址的简单表单添加到您的站点源代码中：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>form</span> <span style=color:#c4a000>action</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://fabform.io/f/{form-id}&#34;</span> <span style=color:#c4a000>method</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;post&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>label</span> <span style=color:#c4a000>for</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;email&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Your Email<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>label</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;email&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;email&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>button</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;submit&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Submit<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>button</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>form</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p>​ 有关更多详细信息，请参见 Fabform 文档中的<a href=https://fabform.io/a/hugo-contact-form>添加 Hugo 联系表单</a>。</p><h2 id=搜索引擎优化元标签>搜索引擎优化元标签<a class=td-heading-self-link href=#%e6%90%9c%e7%b4%a2%e5%bc%95%e6%93%8e%e4%bc%98%e5%8c%96%e5%85%83%e6%a0%87%e7%ad%be aria-label="Heading self-link"></a></h2><p>​ 要了解如何优化您的站点以进行SEO，请参见<a href=https://developers.google.com/search/docs/beginner/seo-starter-guide>搜索引擎优化（SEO）入门指南</a>。</p><p>​ Google<a href="https://developers.google.com/search/docs/beginner/seo-starter-guide?hl=en%2F#descriptionmeta">建议</a>使用<code>description</code>元标签告诉搜索引擎您的页面内容。对于每个生成的页面，Docsy将使用以下第一个定义的内容来设置元<code>description</code>的内容：</p><ul><li>该页面<code>description</code><a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#page-frontmatter>前置元数据字段</a></li><li>对于非索引页面，由Hugo计算得出的页面<a href=https://gohugo.io/content-management/summaries/>摘要</a></li><li>从<a href=https://gohugo.io/variables/site/#the-siteparams-variable>站点参数</a>中获取的站点描述</li></ul><p>​ 有关用于执行此计算的模板代码，请参见layouts/partials/page-description.html。</p><p>​ 有关用于执行此计算的模板代码，请参见 <a href=https://github.com/google/docsy/blob/main/layouts/partials/page-description.html>layouts/partials/page-description.html</a>。</p><p>​ 根据需要向项目的 <code>head-end.html</code> partial 中添加更多的元标签。有关详情，请参见 <a href=https://t.is-local.org/zh-cn/docs/adding-content/lookandfeel/#customizing-templates>自定义模板</a>。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-18f03df0932b0815400e182f48ebfdec>2.9 - 代码库链接</h1><p>​ 帮助您的用户与您的源代码库进行交互。</p><p>​ Docsy <a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#adding-docs-and-blog-posts>文档和博客布局</a> 包括让读者可以通过您的网站源代码仓库编辑页面或为您的文档或项目创建问题的链接。当前生成的每个文档或博客页面的链接如下：</p><ul><li><strong>View page source</strong>：将用户带到您的文档存储库中的页面源代码。</li><li><strong>Edit this page</strong>：将用户带到页面内容的可编辑版本，位于他们的文档库复刻中（如果有的话）。如果用户没有您的文档库的当前 fork，则在进行编辑之前，将邀请他们创建一个 fork。然后，用户可以为您的文档创建拉取请求。</li><li><strong>Create child page</strong>：将用户带到在他们的文档库 fork 中创建新文件的表单中。新文件将作为他们单击链接页面的子级位置。该表单将使用一个模板进行预填，用户可以编辑此模板以创建自己的页面。您可以通过将 <code>assets/stubs/new-page-template.md</code> 添加到您自己的项目中来更改此设置。</li><li><strong>Create documentation issue</strong>：将用户带到一个新的 issue 表单，在其中，当前页面的名称为该问题的标题。</li><li><strong>Create project issue</strong>（可选）：将用户带到项目仓库中的一个新的issue 表单。如果您有单独的项目和文档存储库，并且您的用户想要针对正在讨论的项目功能提交问题，而不是针对您的文档，那么这可能很有用。</li></ul><p>​ 此页面向您展示了如何配置这些链接。</p><p>​ 目前，Docsy仅支持GitHub存储库链接。由于GitLab可以处理相同的链接方案，因此也应该有效。如果您正在使用其他存储库（例如Bitbucket）并希望生成存储库链接，请随时 <a href=https://t.is-local.org/zh-cn/docs/contribution-guidelines/>添加功能请求或更新我们的主题</a>。</p><h2 id=链接配置>链接配置<a class=td-heading-self-link href=#%e9%93%be%e6%8e%a5%e9%85%8d%e7%bd%ae aria-label="Heading self-link"></a></h2><p>​ 在 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 文件中，有四个变量可以配置以设置链接，同时在您的页面元数据中也有一个变量可以配置。</p><h3 id=github_repo><code>github_repo</code><a class=td-heading-self-link href=#github_repo aria-label="Heading self-link"></a></h3><p>​ 您站点的源代码仓库的URL。此链接用于生成<strong>Edit this page</strong>、<strong>Create child page</strong>和<strong>Create documentation issue</strong>等链接。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
github_repo: 'https://github.com/google/docsy'

```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
github_repo = &quot;https://github.com/google/docsy&quot;

```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;github_repo&quot;: &quot;https://github.com/google/docsy&quot;
}

```
</code></pre><h3 id=github_subdir-可选><code>github_subdir</code> (可选)<a class=td-heading-self-link href=#github_subdir-%e5%8f%af%e9%80%89 aria-label="Heading self-link"></a></h3><p>​ 如果您的内容目录不在仓库的根目录中，请在此指定一个值。例如，此站点位于其仓库的 <code>userguide</code> 子目录中。设置此值意味着您的编辑链接将指向正确的页面。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
github_subdir: 'userguide'

```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
github_subdir = &quot;userguide&quot;

```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;github_subdir&quot;: &quot;userguide&quot;
}

```
</code></pre><h3 id=github_project_repo-可选><code>github_project_repo</code> (可选)<a class=td-heading-self-link href=#github_project_repo-%e5%8f%af%e9%80%89 aria-label="Heading self-link"></a></h3><p>​ 如果您有一个单独的项目仓库，希望您的用户能够从相关的文档中创建项目issues，请在此指定一个值。只有在设置了此项后，<strong>Create project issue</strong>链接才会显示。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
github_project_repo: 'https://github.com/google/docsy'

```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
github_project_repo = &quot;https://github.com/google/docsy&quot;

```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;github_project_repo&quot;: &quot;https://github.com/google/docsy&quot;
}

```
</code></pre><h3 id=github_branch-可选><code>github_branch</code> (可选)<a class=td-heading-self-link href=#github_branch-%e5%8f%af%e9%80%89 aria-label="Heading self-link"></a></h3><p>​ 如果您希望引用其他的 github 设置（如 <strong>Edit this page</strong>或 <strong>Create project issue</strong>）的不同分支，请在此指定一个值。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
github_branch: 'release'

```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
github_branch = &quot;release&quot;

```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;github_branch&quot;: &quot;release&quot;
}

```
</code></pre><h3 id=path_base_for_github_subdir-可选><code>path_base_for_github_subdir</code> (可选)<a class=td-heading-self-link href=#path_base_for_github_subdir-%e5%8f%af%e9%80%89 aria-label="Heading self-link"></a></h3><p>​ 假设 <code>content/some-section</code> 下的所有页面的源文件来自另一个仓库，例如<a href=https://git-scm.com/book/en/v2/Git-Tools-Submodules>git 子模块</a>。在该章节的索引页中添加以下设置，以便该章节中的所有页面的存储库链接均指向源 仓库：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: Some super section
cascade:
  github_repo: https://github.com/some-username/another-repo/
  github_subdir: docs
  path_base_for_github_subdir: content/some-section
…
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;Some super section&quot;
[cascade]
github_repo = &quot;https://github.com/some-username/another-repo/&quot;
github_subdir = &quot;docs&quot;
path_base_for_github_subdir = &quot;content/some-section&quot;
…
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;Some super section&quot;,
  &quot;cascade&quot;: {
    &quot;github_repo&quot;: &quot;https://github.com/some-username/another-repo/&quot;,
    &quot;github_subdir&quot;: &quot;docs&quot;,
    &quot;path_base_for_github_subdir&quot;: &quot;content/some-section&quot;
  }
}
```
</code></pre><p>​ 例如，考虑一个位于路径 <code>content/some-section/subpath/some-page.md</code> 的页面，全局 <code>github_branch</code> 设置为 <code>main</code>。上面的索引页面设置将为 <code>some-page.md</code> 生成以下编辑链接：</p><pre tabindex=0><code class=language-nocode data-lang=nocode>https://github.com/some-username/another-repo/edit/main/docs/subpath/some-page.md
</code></pre><p>​ 如果您只有一个来自另一个仓库的页面，请省略 <code>cascade</code> 键，并编写与上面所示相同的顶级设置。</p><p>​ 如果您希望用户也能在源仓库中创建项目问题，则还需设置 <code>github_project_repo</code>，例如：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#000>---</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>...</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>cascade</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>github_repo</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>&amp;repo</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>https://github.com/some-username/another-repo/</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>github_project_repo</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>*repo</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>...</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>---</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
…
cascade:
  github_repo: &amp;repo https://github.com/some-username/another-repo/
  github_project_repo: *repo
…
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
…
[cascade]
github_repo = &quot;https://github.com/some-username/another-repo/&quot;
github_project_repo = &quot;https://github.com/some-username/another-repo/&quot;
…
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;cascade&quot;: {
    &quot;github_repo&quot;: &quot;https://github.com/some-username/another-repo/&quot;,
    &quot;github_project_repo&quot;: &quot;https://github.com/some-username/another-repo/&quot;
  }
}
```
</code></pre><blockquote><p>提示</p><p>请注意，YAML 代码片段使用了 <a href=https://support.atlassian.com/bitbucket-cloud/docs/yaml-anchors/>YAML 锚点</a>。使用 YAML 锚点是可选的，但它有助于保持设置的 DRY（不重复自己）。</p></blockquote><p>​ <code>path_base_for_github_subdir</code> 设置是一个正则表达式，因此即使您的站点包含 <a href=https://t.is-local.org/zh-cn/docs/language/>多个语言</a>，您仍然可以使用它，例如：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
…
path_base_for_github_subdir: content/\w+/some-section
…
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
…
path_base_for_github_subdir = &quot;content/\w+/some-section&quot;
…
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
…
  &quot;path_base_for_github_subdir&quot;: &quot;content/\w+/some-section&quot;
…
}
```
</code></pre><p>​ 在某些情况下，页面来源于具有不同名称的文件，您可以指定 <code>from</code> 和 <code>to</code> 路径重命名设置。以下是一个例子，其中一个索引文件在来源仓库中命名为 <code>README.md</code>：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
…
github_repo: https://github.com/some-username/another-repo/
github_subdir: docs
path_base_for_github_subdir:
  from: content/some-section/(.*?)/_index.md
  to: $1/README.md
…
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
…
github_repo = &quot;https://github.com/some-username/another-repo/&quot;
github_subdir = &quot;docs&quot;

[path_base_for_github_subdir]
from = &quot;content/some-section/(.*?)/_index.md&quot;
to = &quot;$1/README.md&quot;
…
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  …
  &quot;github_repo&quot;: &quot;https://github.com/some-username/another-repo/&quot;,
  &quot;github_subdir&quot;: &quot;docs&quot;,
  &quot;path_base_for_github_subdir&quot;: {
    &quot;from&quot;: &quot;content/some-section/(.*?)/_index.md&quot;,
    &quot;to&quot;: &quot;$1/README.md&quot;
  },
  …
}
```
</code></pre><h3 id=github_url-可选><code>github_url</code> (可选)<a class=td-heading-self-link href=#github_url-%e5%8f%af%e9%80%89 aria-label="Heading self-link"></a></h3><blockquote><p>弃用说明</p><p>该设置已弃用。请改用 <a href=https://t.is-local.org/zh-cn/docs/adding-content/repository-links/#path_base_for_github_subdir-optional>path_base_for_github_subdir</a>。</p></blockquote><p>​ 在您的页面元数据中指定此值以设置此页面的特定编辑 URL，例如以下示例：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: Some page
github_url: https://github.com/some-username/another-repo/edit/main/README.md
…
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;Some page&quot;
github_url = &quot;https://github.com/some-username/another-repo/edit/main/README.md&quot;
…
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;Some page&quot;,
  &quot;github_url&quot;: &quot;https://github.com/some-username/another-repo/edit/main/README.md&quot;,
  …
}
```
</code></pre><p>​ 如果您的页面源文件在多个 Git 存储库中，或需要非 GitHub URL，则可以使用此选项。使用此值的页面仅具有 <strong>Edit this page</strong> 链接。</p><h2 id=禁用链接>禁用链接<a class=td-heading-self-link href=#%e7%a6%81%e7%94%a8%e9%93%be%e6%8e%a5 aria-label="Heading self-link"></a></h2><p>​ 您可以使用 CSS 有选择性地禁用（隐藏）链接。例如，将以下内容添加到 <a href=https://t.is-local.org/zh-cn/docs/adding-content/lookandfeel/#project-style-files>项目的 <code>_styles_project.scss</code></a> 文件中，以从所有页面中隐藏 <strong>Create child page</strong> 链接：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scss data-lang=scss><span style=display:flex><span><span style=color:#000>.td-page-meta--child</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#c4a000>display</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#ce5c00>none</span> <span style=color:#204a87;font-weight:700>!important</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>​ 每种链接类型都有一个与之关联的唯一类名 <code>.td-page-meta--KIND</code>，如下表所定义：</p><table><thead><tr><th>链接类型</th><th>类名</th></tr></thead><tbody><tr><td>View page source</td><td><code>.td-page-meta--view</code></td></tr><tr><td>Edit this page</td><td><code>.td-page-meta--edit</code></td></tr><tr><td>Create child page</td><td><code>.td-page-meta--child</code></td></tr><tr><td>Create documentation issue</td><td><code>.td-page-meta--issue</code></td></tr><tr><td>Create project issue</td><td><code>.td-page-meta--project-issue</code></td></tr></tbody></table><p>​ 当然，您也可以使用这些类为您的项目为仓库链接提供独特的样式。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-a5c4e4ca066d558258b5c6d3b2ebd5f5>2.10 - 分类支持</h1><p>​ 使用标签、分类、标签结构等分类法来组织内容。</p><p><img alt=image-20230501090225944 src=TaxonomySupport_img/image-20230501090225944.png></p><p>​ Docsy支持Hugo的分类法（参见：<a href=https://gohugo.io/content-management/taxonomies/>https://gohugo.io/content-management/taxonomies/</a>）用于文档和博客章节。您可以在此页面上查看默认布局，并测试生成的链接行为。</p><h2 id=terminology-术语>Terminology 术语<a class=td-heading-self-link href=#terminology-%e6%9c%af%e8%af%ad aria-label="Heading self-link"></a></h2><p>​ 要理解分类法的用法，您应理解以下术语：</p><ul><li><p>Taxonomy 分类法</p><p>可用于对内容进行分类的类别，例如：标签、分类、项目、人员。</p></li><li><p>Term 条目</p><p>分类法内的关键词，例如：在项目中：项目A、项目B。</p></li><li><p>Value 值</p><p>分配给条目的内容，例如：您站点上的页面，它属于特定的项目</p></li></ul><p>​ 在官方Hugo文档中可以找到一个电影站点的分类法示例：<a href=https://gohugo.io/content-management/taxonomies/#example-taxonomy-movie-website>https://gohugo.io/content-management/taxonomies/#example-taxonomy-movie-website</a>。</p><h2 id=参数>参数<a class=td-heading-self-link href=#%e5%8f%82%e6%95%b0 aria-label="Heading self-link"></a></h2><p>​ 有各种参数来控制项目<a href=https://gohugo.io/getting-started/configuration/#configuration-file>配置文件</a>中分类法的功能。</p><p>​ 默认情况下，Hugo 中启用<code>tags</code>和<code>categories</code>的分类法（参见：<a href=https://gohugo.io/content-management/taxonomies/#default-taxonomies>https://gohugo.io/content-management/taxonomies/#default-taxonomies</a>）。在 Docsy 中，默认情况下在 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中禁用分类法：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
disableKinds:
  - taxonomy
  - taxonomyTerm

```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
disableKinds = [&quot;taxonomy&quot;, &quot;taxonomyTerm&quot;]

```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;disableKinds&quot;: [
    &quot;taxonomy&quot;,
    &quot;taxonomyTerm&quot;
  ]
}

```
</code></pre><p>​ 如果你想在Docsy中启用分类法，你需要在你的项目的 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 文件中删除（或注释掉）这一行。然后Hugo将生成 <code>tags</code> 和 <code>categories</code> 的分类法页面。如果你想使用其他分类法，你需要在你的<a href=https://gohugo.io/getting-started/configuration/#configuration-file>配置文件</a>中定义它们。如果你想同时使用自己的分类法和默认的 <code>tags</code> 和 <code>categories</code> 分类法，你还需要除了你自己的分类法外定义它们。你需要为每个分类法提供复数和单数标签。</p><p>​ 通过以下示例，你可以定义一个名为 <code>projects</code> 的额外分类法，除了默认的 <code>tags</code> 和 <code>categories</code> 分类法之外：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
taxonomies:
  tag: tags
  category: categories
  project: projects
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[taxonomies]
tag = &quot;tags&quot;
category = &quot;categories&quot;
project = &quot;projects&quot;
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;taxonomies&quot;: {
    &quot;tag&quot;: &quot;tags&quot;,
    &quot;category&quot;: &quot;categories&quot;,
    &quot;project&quot;: &quot;projects&quot;
  }
}
```
</code></pre><p>​ 你可以在你项目的 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中使用以下参数来控制在Docsy中为每篇文章或页面分配的分类法条目的输出，或在Docsy的右侧边栏中显示"标签云"：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  taxonomy:
    taxonomyCloud:
      - projects    # remove all entries
      - tags        # to hide taxonomy clouds
    taxonomyCloudTitle:   # if used, must have the same
      - Our Projects      # number of entries as taxonomyCloud
      - Tag Cloud
    taxonomyPageHeader:
      - tags        # remove all entries
      - categories  # to hide taxonomy clouds
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.taxonomy]
taxonomyCloud = [&quot;projects&quot;, &quot;tags&quot;] # set taxonomyCloud = [] to hide taxonomy clouds
taxonomyCloudTitle = [&quot;Our Projects&quot;, &quot;Tag Cloud&quot;] # if used, must have same length as taxonomyCloud
taxonomyPageHeader = [&quot;tags&quot;, &quot;categories&quot;] # set taxonomyPageHeader = [] to hide taxonomies on the page headers
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;taxonomy&quot;: {
      &quot;taxonomyCloud&quot;: [
        &quot;projects&quot;,
        &quot;tags&quot;
      ],
      &quot;taxonomyCloudTitle&quot;: [
        &quot;Our Projects&quot;,
        &quot;Tag Cloud&quot;
      ],
      &quot;taxonomyPageHeader&quot;: [
        &quot;tags&quot;,
        &quot;categories&quot;
      ]
    }
  }
}
```
</code></pre><p>​ 以上设置仅在Docsy的右侧边栏中显示 <code>projects</code> 和 <code>tags</code> 的分类法云（分别带有"Our Projects"和"Tag Cloud"标题），以及每个页面的分类法 <code>tags</code> 和 <code>categories</code> 的分配条目。</p><p>​ 要禁用任何分类法云，你需要设置参数 <code>taxonomyCloud = []</code>。如果你不想显示分配的条目，你需要设置 <code>taxonomyPageHeader = []</code>。</p><p>​ 默认情况下，一个分类法的复数标签被用作云标题。你可以使用 <code>taxonomyCloudTitle</code> 覆盖默认的云标题。但是如果你这样做了，你必须为每个启用的分类法云定义一个手动标题（<code>taxonomyCloud</code> 和 <code>taxonomyCloudTitle</code> 必须具有相同的长度！）。</p><p>​ 如果您没有设置参数 <code>taxonomyCloud</code> 或 <code>taxonomyPageHeader</code>，则会生成所有定义的分类法的分类云或分配术语。</p><h2 id=partials-局部>Partials 局部<a class=td-heading-self-link href=#partials-%e5%b1%80%e9%83%a8 aria-label="Heading self-link"></a></h2><p>​ 默认使用的partials用于显示分类法，因此定义它们时您应该也能够在自己的布局中轻松使用它们。</p><h3 id=taxonomy_terms_article>taxonomy_terms_article<a class=td-heading-self-link href=#taxonomy_terms_article aria-label="Heading self-link"></a></h3><p>​ partial <code>taxonomy_terms_article</code> 显示给定文章或页面的给定分类法（partial参数 <code>taxo</code>）的所有分配术语（partial参数 <code>context</code>，大多数情况下是当前页面或上下文 <code>.</code>）。</p><p>​ 在 <code>layouts/docs/list.html</code> 中示例用法，用于文档章节中每个页面的标题：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>$context</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>:=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#c4a000>.</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>}}</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>range</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>$taxo</span><span style=color:#ce5c00;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>$taxo_map</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>:=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#c4a000>.Site.Taxonomies</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>}}</span>
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>{{</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>partial</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;taxonomy_terms_article.html&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>dict</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;context&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>$context</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;taxo&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>$taxo</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>}}</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>end</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>}}</span>
</span></span></code></pre></div><p>​ 对于当前页面（或上下文（resp. context））中定义的每个分类法，这将为您提供一个列出所有已分配术语的列表：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy taxonomy-terms-article taxo-categories&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>h5</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-title&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Categories:<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>h5</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>ul</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-terms&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-term&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;//localhost:1313/categories/taxonomies/&#34;</span> <span style=color:#c4a000>data-taxonomy-term</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomies&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-label&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Taxonomies<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>ul</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy taxonomy-terms-article taxo-tags&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>h5</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-title&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Tags:<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>h5</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>ul</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-terms&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-term&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;//localhost:1313/tags/tagging/&#34;</span> <span style=color:#c4a000>data-taxonomy-term</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;tagging&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-label&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Tagging<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-term&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;//localhost:1313/tags/structuring-content/&#34;</span> <span style=color:#c4a000>data-taxonomy-term</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;structuring-content&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-label&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Structuring Content<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-term&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;//localhost:1313/tags/labelling/&#34;</span> <span style=color:#c4a000>data-taxonomy-term</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;labelling&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-label&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Labelling<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>ul</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><h3 id=taxonomy_terms_article_wrapper>taxonomy_terms_article_wrapper<a class=td-heading-self-link href=#taxonomy_terms_article_wrapper aria-label="Heading self-link"></a></h3><p>​ partial <code>taxonomy_terms_article_wrapper</code> 是部分 <code>taxonomy_terms_article</code> 的包装器，仅带有参数 <code>context</code>（大多数情况下是当前页面或上下文（context ） <code>.</code>），并检查您的项目的 <code>hugo.toml</code> / <code>hugo.yaml</code> / <code>hugo.json</code> 的分类法参数，以循环遍历参数 <code>taxonomyPageHeader</code> 的所有列出的分类法或页面的所有定义的分类法，如果未设置 <code>taxonomyPageHeader</code>。</p><h3 id=taxonomy_terms_cloud>taxonomy_terms_cloud<a class=td-heading-self-link href=#taxonomy_terms_cloud aria-label="Heading self-link"></a></h3><p>​ partial <code>taxonomy_terms_cloud</code> 显示站点（部分参数 <code>context</code>，大多数情况下是当前页面或上下文 <code>.</code>）给定分类法（partial 参数 <code>taxo</code>）的所有使用术语，并使用参数 <code>title</code> 作为标题。</p><p>​ 在partial <code>taxonomy_terms_clouds</code> 中示例用法，用于显示所有定义的分类法及其术语：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>$context</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>:=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#c4a000>.</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>}}</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>range</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>$taxo</span><span style=color:#ce5c00;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>$taxo_map</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>:=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#c4a000>.Site.Taxonomies</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>}}</span>
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>{{</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>partial</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;taxonomy_terms_cloud.html&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>dict</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;context&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>$context</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;taxo&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>$taxo</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;title&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>humanize</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>$taxo</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>}}</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>end</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>}}</span>
</span></span></code></pre></div><p>​ 例如，这将为分类法 <code>categories</code> 提供以下 HTML 标记：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy taxonomy-terms-cloud taxo-categories&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>h5</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-title&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Cloud of Categories<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>h5</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>ul</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-terms&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-term&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;//localhost:1313/categories/category-1/&#34;</span> <span style=color:#c4a000>data-taxonomy-term</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;category-1&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-label&#34;</span><span style=color:#000;font-weight:700>&gt;</span>category 1<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-count&#34;</span><span style=color:#000;font-weight:700>&gt;</span>3<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-term&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;//localhost:1313/categories/category-2/&#34;</span> <span style=color:#c4a000>data-taxonomy-term</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;category-2&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-label&#34;</span><span style=color:#000;font-weight:700>&gt;</span>category 2<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-count&#34;</span><span style=color:#000;font-weight:700>&gt;</span>1<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-term&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;//localhost:1313/categories/category-3/&#34;</span> <span style=color:#c4a000>data-taxonomy-term</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;category-3&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-label&#34;</span><span style=color:#000;font-weight:700>&gt;</span>category 3<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-count&#34;</span><span style=color:#000;font-weight:700>&gt;</span>2<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-term&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;//localhost:1313/categories/category-4/&#34;</span> <span style=color:#c4a000>data-taxonomy-term</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;category-4&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-label&#34;</span><span style=color:#000;font-weight:700>&gt;</span>category 4<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-count&#34;</span><span style=color:#000;font-weight:700>&gt;</span>6<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>ul</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><h3 id=taxonomy_terms_clouds>taxonomy_terms_clouds<a class=td-heading-self-link href=#taxonomy_terms_clouds aria-label="Heading self-link"></a></h3><p>​ partial <code>taxonomy_terms_clouds</code> 是partial <code>taxonomy_terms_cloud</code> 的包装器，仅带有参数 <code>context</code>（大多数情况下是当前页面或上下文 <code>.</code>），并检查您的项目的 <code>hugo.toml</code> / <code>hugo.yaml</code> / <code>hugo.json</code> 的分类法参数，以循环遍历参数 <code>taxonomyCloud</code> 的所有列出的分类法或页面的所有定义的分类法，如果未设置 <code>taxonomyCloud</code>。</p><h2 id=分类法的多语言支持>分类法的多语言支持<a class=td-heading-self-link href=#%e5%88%86%e7%b1%bb%e6%b3%95%e7%9a%84%e5%a4%9a%e8%af%ad%e8%a8%80%e6%94%af%e6%8c%81 aria-label="Heading self-link"></a></h2><p>​ 与分类法条目相关的内容只在相同语言内进行计数和链接！分类法支持的控制参数也可以分配给特定的语言。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-1e805606666d2b0ed8f8c934469e6fb8>2.11 - 图表和公式</h1><p><a href=https://t.is-local.org/zh-cn/docs/adding-content/diagrams-and-formulae/>https://t.is-local.org/zh-cn/docs/adding-content/diagrams-and-formulae/</a></p><p>​ 在您的站点中添加生成的图表和科学公式。</p><p>​ Docsy内置支持多个图表创建和排版工具，您可以使用这些工具向您的站点添加丰富的内容，包括KaTeX、Mermaid、Diagrams.net、PlantUML和MarkMap。</p><h2 id=使用-katex-支持-latex>使用 KaTeX 支持 LaTeX<a class=td-heading-self-link href=#%e4%bd%bf%e7%94%a8-katex-%e6%94%af%e6%8c%81-latex aria-label="Heading self-link"></a></h2><p>​ <a href=https://www.latex-project.org/>LaTeX</a>是一种高质量的排版系统，用于制作技术和科学文档。由于其出色的数学排版能力，TeX成为了科学文档的沟通和出版的事实标准，特别是如果这些文档包含大量数学公式。LaTeX由Donald Knuth设计和主要编写，最初的版本于1978年发布。由于其起始时间很早，LaTeX的主要输出目标是<code>pdf</code>，并不特别适合生成Web的HTML输出。幸运的是，有一个快速易用的JavaScript库，即<a href=https://katex.org/> KaTeX</a>，可以用于在Web上呈现TeX数学公式，它已经集成到Docsy主题中。</p><p>​ 通过在Docsy中<a href=https://t.is-local.org/zh-cn/docs/adding-content/diagrams-and-formulae/#activating-and-configuring-katex-support>启用</a>KaTeX支持，您可以将复杂的数学公式嵌入到网页中，以行内或独立的方式居中显示。由于KaTeX依赖于服务器端渲染，因此它会生成相同的输出，无论您的浏览器或环境如何。公式可以以行内或显示模式显示：</p><h3 id=内联公式>内联公式<a class=td-heading-self-link href=#%e5%86%85%e8%81%94%e5%85%ac%e5%bc%8f aria-label="Heading self-link"></a></h3><p>​ 以下代码示例生成一个带有三个内联公式的文本行：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tex data-lang=tex><span style=display:flex><span>When <span style=color:#204a87;font-weight:700>\\</span>(a <span style=color:#204a87;font-weight:700>\ne</span> 0<span style=color:#204a87;font-weight:700>\\</span>), there are two solutions to <span style=color:#204a87;font-weight:700>\\</span>(ax<span style=color:#204a87>^</span>2 + bx + c= 0<span style=color:#204a87;font-weight:700>\\</span>) and they are <span style=color:#204a87;font-weight:700>\\</span>(x = <span style=color:#204a87>{</span>-b <span style=color:#204a87;font-weight:700>\pm</span> <span style=color:#204a87;font-weight:700>\sqrt</span><span style=color:#204a87>{</span>b<span style=color:#204a87>^</span>2-4ac<span style=color:#204a87>}</span> <span style=color:#204a87;font-weight:700>\over</span> 2a<span style=color:#204a87>}</span><span style=color:#204a87;font-weight:700>\\</span>).
</span></span></code></pre></div><p><img alt=image-20230501101438759 src=DiagramsAndFormulae_img/image-20230501101438759.png></p><h3 id=显示模式的公式>显示模式的公式<a class=td-heading-self-link href=#%e6%98%be%e7%a4%ba%e6%a8%a1%e5%bc%8f%e7%9a%84%e5%85%ac%e5%bc%8f aria-label="Heading self-link"></a></h3><p>​ 以下代码示例生成一个介绍性文本行，后跟一个编号为<code>(1)</code>的单独行上的公式：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>The probability of getting \\(k\\) heads when flipping \\(n\\) coins is:
</span></span><span style=display:flex><span><span style=color:#4e9a06>```math
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>\tag*{(1)} P(E) = {n \choose k} p^k (1-p)^{n-k}
</span></span><span style=display:flex><span><span style=color:#4e9a06>```</span>
</span></span></code></pre></div><p>​ 该公式本身写在 <a href=https://docs.gitlab.com/ee/user/markdown.html#math>GLFM 数学块</a>中。上面的代码片段渲染为：</p><p><img alt=image-20230502153945142 src=DiagramsAndFormulae_img/image-20230502153945142.png></p><blockquote><p>警告</p><p>​ <code>math</code> 代码块仅在 Hugo 版本 0.93 及以上版本中受支持。</p><p>​ 在 Hugo 版本 0.92 或更低版本的情况下，请使用此代码段显示公式：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tex data-lang=tex><span style=display:flex><span><span style=color:#4e9a06>$$</span><span style=color:#204a87>
</span></span></span><span style=display:flex><span><span style=color:#204a87></span><span style=color:#000>\tag</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#204a87>{</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>)</span><span style=color:#204a87>} P</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87>E</span><span style=color:#ce5c00;font-weight:700>)</span><span style=color:#204a87> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87> {n </span><span style=color:#000>\choose</span><span style=color:#204a87> k} p^k </span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#204a87>p</span><span style=color:#ce5c00;font-weight:700>)</span><span style=color:#204a87>^{n</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#204a87>k}
</span></span></span><span style=display:flex><span><span style=color:#204a87></span><span style=color:#4e9a06>$$</span>
</span></span></code></pre></div></blockquote><blockquote><p>提示</p><p>​ 这个<a href=https://en.wikibooks.org/wiki/LaTeX/Mathematics>维基页面</a>提供了有关使用 LaTeX 排版系统排版数学公式的详细信息。</p></blockquote><h3 id=激活和配置-katex-支持>激活和配置 KaTeX 支持<a class=td-heading-self-link href=#%e6%bf%80%e6%b4%bb%e5%92%8c%e9%85%8d%e7%bd%ae-katex-%e6%94%af%e6%8c%81 aria-label="Heading self-link"></a></h3><h4 id=自动激活>自动激活<a class=td-heading-self-link href=#%e8%87%aa%e5%8a%a8%e6%bf%80%e6%b4%bb aria-label="Heading self-link"></a></h4><p>​ 只要在页面上使用 <code>math</code> 代码块，KaTeX 支持就会自动启用。</p><h4 id=手动激活没有-math-代码块存在或使用的是-hugo-092-或更低版本>手动激活（没有 <code>math</code> 代码块存在或使用的是 hugo 0.92 或更低版本）<a class=td-heading-self-link href=#%e6%89%8b%e5%8a%a8%e6%bf%80%e6%b4%bb%e6%b2%a1%e6%9c%89-math-%e4%bb%a3%e7%a0%81%e5%9d%97%e5%ad%98%e5%9c%a8%e6%88%96%e4%bd%bf%e7%94%a8%e7%9a%84%e6%98%af-hugo-092-%e6%88%96%e6%9b%b4%e4%bd%8e%e7%89%88%e6%9c%ac aria-label="Heading self-link"></a></h4><p>​ 如果你想使用内联公式，并且在页面上没有 <code>math</code> 代码块触发自动激活，那么你需要手动激活 KaTeX 支持。最简单的方法是在页面的前置元数据中添加一个 <code>math</code> 属性，并将其设置为 <code>true</code>：</p><p>Page front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
math: true
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
math = true
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;math&quot;: true
}
```
</code></pre><p>​ 如果你在大多数页面中使用公式，你也可以在 Docsy 主题中启用站点范围的 KaTeX 支持。要这样做，请更新 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>：</p><p>Site configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  katex:
    enable: true
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.katex]
enable = true
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;katex&quot;: {
      &quot;enable&quot;: true
    }
  }
}
```
</code></pre><p>​ 此外，如果需要，还可以在 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中自定义各种 KaTeX 选项：</p><p>Site configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  katex:
    enable: true  # enable/disable KaTeX support
    html_dom_element: document.body  # Element(s) scanned by auto render extension. Default: document.body
    options:

      # If true (the default), KaTeX will throw a ParseError when it encounters an
      # unsupported command or invalid LaTeX. If false, KaTeX will render unsupported
      # commands as text, and render invalid LaTeX as its source code with hover text
      # giving the error, in the color given by errorColor.
      throwOnError: false
      errorColor: '#CD5C5C'

      # This is a list of delimiters to look for math, processed in the same order as
      # the list. Each delimiter has three properties:
      #   left:    A string which starts the math expression (i.e. the left delimiter).
      #   right:   A string which ends the math expression (i.e. the right delimiter).
      #   display: Whether math in the expression should be rendered in display mode.
      delimiters:
        - left: $$
          right: $$
          display: true
        - left: $
          right: $
          display: false
        - left: \(
          right: \)
          display: false
        - left: \[
          right: \]
          display: true
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.katex]
# enable/disable KaTeX support
enable = true
# Element(s) scanned by auto render extension. Default: document.body
html_dom_element = &quot;document.body&quot;

[params.katex.options]
# If true (the default), KaTeX will throw a ParseError when it encounters an
# unsupported command or invalid LaTeX. If false, KaTeX will render unsupported
# commands as text, and render invalid LaTeX as its source code with hover text
# giving the error, in the color given by errorColor.
throwOnError = false
errorColor = &quot;#CD5C5C&quot;

# This is a list of delimiters to look for math, processed in the same order as
# the list. Each delimiter has three properties:
#   left:    A string which starts the math expression (i.e. the left delimiter).
#   right:   A string which ends the math expression (i.e. the right delimiter).
#   display: Whether math in the expression should be rendered in display mode.
[[params.katex.options.delimiters]]
  left = &quot;$$&quot;
  right = &quot;$$&quot;
  display = true
[[params.katex.options.delimiters]]
  left = &quot;$&quot;
  right = &quot;$&quot;
  display = false
[[params.katex.options.delimiters]]
  left = &quot;\\(&quot;
  right = &quot;\\)&quot;
  display = false
[[params.katex.options.delimiters]]
  left = &quot;\\[&quot;
  right = &quot;\\]&quot;
  display = true
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;katex&quot;: {
      &quot;enable&quot;: true,
      &quot;html_dom_element&quot;: &quot;document.body&quot;,
      &quot;options&quot;: {
        &quot;throwOnError&quot;: false,
        &quot;errorColor&quot;: &quot;#CD5C5C&quot;,
        &quot;delimiters&quot;: [
          {
            &quot;left&quot;: &quot;$$&quot;,
            &quot;right&quot;: &quot;$$&quot;,
            &quot;display&quot;: true
          },
          {
            &quot;left&quot;: &quot;$&quot;,
            &quot;right&quot;: &quot;$&quot;,
            &quot;display&quot;: false
          },
          {
            &quot;left&quot;: &quot;\\(&quot;,
            &quot;right&quot;: &quot;\\)&quot;,
            &quot;display&quot;: false
          },
          {
            &quot;left&quot;: &quot;\\[&quot;,
            &quot;right&quot;: &quot;\\]&quot;,
            &quot;display&quot;: true
          }
        ]
      }
    }
  }
}
```
</code></pre><p>​ 完整的选项列表及其详细描述，请查看 KaTeX 的 <a href=https://katex.org/docs/autorender.html#api>Rendering API options</a> 和 <a href=https://katex.org/docs/options.html>configuration options</a> 文档。</p><h3 id=化学方程式和物理单位的显示>化学方程式和物理单位的显示<a class=td-heading-self-link href=#%e5%8c%96%e5%ad%a6%e6%96%b9%e7%a8%8b%e5%bc%8f%e5%92%8c%e7%89%a9%e7%90%86%e5%8d%95%e4%bd%8d%e7%9a%84%e6%98%be%e7%a4%ba aria-label="Heading self-link"></a></h3><p>​ <a href=https://www.ctan.org/pkg/mhchem>mhchem</a> 是一个 LaTeX 包，用于排版化学分子式和方程式。幸运的是，KaTeX 提供了 <code>mhchem</code> <a href=https://github.com/KaTeX/KaTeX/tree/main/contrib/mhchem>扩展</a>，使得在编写 web 内容时能够使用 <code>mhchem</code> 包。<a href=https://t.is-local.org/zh-cn/docs/adding-content/diagrams-and-formulae/#activating-rendering-support-for-chemical-formulae>启用</a> <code>mhchem</code> 扩展后，您可以轻松地将化学方程式包含在您的页面中，方程式可以以行内或独立行的形式显示。以下代码示例生成一个包含化学方程式的文本行：</p><pre tabindex=0><code class=language-mhchem data-lang=mhchem>*Precipitation of barium sulfate:* \\(\ce{SO4^2- + Ba^2+ -&gt; BaSO4 v}\\)
</code></pre><p><img alt=image-20230501101725979 src=DiagramsAndFormulae_img/image-20230501101725979.png></p><p>硫酸钡的沉淀：</p><p>​ 更复杂的方程式需要单独占据一行。使用附有 <code>chem</code> 的代码块即可实现此目的：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span><span style=color:#4e9a06>```chem
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>\tag*{(2)} \ce{Zn^2+  &lt;=&gt;[+ 2OH-][+ 2H+]  $\underset{\text{amphoteric hydroxide}}{\ce{Zn(OH)2 v}}$  &lt;=&gt;[+ 2OH-][+ 2H+]  $\underset{\text{tetrahydroxozincate}}{\ce{[Zn(OH)4]^2-}}$}
</span></span><span style=display:flex><span><span style=color:#4e9a06>```</span>
</span></span></code></pre></div><p><img alt=image-20230501091706760 src=DiagramsAndFormulae_img/image-20230501091706760.png></p><blockquote><p>Warning</p><p>​ <code>chem</code> 代码块仅在 Hugo 版本 0.93 及以上版本中受支持。</p><p>​ 在 hugo 版本 0.92 或更低版本中，使用此代码片段来显示公式：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tex data-lang=tex><span style=display:flex><span><span style=color:#4e9a06>$$</span><span style=color:#204a87>
</span></span></span><span style=display:flex><span><span style=color:#204a87></span><span style=color:#000>\tag</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#204a87>{</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#ce5c00;font-weight:700>)</span><span style=color:#204a87>} </span><span style=color:#000>\ce</span><span style=color:#204a87>{Zn^</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#204a87>  &lt;</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>&gt;</span><span style=color:#ce5c00;font-weight:700>[+</span><span style=color:#204a87> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#204a87>OH</span><span style=color:#ce5c00;font-weight:700>-][+</span><span style=color:#204a87> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#204a87>H</span><span style=color:#ce5c00;font-weight:700>+]</span><span style=color:#204a87>  $</span><span style=color:#000>\underset</span><span style=color:#204a87>{</span><span style=color:#000>\text</span><span style=color:#204a87>{amphoteric hydroxide}}{</span><span style=color:#000>\ce</span><span style=color:#204a87>{Zn</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87>OH</span><span style=color:#ce5c00;font-weight:700>)</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#204a87> v}}$  &lt;</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>&gt;</span><span style=color:#ce5c00;font-weight:700>[+</span><span style=color:#204a87> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#204a87>OH</span><span style=color:#ce5c00;font-weight:700>-][+</span><span style=color:#204a87> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#204a87>H</span><span style=color:#ce5c00;font-weight:700>+]</span><span style=color:#204a87>  $</span><span style=color:#000>\underset</span><span style=color:#204a87>{</span><span style=color:#000>\text</span><span style=color:#204a87>{tetrahydroxozincate}}{</span><span style=color:#000>\ce</span><span style=color:#204a87>{</span><span style=color:#ce5c00;font-weight:700>[</span><span style=color:#204a87>Zn</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87>OH</span><span style=color:#ce5c00;font-weight:700>)</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#ce5c00;font-weight:700>]</span><span style=color:#204a87>^</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#204a87>}}$}
</span></span></span><span style=display:flex><span><span style=color:#204a87></span><span style=color:#4e9a06>$$</span>
</span></span></code></pre></div></blockquote><blockquote><p>Note</p><p><a href=https://mhchem.github.io/MathJax-mhchem/>mchem 的手册</a> 提供了使用 <code>mhchem</code> 工具排版化学式和物理单位的输入语法的详细信息。</p></blockquote><p>​ 使用 <code>mhchem</code> 并不仅限于编写化学方程式，通过包含的 <code>\pu</code> 命令，也可以轻松地编写漂亮的物理单位。下面的代码示例生成了两行带有四个数字及其对应物理单位的文本：</p><pre tabindex=0><code class=language-mhchem data-lang=mhchem>* Scientific number notation: \\(\pu{1.2e3 kJ}\\) or \\(\pu{1.2E3 kJ}\\) \\
* Divisions: \\(\pu{123 kJ/mol}\\) or \\(\pu{123 kJ//mol}\\)
</code></pre><p><img alt=image-20230501101828598 src=DiagramsAndFormulae_img/image-20230501101828598.png></p><p>​ 要查看有关编写物理单位的所有选项，请查看 <code>mhchem</code> 文档中的 <a href=https://mhchem.github.io/MathJax-mhchem/#pu>物理单位章节</a>。</p><h4 id=激活化学公式的渲染支持>激活化学公式的渲染支持<a class=td-heading-self-link href=#%e6%bf%80%e6%b4%bb%e5%8c%96%e5%ad%a6%e5%85%ac%e5%bc%8f%e7%9a%84%e6%b8%b2%e6%9f%93%e6%94%af%e6%8c%81 aria-label="Heading self-link"></a></h4><h5 id=自动激活-1>自动激活<a class=td-heading-self-link href=#%e8%87%aa%e5%8a%a8%e6%bf%80%e6%b4%bb-1 aria-label="Heading self-link"></a></h5><p>​ 只要在页面上使用了 <code>chem</code> 代码块，就会自动启用化学公式的渲染支持。</p><h5 id=手动激活没有-chem-代码块存在或使用的是-hugo-092-或更低版本>手动激活（没有 <code>chem</code> 代码块存在或使用的是 hugo 0.92 或更低版本）<a class=td-heading-self-link href=#%e6%89%8b%e5%8a%a8%e6%bf%80%e6%b4%bb%e6%b2%a1%e6%9c%89-chem-%e4%bb%a3%e7%a0%81%e5%9d%97%e5%ad%98%e5%9c%a8%e6%88%96%e4%bd%bf%e7%94%a8%e7%9a%84%e6%98%af-hugo-092-%e6%88%96%e6%9b%b4%e4%bd%8e%e7%89%88%e6%9c%ac aria-label="Heading self-link"></a></h5><p>​ 如果您想在内联中使用化学公式，并且在您的页面中没有触发自动激活的 <code>chem</code> 代码块，您需要手动激活化学公式的渲染支持。最简单的方法是在页面的前置元数据中添加一个 <code>chem</code> 属性并将其设置为 <code>true</code>：</p><p>Page front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
chem: true
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
chem = true
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;chem&quot;: true
}
```
</code></pre><p>​ 如果您在大多数页面中使用公式，也可以在 Docsy 主题中启用站点范围的化学公式渲染支持。为此，请在 <code>hugo.toml</code> / <code>hugo.yaml</code> / <code>hugo.json</code> 中启用 <code>mhchem</code>：</p><p>Site configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  katex:
    enable: true
    mhchem:
      enable: true
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.katex]
enable = true

[params.katex.mhchem]
enable = true
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;katex&quot;: {
      &quot;enable&quot;: true,
      &quot;mhchem&quot;: {
        &quot;enable&quot;: true
      }
    }
  }
}
```
</code></pre><h2 id=使用-mermaid-绘制图表>使用 Mermaid 绘制图表<a class=td-heading-self-link href=#%e4%bd%bf%e7%94%a8-mermaid-%e7%bb%98%e5%88%b6%e5%9b%be%e8%a1%a8 aria-label="Heading self-link"></a></h2><p>​ <a href=https://mermaid-js.github.io/>Mermaid</a> 是一个用于在浏览器中将简单文本定义转换为有用图表的 JavaScript 库。它可以生成各种不同类型的图表，包括流程图、时序图、类图、状态图、ER 图、用户旅程图、甘特图和饼图。</p><p>​ 在 Docsy 中启用 Mermaid 支持后，您可以在代码块中包含 Mermaid 图表的文本定义，并在页面加载后自动在浏览器中渲染它。</p><p>​ 这样做的巨大优势在于，任何可以编辑页面的人现在都可以编辑图表——不再需要寻找原始工具和版本来进行新的编辑。</p><p>​ 例如，以下定义了一个简单的流程图：</p><pre tabindex=0><code>```mermaid
graph TD
  Start --&gt; Need{&#34;Hugo version &gt;= 0.93.0&#34;}
  Need -- No --&gt; Off[&#34;Set params.mermaid.enable = true&#34;]
  Off --&gt; Author
  Need -- Yes --&gt; Author[Insert mermaid codeblock]
```
</code></pre><p>自动渲染为：</p><p><img alt=image-20230501101917462 src=DiagramsAndFormulae_img/image-20230501101917462.png></p><p>​ 使用hugo版本0.93或更高版本时，只要在页面上使用<code>mermaid</code>代码块，就会自动启用Mermaid图表的支持。</p><p>​ 如果使用的是hugo版本0.92或更低版本，则需要通过更新<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>来手动启用Mermaid。</p><p>Hugo version &lt;= 0.92 only:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  mermaid:
    enable: true
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.mermaid]
enable = true
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;mermaid&quot;: {
      &quot;enable&quot;: true
    }
  }
}
```
</code></pre><p>​ 如果需要，您可以在<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>中定义自定义设置，例如主题、填充等。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  mermaid:
    theme: neutral
    flowchart:
      diagramPadding: 6
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.mermaid]
theme = &quot;neutral&quot;

[params.mermaid.flowchart]
diagramPadding = 6
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;mermaid&quot;: {
      &quot;theme&quot;: &quot;neutral&quot;,
      &quot;flowchart&quot;: {
        &quot;diagramPadding&quot;: 6
      }
    }
  }
}
```
</code></pre><p>​ 有关可以覆盖的默认设置列表，请参见<a href="https://mermaid-js.github.io/mermaid/#/Setup?id=mermaidapi-configuration-defaults">Mermaid文档</a>。</p><p>​ 也可以通过在图表定义开头使用<code>%%init%%</code>头来在每个图表上覆盖设置。有关更多信息，请参见<a href="https://mermaid-js.github.io/mermaid/#/theming?id=themes-at-the-local-or-current-level">Mermaid主题文档</a>。</p><h2 id=使用plantuml绘制uml图表>使用PlantUML绘制UML图表<a class=td-heading-self-link href=#%e4%bd%bf%e7%94%a8plantuml%e7%bb%98%e5%88%b6uml%e5%9b%be%e8%a1%a8 aria-label="Heading self-link"></a></h2><p>​ <a href=https://plantuml.com/en/>PlantUML</a>是Mermaid的替代方案，可以快速创建UML图表，包括时序图、用例图和状态图。与完全在浏览器中渲染的Mermaid图表不同，PlantUML使用PlantUML服务器创建图表。您可以使用提供的默认演示服务器（不建议用于生产环境），或者自己运行一个服务器。PlantUML提供了比Mermaid更广泛的图像类型，因此可能是某些用例的更好选择。</p><p>​ 图表使用简单直观的语言定义。<a href=https://plantuml.com/en/guide>（请参见PlantUML语言参考指南）</a>。</p><p>​ 以下示例显示了一个用例图：</p><pre tabindex=0><code>```plantuml
participant participant as Foo
actor       actor       as Foo1
boundary    boundary    as Foo2
control     control     as Foo3
entity      entity      as Foo4
database    database    as Foo5
collections collections as Foo6
queue       queue       as Foo7
Foo -&gt; Foo1 : To actor
Foo -&gt; Foo2 : To boundary
Foo -&gt; Foo3 : To control
Foo -&gt; Foo4 : To entity
Foo -&gt; Foo5 : To database
Foo -&gt; Foo6 : To collections
Foo -&gt; Foo7: To queue
```
</code></pre><p>自动渲染为：</p><p><img alt=img src=DiagramsAndFormulae_img/LO0.svg></p><p>​ 要启用/禁用PlantUML，请更新<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  plantuml:
    enable: true
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.plantuml]
enable = true
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;plantuml&quot;: {
      &quot;enable&quot;: true
    }
  }
}
```
</code></pre><p>​ 其他可选设置包括：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  plantuml:
    enable: true
    theme: default
    # Set url to plantuml server
    # default is http://www.plantuml.com/plantuml/svg/
    svg_image_url: 'https://www.plantuml.com/plantuml/svg/'
    # By default the plantuml implementation uses &lt;img /&gt; tags to display UML diagrams.
    # When svg is set to true, diagrams are displayed using &lt;svg /&gt; tags, maintaining functionality like links e.g.
    # default = false
    svg: true
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.plantuml]
enable = true
theme = &quot;default&quot;

# Set url to plantuml server
# default is http://www.plantuml.com/plantuml/svg/
svg_image_url = &quot;https://www.plantuml.com/plantuml/svg/&quot;

# By default the plantuml implementation uses &lt;img /&gt; tags to display UML diagrams.
# When svg is set to true, diagrams are displayed using &lt;svg /&gt; tags, maintaining functionality like links e.g.
# default = false
svg = true
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;plantuml&quot;: {
      &quot;enable&quot;: true,
      &quot;theme&quot;: &quot;default&quot;,
      &quot;svg_image_url&quot;: &quot;https://www.plantuml.com/plantuml/svg/&quot;,
      &quot;svg&quot;: true
    }
  }
}
```
</code></pre><h2 id=使用markmap实现mindmap支持>使用MarkMap实现MindMap支持<a class=td-heading-self-link href=#%e4%bd%bf%e7%94%a8markmap%e5%ae%9e%e7%8e%b0mindmap%e6%94%af%e6%8c%81 aria-label="Heading self-link"></a></h2><p>​ <a href=https://markmap.js.org/>MarkMap</a>是一个JavaScript库，用于将简单的文本定义渲染为MindMap。</p><p>​ 例如，以下示例定义了一个简单的MindMap：</p><pre tabindex=0><code>```markmap
# markmap

## Links

- &lt;https://markmap.js.org/&gt;
- [GitHub](https://github.com/gera2ld/markmap)

## Related

- [coc-markmap](https://github.com/gera2ld/coc-markmap)
- [gatsby-remark-markmap](https://github.com/gera2ld/gatsby-remark-markmap)

## Features

- links
- **inline** ~~text~~ *styles*
- multiline
  text
- `inline code`
-
    ```js
    console.log(&#39;code block&#39;);
    ```
- Katex - $x = {-b \pm \sqrt{b^2-4ac} \over 2a}$
```
</code></pre><p>自动渲染为：</p><p><img alt=image-20230501102019578 src=DiagramsAndFormulae_img/image-20230501102019578.png></p><p><svg class="markmap mm-vns1zk-1"><g transform="translate(8.88616040726788,117.63644366197185) scale(1.0035211267605633)"><path class="markmap-link" data-depth="1" data-path="1.2" d="M166 10c40 0 40-87.25 80-87.25" stroke="rgb(255, 127, 14)" stroke-width="2"/><path class="markmap-link" data-depth="1" data-path="1.5" d="M166 10c40 0 40-32.25 80-32.25" stroke="rgb(148, 103, 189)" stroke-width="2"/><path class="markmap-link" data-depth="1" data-path="1.8" d="M166 10c40 0 40 87.25 80 87.25" stroke="rgb(127, 127, 127)" stroke-width="2"/><path class="markmap-link" data-depth="2" data-path="1.2.3" d="M299-77.25c40 0 40-12.5 80-12.5" stroke="rgb(44, 160, 44)" stroke-width="1.5"/><path class="markmap-link" data-depth="2" data-path="1.2.4" d="M299-77.25c40 0 40 12.5 80 12.5" stroke="rgb(214, 39, 40)" stroke-width="1.5"/><path class="markmap-link" data-depth="2" data-path="1.5.6" d="M317-22.25c40 0 40-12.5 80-12.5" stroke="rgb(140, 86, 75)" stroke-width="1.5"/><path class="markmap-link" data-depth="2" data-path="1.5.7" d="M317-22.25c40 0 40 12.5 80 12.5" stroke="rgb(227, 119, 194)" stroke-width="1.5"/><path class="markmap-link" data-depth="2" data-path="1.8.9" d="M324 97.25c40 0 40-77 80-77" stroke="rgb(188, 189, 34)" stroke-width="1.5"/><path class="markmap-link" data-depth="2" data-path="1.8.10" d="M324 97.25c40 0 40-52 80-52" stroke="rgb(23, 190, 207)" stroke-width="1.5"/><path class="markmap-link" data-depth="2" data-path="1.8.11" d="M324 97.25c40 0 40-7 80-7" stroke="rgb(31, 119, 180)" stroke-width="1.5"/><path class="markmap-link" data-depth="2" data-path="1.8.12" d="M324 97.25c40 0 40 20 80 20" stroke="rgb(255, 127, 14)" stroke-width="1.5"/><path class="markmap-link" data-depth="2" data-path="1.8.13" d="M324 97.25c40 0 40 52 80 52" stroke="rgb(44, 160, 44)" stroke-width="1.5"/><path class="markmap-link" data-depth="2" data-path="1.8.14" d="M324 97.25c40 0 40 77 80 77" stroke="rgb(214, 39, 40)" stroke-width="1.5"/><g data-depth="2" data-path="1.8.14" transform="translate(404, 154.25)" class="markmap-node"><line x1="-1" x2="340" y1="20" y2="20" stroke="rgb(214, 39, 40)" stroke-width="1.5"/><foreignObject class="markmap-foreign" x="8" y="0" width="322" height="20" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;">Katex - x = {-b \pm \sqrt{b^2-4ac} \over 2a}</div></foreignObject></g><g data-depth="2" data-path="1.8.13" transform="translate(404, 122.25)" class="markmap-node"><line x1="-1" x2="202" y1="27" y2="27" stroke="rgb(44, 160, 44)" stroke-width="1.5"/><foreignObject class="markmap-foreign" x="8" y="0" width="184" height="27" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;"><pre class="language-js" style="box-sizing: border-box; font-family: var(--bs-font-monospace); font-size: 0.875em; display: block; margin: 0px; overflow: auto; overflow-wrap: normal; background-color: rgb(248, 249, 250); padding: 0.2em 0.4em;"><code class="language-js" style="box-sizing: border-box; font-family: var(--bs-font-monospace); font-size: 14px; color: rgb(85, 85, 85); overflow-wrap: break-word; word-break: normal; background-color: inherit !important; border-radius: 2px; padding: 0px; margin: 0px; white-space: pre; border: 0px;">console.log(&lsquo;code block&rsquo;);
</code></pre></div></foreignObject></g><g data-depth="2" data-path="1.8.12" transform="translate(404, 95.25)" class="markmap-node"><line x1="-1" x2="115" y1="22" y2="22" stroke="rgb(255, 127, 14)" stroke-width="1.5"/><foreignObject class="markmap-foreign" x="8" y="0" width="97" height="22" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;"><code style="box-sizing: border-box; font-family: var(--bs-font-monospace); font-size: calc(1em - 2px); color: rgb(85, 85, 85); overflow-wrap: break-word; background-color: rgb(240, 240, 240); border-radius: 2px; padding: 0.2em 0.4em;">inline code</code></div></foreignObject></g><g data-depth="2" data-path="1.8.11" transform="translate(404, 50.25)" class="markmap-node"><line x1="-1" x2="80" y1="40" y2="40" stroke="rgb(31, 119, 180)" stroke-width="1.5"/><foreignObject class="markmap-foreign" x="8" y="0" width="62" height="40" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;">multiline<br style="box-sizing: border-box;">text</div></foreignObject></g><g data-depth="2" data-path="1.8.10" transform="translate(404, 25.25)" class="markmap-node"><line x1="-1" x2="135" y1="20" y2="20" stroke="rgb(23, 190, 207)" stroke-width="1.5"/><foreignObject class="markmap-foreign" x="8" y="0" width="117" height="20" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;"><strong style="box-sizing: border-box; font-weight: bolder;">inline</strong><span> </span><del style="box-sizing: border-box; text-decoration: line-through;">text</del><span> </span><em style="box-sizing: border-box; font-style: italic;">styles</em></div></foreignObject></g><g data-depth="2" data-path="1.8.9" transform="translate(404, 0.25)" class="markmap-node"><line x1="-1" x2="50" y1="20" y2="20" stroke="rgb(188, 189, 34)" stroke-width="1.5"/><foreignObject class="markmap-foreign" x="8" y="0" width="32" height="20" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;">links</div></foreignObject></g><g data-depth="2" data-path="1.5.7" transform="translate(397, -29.75)" class="markmap-node"><line x1="-1" x2="198" y1="20" y2="20" stroke="rgb(227, 119, 194)" stroke-width="1.5"/><foreignObject class="markmap-foreign" x="8" y="0" width="180" height="20" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;"><a href="https://github.com/gera2ld/gatsby-remark-markmap" style="box-sizing: border-box; color: rgb(0, 151, 230); text-decoration: none;">gatsby-remark-markmap</a></div></foreignObject></g><g data-depth="2" data-path="1.5.6" transform="translate(397, -54.75)" class="markmap-node"><line x1="-1" x2="120" y1="20" y2="20" stroke="rgb(140, 86, 75)" stroke-width="1.5"/><foreignObject class="markmap-foreign" x="8" y="0" width="102" height="20" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;"><a href="https://github.com/gera2ld/coc-markmap" style="box-sizing: border-box; color: rgb(0, 151, 230); text-decoration: none;">coc-markmap</a></div></foreignObject></g><g data-depth="2" data-path="1.2.4" transform="translate(379, -84.75)" class="markmap-node"><line x1="-1" x2="70" y1="20" y2="20" stroke="rgb(214, 39, 40)" stroke-width="1.5"/><foreignObject class="markmap-foreign" x="8" y="0" width="52" height="20" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;"><a href="https://github.com/gera2ld/markmap" style="box-sizing: border-box; color: rgb(0, 151, 230); text-decoration: none;">GitHub</a></div></foreignObject></g><g data-depth="2" data-path="1.2.3" transform="translate(379, -109.75)" class="markmap-node"><line x1="-1" x2="189" y1="20" y2="20" stroke="rgb(44, 160, 44)" stroke-width="1.5"/><foreignObject class="markmap-foreign" x="8" y="0" width="171" height="20" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;"><a href="https://markmap.js.org/" style="box-sizing: border-box; color: rgb(0, 151, 230); text-decoration: none;"><a href="https://markmap.js.org/">https://markmap.js.org/</a></a></div></foreignObject></g><g data-depth="1" data-path="1.8" transform="translate(246, 77.25)" class="markmap-node"><line x1="-1" x2="80" y1="20" y2="20" stroke="rgb(127, 127, 127)" stroke-width="2"/><circle stroke-width="1.5" cx="78" cy="20" r="6" stroke="rgb(127, 127, 127)" fill="rgb(255, 255, 255)"/><foreignObject class="markmap-foreign" x="8" y="0" width="62" height="20" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;">Features</div></foreignObject></g><g data-depth="1" data-path="1.5" transform="translate(246, -42.25)" class="markmap-node"><line x1="-1" x2="73" y1="20" y2="20" stroke="rgb(148, 103, 189)" stroke-width="2"/><circle stroke-width="1.5" cx="71" cy="20" r="6" stroke="rgb(148, 103, 189)" fill="rgb(255, 255, 255)"/><foreignObject class="markmap-foreign" x="8" y="0" width="55" height="20" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;">Related</div></foreignObject></g><g data-depth="1" data-path="1.2" transform="translate(246, -97.25)" class="markmap-node"><line x1="-1" x2="55" y1="20" y2="20" stroke="rgb(255, 127, 14)" stroke-width="2"/><circle stroke-width="1.5" cx="53" cy="20" r="6" stroke="rgb(255, 127, 14)" fill="rgb(255, 255, 255)"/><foreignObject class="markmap-foreign" x="8" y="0" width="37" height="20" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;">Links</div></foreignObject></g><g data-depth="0" data-path="1" transform="translate(80,-10)" class="markmap-node"><line x1="-1" x2="88" y1="20" y2="20" stroke="rgb(31, 119, 180)" stroke-width="4"/><circle stroke-width="1.5" cx="86" cy="20" r="6" stroke="rgb(31, 119, 180)" fill="rgb(255, 255, 255)"/><foreignObject class="markmap-foreign" x="8" y="0" width="70" height="20" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;">markmap</div></foreignObject></g></g></svg>
​ 要启用/禁用MarkMap，请更新<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  markmap:
    enable: true
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.markmap]
enable = true
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;markmap&quot;: {
      &quot;enable&quot;: true
    }
  }
}
```
</code></pre><h2 id=使用diagramsnet绘制图表>使用Diagrams.net绘制图表<a class=td-heading-self-link href=#%e4%bd%bf%e7%94%a8diagramsnet%e7%bb%98%e5%88%b6%e5%9b%be%e8%a1%a8 aria-label="Heading self-link"></a></h2><p>​ <a href=https://diagrams.net/>Diagrams.net</a>（又名draw.io）提供了一个免费且开源的图表编辑器，可以使用Web或桌面编辑器生成比Mermaid或PlantUML更广泛的图表。</p><p>​ 使用该工具导出的SVG和PNG文件默认包含原始图表的源代码，这使得diagrams.net网站可以再次导入这些图像以进行将来的编辑。Docsy可以检测到这一点，并在任何可以使用在线站点进行编辑的图像上自动添加"edit" 按钮。</p><p>​ 将鼠标悬停在下面的图像上，单击编辑即可立即开始使用。单击"Save" 按钮将导致编辑后的图表以相同的文件名和文件类型导出，并下载到您的浏览器中。</p><blockquote><h4 id=注意>注意<a class=td-heading-self-link href=#%e6%b3%a8%e6%84%8f aria-label="Heading self-link"></a></h4><p>如果您要创建一个新的图表，请务必选择File -> Export以svg 或png 格式导出（svg 通常是最好的选择），并确保选择了"包括我的图表副本"，以便以后可以再次编辑它。</p></blockquote><p>​ 由于通过浏览器传输图表数据，因此diagrams.net服务器根本不需要直接访问您的Docsy服务器上的内容。</p><p><img alt=image-20230502162252057 src=DiagramsAndFormulae_img/image-20230502162252057.png></p><p>​ 将鼠标悬停在上面的图像上，然后单击编辑按钮！</p><p>​ 要禁用图表的检测，请更新<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  drawio:
    enable: false
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.drawio]
enable = false
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;drawio&quot;: {
      &quot;enable&quot;: false
    }
  }
}
```
</code></pre><p>​ 您还可以<a href=https://github.com/jgraph/docker-drawio/blob/master/README.md>部署和使用自己的服务器</a>来编辑图表，在这种情况下，请更新配置以指向该服务器：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  drawio:
    drawio_server: 'https://app.mydrawioserver.example.com'
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.drawio]
drawio_server = &quot;https://app.mydrawioserver.example.com&quot;
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;drawio&quot;: {
      &quot;drawio_server&quot;: &quot;https://app.mydrawioserver.example.com&quot;
    }
  }
}
```
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-f9bb5b804d0f5d24b86d2c06ef3d800c>3 - 多语言支持</h1><p><a href=https://www.docsy.dev/docs/language/>https://www.docsy.dev/docs/language/</a></p><p>​ 在您的站点中支持多种语言。</p><p>​ 如果您想提供多种语言的站点内容，Docsy主题和Hugo可以轻松添加已翻译的内容，并使用户可以在语言版本之间导航。</p><h2 id=内容和配置>内容和配置<a class=td-heading-self-link href=#%e5%86%85%e5%ae%b9%e5%92%8c%e9%85%8d%e7%bd%ae aria-label="Heading self-link"></a></h2><p>​ 要添加多语言内容，您首先需要在站点配置中的<code>languages</code>部分中定义可用语言。每种语言都可以有自己的语言特定配置。例如，Docsy示例站点配置指定它提供英语和挪威语的内容，并且访问者默认看到的语言版本是英语：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
contentDir: content/en
defaultContentLanguage: en
defaultContentLanguageInSubdir: false
…
languages:
  en:
    title: Docsy
    description: Docsy does docs
    languageName: English
    weight: 1 # used for sorting
  'no':
    title: Docsy
    description: Docsy er operativsystem for skyen
    languageName: Norsk
    contentDir: content/no
    time_format_default: 02.01.2006
    time_format_blog: 02.01.2006
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
contentDir = &quot;content/en&quot;
defaultContentLanguage = &quot;en&quot;
defaultContentLanguageInSubdir = false
...
[languages]
[languages.en]
title = &quot;Docsy&quot;
description = &quot;Docsy does docs&quot;
languageName =&quot;English&quot;
# Weight used for sorting.
weight = 1
[languages.no]
title = &quot;Docsy&quot;
description = &quot;Docsy er operativsystem for skyen&quot;
languageName =&quot;Norsk&quot;
contentDir = &quot;content/no&quot;
time_format_default = &quot;02.01.2006&quot;
time_format_blog = &quot;02.01.2006&quot;
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;contentDir&quot;: &quot;content/en&quot;,
  &quot;defaultContentLanguage&quot;: &quot;en&quot;,
  &quot;defaultContentLanguageInSubdir&quot;: false,
  &quot;languages&quot;: {
    &quot;en&quot;: {
      &quot;title&quot;: &quot;Docsy&quot;,
      &quot;description&quot;: &quot;Docsy does docs&quot;,
      &quot;languageName&quot;: &quot;English&quot;,
      &quot;weight&quot;: 1
    },
    &quot;no&quot;: {
      &quot;title&quot;: &quot;Docsy&quot;,
      &quot;description&quot;: &quot;Docsy er operativsystem for skyen&quot;,
      &quot;languageName&quot;: &quot;Norsk&quot;,
      &quot;contentDir&quot;: &quot;content/no&quot;,
      &quot;time_format_default&quot;: &quot;02.01.2006&quot;,
      &quot;time_format_blog&quot;: &quot;02.01.2006&quot;
    }
  }
}
```
</code></pre><p>​ 在<code>[languages]</code>块中未定义的任何设置都将回退到该设置的全局值。例如，上述站点所使用的内容目录将是<code>content/en</code>，除非用户选择了挪威语选项。</p><p>​ 更新站点配置后，在源代码库中为每个语言版本创建一个内容根目录，例如英文文本的<code>content/en</code>，然后像平常一样添加<a href=https://www.docsy.dev/docs/adding-content/content/>内容</a>。有关多语言支持的更多信息，请参阅<a href=https://gohugo.io/content-management/multilingual>Hugo Docs</a>。</p><blockquote><p>注意事项（仅在使用docsy作为hugo模块时）</p><p>​ 如果您使用的是多语言安装，请确保在模块导入的<code>[module]</code>部分之前声明配置文件中的<code>[languages]</code>部分。否则，您将会遇到麻烦！</p></blockquote><blockquote><p>提示</p><p>​ 如果您的站点可能会被翻译成其他语言，请考虑使用语言特定的子目录创建您的站点，因为这意味着如果您添加另一种语言，您不需要移动它。</p></blockquote><p>​ 如果要添加其他站点元素的多个语言版本，例如按钮文本，请参见下面的<a href=https://www.docsy.dev/docs/language/#internationalization-bundles>国际化包</a>章节。</p><h2 id=选择语言>选择语言<a class=td-heading-self-link href=#%e9%80%89%e6%8b%a9%e8%af%ad%e8%a8%80 aria-label="Heading self-link"></a></h2><p>​ 如果在<a href=https://gohugo.io/getting-started/configuration/#configuration-file>配置文件</a>中配置了多个语言，则Docsy主题将在顶级菜单中添加一个语言选择器下拉菜单。选择语言会将用户带到当前页面的翻译版本，或给定语言的主页。</p><h2 id=国际化--bundles>国际化 bundles<a class=td-heading-self-link href=#%e5%9b%bd%e9%99%85%e5%8c%96--bundles aria-label="Heading self-link"></a></h2><p>​ 所有UI字符串（按钮文本、存储库链接等）都打包在主题的<code>/i18n</code>目录中，每种语言有一个<code>.toml</code>文件。</p><p>​ 如果您选择的语言当前未包含在主题中，并且为所有通用UI字符串创建了自己的<code>.toml</code>文件（例如，如果您将UI文本翻译成Esperanto，并创建了一个名为<code>eo.toml</code>的<code>en.toml</code>副本），我们建议您在本主题中执行此操作而不是在自己的项目中。然后，您可以打开<a href=https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-a-pull-request>pull request</a>将您的翻译贡献给Docsy社区。</p><blockquote><h4 id=hugo提示>Hugo提示<a class=td-heading-self-link href=#hugo%e6%8f%90%e7%a4%ba aria-label="Heading self-link"></a></h4><p>​ 在进行翻译工作时运行<code>hugo server --printI18nWarnings</code>，因为它会提示您缺少哪些字符串。</p></blockquote><h3 id=创建自定义ui字符串>创建自定义UI字符串<a class=td-heading-self-link href=#%e5%88%9b%e5%bb%ba%e8%87%aa%e5%ae%9a%e4%b9%89ui%e5%ad%97%e7%ac%a6%e4%b8%b2 aria-label="Heading self-link"></a></h3><p>​ 如果你选择的语言中 Docsy 主题的某些用户界面字符串不适合你的项目，或者你需要其他字符串来满足你的网站需求，你可以在你的项目的 <code>/i18n</code> 目录下创建一个专门的项目国际化文件。例如，如果你想覆盖 Docsy 的<a href=https://github.com/google/docsy/blob/main/i18n/en.toml>英语字符串</a>中的任何内容，只需创建你自己的 <code>/i18n/en.toml</code> 文件并添加自定义字符串。你在此文件中指定的任何值都将覆盖本主题版本，而其余的字符串将来自本主题的对应国际化包。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-6f5c3158f2a17ed0459c852e8457d1c9>4 - 预览和部署</h1><p><a href=https://t.is-local.org/zh-cn/docs/deployment/>https://t.is-local.org/zh-cn/docs/deployment/</a></p><p>​ 部署你的 Docsy 站点。</p><p>​ 有多种可能的选项可用于部署 Hugo 站点，包括 Netlify、Firebase Hosting、带有 Aerobatic 的 Bitbucket 等等；您可以在 <a href=https://gohugo.io/hosting-and-deployment/>Hosting and Deployment</a>中了解所有这些选项。Hugo 也可以轻松地在本地部署站点，以快速预览内容。</p><h2 id=本地服务您的站点>本地服务您的站点<a class=td-heading-self-link href=#%e6%9c%ac%e5%9c%b0%e6%9c%8d%e5%8a%a1%e6%82%a8%e7%9a%84%e7%ab%99%e7%82%b9 aria-label="Heading self-link"></a></h2><p>Depending on your deployment choice you may want to serve your site locally during development to preview content changes. To serve your site locally:</p><p>​ 根据您的部署选择，您可能希望在开发过程中本地服务您的站点以预览内容更改。要本地服务您的站点：</p><ol><li>确保您从存储库克隆了最新的本地站点文件副本。</li><li>确保您在本地计算机上安装了<a href=https://t.is-local.org/zh-cn/docs/get-started/docsy-as-module/installation-prerequisites>Prerequisites and installation</a> 中描述的工具，包括 <code>postcss-cli</code>（您需要它来在第一次运行服务器时生成站点资源）。</li><li>在站点根目录中运行 <code>hugo server</code> 命令。默认情况下，您的站点将在 <a href=http://localhost:1313/>http://localhost:1313</a> 上可用。</li></ol><p>​ 现在您正在本地服务站点，Hugo 将监视内容更改并自动刷新您的站点。如果您有多个本地 git 分支，则在切换 git 分支时，本地站点将反映当前分支中的文件。</p><h2 id=构建环境和索引>构建环境和索引<a class=td-heading-self-link href=#%e6%9e%84%e5%bb%ba%e7%8e%af%e5%a2%83%e5%92%8c%e7%b4%a2%e5%bc%95 aria-label="Heading self-link"></a></h2><p>​ 默认情况下，使用<code>hugo</code>构建（而不是在本地使用<code>hugo server</code>）的Hugo站点具有Hugo构建环境<code>production</code>。使用<code>production</code>构建的Docsy站点可以被搜索引擎索引，包括<a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation/#configure-search-with-a-google-custom-search-engine>Google定制搜索引擎</a>。生产构建还为现场部署优化了JavaScript和CSS（例如，使用压缩后的JS而不是更易读的原始源）。</p><p>​ 如果您不希望搜索引擎索引您的部署站点（例如，如果您仍在开发您的实时站点），或者如果您想构建用于离线分析的开发版本的站点，可以将Hugo构建环境设置为其他环境名称，例如<code>development</code>（在本地使用<code>hugo server</code>的默认设置），<code>test</code>或您选择的另一个环境名称。</p><p>​ 设置的最简单方法是在指定或运行<code>hugo</code>命令时使用<code>-e</code>标志，如以下示例所示：</p><pre tabindex=0><code>hugo -e development
</code></pre><h2 id=使用-netlify-部署>使用 Netlify 部署<a class=td-heading-self-link href=#%e4%bd%bf%e7%94%a8-netlify-%e9%83%a8%e7%bd%b2 aria-label="Heading self-link"></a></h2><p>​ 我们推荐使用<a href=https://www.netlify.com/>Netlify</a>作为一种特别简单的方法，从您的Git提供程序（GitHub、GitLab或BitBucket）提供您的站点，具有<a href=https://www.netlify.com/docs/continuous-deployment/>持续部署</a>，在您或您的用户针对文档存储库创建拉取请求时生成的站点预览等功能。对于开源项目，Netlify是免费的，如果您需要更多支持，则有高级版。</p><p>​ 在使用 Netlify 部署之前，请确保按照 <a href=https://t.is-local.org/zh-cn/docs/get-started/docsy-as-module>使用主题</a> 中的任何设置说明，将您的站点源代码推送到您选择的 GitHub（或其他提供者）仓库。</p><p>​ 然后按照 <a href=https://gohugo.io/hosting-and-deployment/hosting-on-netlify/>在 Netlify 上托管</a> 中的说明设置 Netlify 帐户（如果您还没有帐户），并授权访问您的 GitHub 或其他 Git 提供者帐户。登录后：</p><ol><li><p>点击<strong>New site from Git</strong>。</p></li><li><p>点击您选择的Git提供者，然后从您的存储库列表中选择您的站点存储库。</p></li><li><p>在<strong>Deploy settings</strong>页面中：</p><ol><li><p>指定您的构建命令。确切的构建命令取决于您选择使用Docsy的方式：</p><ul><li>如果您将Docsy用作<a href=https://t.is-local.org/zh-cn/docs/get-started/other-options/#option-1-docsy-as-a-git-submodule>Git子模块</a>，请指定<code>cd themes/docsy && git submodule update -f --init && cd ../.. && hugo</code>。您需要指定这个命令，而不是只用<code>hugo</code>，以便Netlify可以使用主题的子模块。</li><li>如果您将Docsy用作<a href=https://t.is-local.org/zh-cn/docs/get-started/docsy-as-module/>Hugo module</a>或NPM包，您可以只指定<code>hugo</code>。</li></ul></li><li><p>点击<strong>Show advanced</strong>。</p></li><li><p>在<strong>Advanced build settings</strong>章节，点击<strong>New variable</strong>。</p></li><li><p>将<code>HUGO_VERSION</code>指定为新变量的<strong>Key</strong>，并将其<strong>Value</strong>设置为Hugo的最新版本（最低推荐版本为<code>0.73</code>）。</p></li><li><p>在<strong>Advanced build settings</strong>章节，再次点击<strong>New variable</strong>。</p></li><li><p>将<code>GO_VERSION</code>指定为新变量的<strong>Key</strong>，并将其<strong>Value</strong>设置为Go的最新版本（最低推荐版本为<code>1.18</code>）。</p></li></ol><p>如果您不希望搜索引擎对您的站点进行索引，则可以在构建命令中添加环境标志来指定非production环境，如 <a href=https://t.is-local.org/zh-cn/docs/deployment/#build-environments-and-indexing>构建环境和索引</a> 中所述。</p></li><li><p>点击<strong>Deploy site</strong>。</p></li></ol><blockquote><p>注意</p><p>​ Netlify 在构建站点之前使用站点仓库的 <code>package.json</code> 文件来安装任何 JavaScript 依赖项（如 <code>postcss</code>）。如果您没有仅仅复制我们示例站点的此文件版本，请确保您已指定了我们所有的<a href=https://t.is-local.org/zh-cn/docs/get-started/docsy-as-module/installation-prerequisites/#install-postcss>先决条件</a>。</p><p>​ 例如，如果您想使用高于 8.0.0 版本的 <code>postcss-cli</code> 版本，则需要确保您的 <code>package.json</code> 文件还单独指定了 <code>postcss</code>：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#4e9a06>&#34;devDependencies&#34;</span><span style=color:#a40000>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#204a87;font-weight:700>&#34;autoprefixer&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;^9.8.8&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#204a87;font-weight:700>&#34;postcss-cli&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;^8.0.0&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#204a87;font-weight:700>&#34;postcss&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;^8.0.0&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div></blockquote><p>​ 或者，您可以按照相同的说明，但在您的仓库中的 <a href=https://docs.netlify.com/configure-builds/file-based-configuration/><code>netlify.toml</code> 文件</a> 中指定您的<strong>部署设置</strong>，而不是在 <strong>部署设置</strong> 页面中指定。您可以在 <a href=https://github.com/google/docsy/blob/main/netlify.toml>Docsy 主题仓库</a> 中看到一个示例（尽管请注意，此处的构建命令有点不寻常，因为 Docsy 用户指南在本主题仓库<em>内部</em>）。</p><p>​ 如果您已有一个现有的部署，您可以通过在Netlify的站点列表中选择该站点，然后点击<strong>Site settings</strong> - <strong>Build and deploy</strong>来查看和更新相关信息。请确保在<strong>Build image selection</strong>章节中选择了<strong>Ubuntu Xenial 16.04</strong> - 如果您正在创建新的部署，则默认使用此镜像。您需要使用此镜像来运行Hugo的扩展版本。</p><h2 id=使用amazon-s3--amazon-cloudfront进行部署>使用Amazon S3 + Amazon CloudFront进行部署<a class=td-heading-self-link href=#%e4%bd%bf%e7%94%a8amazon-s3--amazon-cloudfront%e8%bf%9b%e8%a1%8c%e9%83%a8%e7%bd%b2 aria-label="Heading self-link"></a></h2><p>​ 使用 <a href=https://aws.amazon.com/>Amazon Web Services</a> 发布您的站点有几个选项，如这篇 <a href=https://adrianhall.github.io/cloud/2019/01/31/which-aws-service-for-hosting/>博客文章</a> 所述。本节介绍最基本的选项，即使用 S3 存储桶部署您的站点，并激活 CloudFront CDN（内容分发网络）以加速部署内容的传递。</p><ol><li><p>在您在AWS上<a href=https://portal.aws.amazon.com/billing/signup#/start>注册</a>之后，创建您的S3存储桶，将其与您的域名连接，并将其添加到CloudFront CDN中。这篇<a href=https://www.noorix.com.au/blog/how-to/hosting-static-website-with-aws-s3-cloudfront/>博客文章</a>提供了所有细节，并为整个过程提供了易于遵循的逐步说明。</p></li><li><p>下载并安装最新版本2的AWS<a href=https://docs.aws.amazon.com/cli/latest/userguide/get-started-install.html>命令行界面</a>(CLI)。然后通过发出命令<code>aws configure</code>来配置您的CLI实例(确保您随时掌握您的AWS访问密钥ID和AWS秘密访问密钥)：</p><pre tabindex=0><code>$ aws configure
AWS Access Key ID [None]: AKIAIOSFODNN7EXAMPLE
AWS Secret Access Key [None]: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
Default region name [None]: eu-central-1
Default output format [None]:
</code></pre></li><li><p>通过发出命令<code>aws s3 ls</code>检查您的AWS CLI的正确配置，这应该输出您的S3存储桶列表。</p></li><li><p>在您的<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>中添加一个像这样的<code>[deployment]</code>部分：</p><p>Configuration file:</p></li></ol><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
   deployment:
     targets:
       - name: aws
         URL: 's3://www.your-domain.tld'
         cloudFrontDistributionID: E9RZ8T1EXAMPLEID
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
   [deployment]
   [[deployment.targets]]
   name = &quot;aws&quot;
   URL = &quot;s3://www.your-domain.tld&quot;
   cloudFrontDistributionID = &quot;E9RZ8T1EXAMPLEID&quot;
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
   {
     &quot;deployment&quot;: {
       &quot;targets&quot;: [
         {
           &quot;name&quot;: &quot;aws&quot;,
           &quot;URL&quot;: &quot;s3://www.your-domain.tld&quot;,
           &quot;cloudFrontDistributionID&quot;: &quot;E9RZ8T1EXAMPLEID&quot;
         }
       ]
     }
   }
```
</code></pre><ol start=5><li><p>运行命令<code>hugo --gc --minify</code>将站点资产渲染到您的Hugo构建环境的<code>public/</code>目录中。</p></li><li><p>使用Hugo内置的<code>deploy</code>命令将站点部署到S3：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>hugo deploy
</span></span><span style=display:flex><span>Deploying to target <span style=color:#4e9a06>&#34;aws&#34;</span> <span style=color:#ce5c00;font-weight:700>(</span>www.your-domain.tld<span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>Identified <span style=color:#0000cf;font-weight:700>77</span> file<span style=color:#ce5c00;font-weight:700>(</span>s<span style=color:#ce5c00;font-weight:700>)</span> to upload, totaling 5.3 MB, and <span style=color:#0000cf;font-weight:700>0</span> file<span style=color:#ce5c00;font-weight:700>(</span>s<span style=color:#ce5c00;font-weight:700>)</span> to delete.
</span></span><span style=display:flex><span>Success!
</span></span><span style=display:flex><span>Invalidating CloudFront CDN...
</span></span><span style=display:flex><span>Success!
</span></span></code></pre></div><p>正如您所看到的，发出<code>hugo deploy</code>命令会自动<a href=https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Invalidation.html>使CloudFront CDN缓存失效</a>。</p></li><li><p>这就是您需要做的全部！从现在开始，您可以使用Hugo内置的<code>deploy</code>命令轻松地将站点部署到S3存储桶！</p></li></ol><p>​ 有关Hugo <code>deploy</code>命令的更多信息，包括命令行选项，请参见此<a href=https://gohugo.io/commands/hugo_deploy>synopsis</a>。特别是，您可能会发现<code>--maxDeletes int</code>选项或<code>--force</code>选项(强制上传所有文件)非常有用。</p><blockquote><p>使用 GitHub actions 自动化部署</p><p>​ 如果您的站点源代码存储在GitHub存储库中，您可以使用<a href=https://docs.github.com/en/actions>GitHub Actions</a>在将更改提交到GitHub存储库时将站点部署到您的S3存储桶。此工作流程的设置在此<a href=https://capgemini.github.io/development/Using-GitHub-Actions-and-Hugo-Deploy-to-Deploy-to-AWS/>博客文章</a>中有描述。</p></blockquote><blockquote><p>处理别名</p><p>​ 如果您使用<a href=https://gohugo.io/content-management/urls/#aliases>别名</a>进行URL管理，则应查看这篇<a href=https://blog.cavelab.dev/2021/10/hugo-aliases-to-s3-redirects/>博客文章</a>。它解释了如何在使用Amazon S3时将别名转换为正确的<code>301</code>重定向。</p></blockquote><p>​ 如果S3不能满足您的需求，请考虑使用AWS <a href=https://aws.amazon.com/amplify/console/>Amplify Console</a>。这是一个更先进的持续部署（CD）平台，内置支持Hugo静态网站生成器。在Hugo的官方文档中可以找到一个<a href=https://gohugo.io/hosting-and-deployment/hosting-on-aws-amplify/>入门指南</a>。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-98b060040bea7effbd2187739f2e2c68>5 - 更新 Docsy</h1><p><a href=https://t.is-local.org/zh-cn/docs/updating/>https://t.is-local.org/zh-cn/docs/updating/</a></p><p>​ 保持 Docsy 主题最新。</p><p>​ 我们希望与 <a href=https://t.is-local.org/zh-cn/docs/contribution-guidelines/>Docsy 社区</a> 一起持续改进本主题。如果您已经克隆了示例网站（或以 Hugo 模块或 Git 子模块的方式使用本主题），您可以轻松地自己更新 Docsy 主题。如果您已经将本主题本身克隆到自己的项目中，您也可以更新主题，但可能需要解决合并冲突。</p><p>​ 更新 Docsy 意味着您的站点将使用<code>HEAD</code>中最新的 Docsy 版本构建，并包含自添加 Docsy 子模块或上次更新以来已合并的所有新提交或更改。更新不会影响您在自己的项目中所做的任何修改，以 <a href=https://t.is-local.org/zh-cn/docs/adding-content/lookandfeel/>覆盖 Docsy 的外观和感觉</a>，因为您的覆盖不会修改主题本身。有关自上次更新以来主题发生了什么更改的详细信息，请参见 <a href=https://github.com/google/docsy/commits/main>Docsy 提交列表</a>。</p><p>​ 如果您一直将本主题作为 Git 子模块使用，您还可以将您的站点更新为使用 <a href=https://t.is-local.org/zh-cn/docs/get-started/docsy-as-module/>Docsy 作为 Hugo 模块</a>。这是从其存储库中拉取 Hugo 主题的最新和最简单的方法。如果您还没有准备好迁移到 Hugo 模块，不用担心，您的站点仍然可以工作，您可以像以前一样继续更新子模块。</p><hr><h5 id=更新您的-docsy-hugo-模块-httpstis-localorgzh-cndocsupdatingupdating-hugo-module><a href=https://t.is-local.org/zh-cn/docs/updating/updating-hugo-module/>更新您的 Docsy Hugo 模块 </a><a class=td-heading-self-link href=#%e6%9b%b4%e6%96%b0%e6%82%a8%e7%9a%84-docsy-hugo-%e6%a8%a1%e5%9d%97-httpstis-localorgzh-cndocsupdatingupdating-hugo-module aria-label="Heading self-link"></a></h5><p>使用 Hugo 模块更新 Docsy 主题至最新版本。</p><h5 id=不使用-hugo-模块更新-docsy-httpstis-localorgzh-cndocsupdatingupdating-submodules><a href=https://t.is-local.org/zh-cn/docs/updating/updating-submodules/>不使用 Hugo 模块更新 Docsy </a><a class=td-heading-self-link href=#%e4%b8%8d%e4%bd%bf%e7%94%a8-hugo-%e6%a8%a1%e5%9d%97%e6%9b%b4%e6%96%b0-docsy-httpstis-localorgzh-cndocsupdatingupdating-submodules aria-label="Heading self-link"></a></h5><p>使用子模块或 <code>git pull</code> 更新 Docsy 主题至最新版本。</p><h5 id=迁移到-hugo-模块httpstis-localorgzh-cndocsupdatingconvert-site-to-module><a href=https://t.is-local.org/zh-cn/docs/updating/convert-site-to-module/>迁移到 Hugo 模块</a><a class=td-heading-self-link href=#%e8%bf%81%e7%a7%bb%e5%88%b0-hugo-%e6%a8%a1%e5%9d%97httpstis-localorgzh-cndocsupdatingconvert-site-to-module aria-label="Heading self-link"></a></h5><p>将现有站点转换为使用 Docsy 作为 Hugo 模块。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-d6962c8e1e29f3502a7eecd5544bdbdd>5.1 - 更新您的 Docsy Hugo 模块</h1><p><a href=https://t.is-local.org/zh-cn/docs/updating/updating-hugo-module/>https://t.is-local.org/zh-cn/docs/updating/updating-hugo-module/</a></p><p>​ 使用 Hugo 模块更新你的 Docsy 主题至最新版本。</p><p>​ 当将 Docsy 主题作为 Hugo 模块使用时，更新主题非常简单。</p><p>​ 在命令提示符中，切换到现有站点的根目录。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> /path/to/my-existing-site
</span></span></code></pre></div><p>​ 然后使用hugo的模块<code>get</code>子命令并带有<code>update</code>标志：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>hugo mod get -u github.com/google/docsy
</span></span></code></pre></div><p>​ Hugo 自动拉取最新的主题版本。就是这样，你的更新完成了！</p><blockquote><p>提示</p><p>​ 如果你想将你的模块设置为 Docsy 主题库中的某个版本，只需在更新主题时指定代表此版本的标签名称，例如：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>hugo mod get -u github.com/google/docsy@v0.6.0
</span></span></code></pre></div><p>​ 你也可以指定一个提交哈希值，例如：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>hugo mod get -u github.com/google/docsy@6c8a3afe
</span></span></code></pre></div></blockquote></div><div class=td-content style=page-break-before:always><h1 id=pg-ca3f90be4f983da82743bfe6da901b26>5.2 - 不使用 Hugo 模块更新 Docsy</h1><p><a href=https://t.is-local.org/zh-cn/docs/updating/updating-submodules/>https://t.is-local.org/zh-cn/docs/updating/updating-submodules/</a></p><p>​ 使用子模块或 <code>git pull</code> 更新 Docsy 主题至最新版本。</p><p>​ 如果你不使用 Hugo 模块，根据你在现有站点上安装 Docsy 的方式，使用以下两个程序之一来更新你的主题。</p><blockquote><p>提示</p><p>​ 如果你打算更新你的站点，请考虑<a href=https://t.is-local.org/zh-cn/docs/updating/convert-site-to-module/>将你的站点转换为 Hugo 模块</a>。转换后，更新 Docsy 就更简单了！</p></blockquote><h2 id=更新-docsy-子模块>更新 Docsy 子模块<a class=td-heading-self-link href=#%e6%9b%b4%e6%96%b0-docsy-%e5%ad%90%e6%a8%a1%e5%9d%97 aria-label="Heading self-link"></a></h2><p>​ 如果你在项目中将 <a href=https://t.is-local.org/zh-cn/docs/get-started/other-options/#option-1-docsy-as-a-git-submodule>Docsy 主题作为子模块</a>使用，则按如下方式更新子模块：</p><ol><li><p>导航到本地项目的根目录，然后运行：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git submodule update --remote
</span></span></code></pre></div></li><li><p>将更改添加到项目中并提交更改：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git add themes/
</span></span><span style=display:flex><span>git commit -m <span style=color:#4e9a06>&#34;Updating theme submodule&#34;</span>
</span></span></code></pre></div></li><li><p>将提交推送到项目存储库。例如运行：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git push origin master
</span></span></code></pre></div></li></ol><h2 id=route-2更新-docsy-克隆版>Route 2：更新 Docsy 克隆版<a class=td-heading-self-link href=#route-2%e6%9b%b4%e6%96%b0-docsy-%e5%85%8b%e9%9a%86%e7%89%88 aria-label="Heading self-link"></a></h2><p>​ 如果你将 <a href=https://t.is-local.org/zh-cn/docs/get-started/other-options/#option-2-clone-the-docsy-theme>Docsy 主题克隆</a>到项目的 <code>themes</code> 文件夹中，则使用 <code>git pull</code> 命令：</p><ol><li><p>导航到本地项目的 <code>themes</code> 目录：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> themes
</span></span></code></pre></div></li><li><p>确保 <code>origin</code> 设置为 <code>https://github.com/google/docsy.git</code>：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git remote -v
</span></span></code></pre></div></li><li><p>更新本地克隆版：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git pull origin master
</span></span></code></pre></div></li></ol><p>​ 如果你对克隆主题进行了任何本地更改，则必须手动解决任何合并冲突。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-c06d704bcf40773e7d3a3d2cb479663a>5.3 - 迁移到Hugo模块</h1><p><a href=https://t.is-local.org/zh-cn/docs/updating/convert-site-to-module/>https://t.is-local.org/zh-cn/docs/updating/convert-site-to-module/</a></p><p>​ 将现有站点转换为使用Docsy作为Hugo模块</p><h2 id=适用于急于求成的专家>适用于急于求成的专家<a class=td-heading-self-link href=#%e9%80%82%e7%94%a8%e4%ba%8e%e6%80%a5%e4%ba%8e%e6%b1%82%e6%88%90%e7%9a%84%e4%b8%93%e5%ae%b6 aria-label="Heading self-link"></a></h2><p>​ 从命令行运行以下命令：</p><p>CLI:</p><p>=== &ldquo;Unix shell&rdquo;</p><pre><code>```bash
cd /path/to/my-existing-site
hugo mod init github.com/me-at-github/my-existing-site
hugo mod get github.com/google/docsy@v0.6.0
sed -i '/theme = \[&quot;docsy&quot;\]/d' config.toml
cat &gt;&gt; config.toml &lt;&lt;EOL
[module]
proxy = &quot;direct&quot;
[[module.imports]]
path = &quot;github.com/google/docsy&quot;
[[module.imports]]
path = &quot;github.com/google/docsy/dependencies&quot;
EOL
hugo server
```
</code></pre><p>=== &ldquo;Windows command line&rdquo;</p><pre><code>```bash
cd  my-existing-site
hugo mod init github.com/me-at-github/my-existing-site
hugo mod get github.com/google/docsy@v0.6.0
findstr /v /c:&quot;theme = [\&quot;docsy\&quot;]&quot; config.toml &gt; config.toml.temp
move /Y config.toml.temp config.toml
(echo [module]^

proxy = &quot;direct&quot;^

[[module.imports]]^

path = &quot;github.com/google/docsy&quot;^

[[module.imports]]^

path = &quot;github.com/google/docsy/dependencies&quot;)&gt;&gt;config.toml
hugo server
```
</code></pre><h2 id=详细的转换说明>详细的转换说明<a class=td-heading-self-link href=#%e8%af%a6%e7%bb%86%e7%9a%84%e8%bd%ac%e6%8d%a2%e8%af%b4%e6%98%8e aria-label="Heading self-link"></a></h2><h3 id=将docsy主题模块作为站点的依赖项导入>将Docsy主题模块作为站点的依赖项导入<a class=td-heading-self-link href=#%e5%b0%86docsy%e4%b8%bb%e9%a2%98%e6%a8%a1%e5%9d%97%e4%bd%9c%e4%b8%ba%e7%ab%99%e7%82%b9%e7%9a%84%e4%be%9d%e8%b5%96%e9%a1%b9%e5%af%bc%e5%85%a5 aria-label="Heading self-link"></a></h3><p>​ 在命令提示符下，切换到现有站点的根目录。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> /path/to/my-existing-site
</span></span></code></pre></div><p>​ 只有作为Hugo模块的站点才能导入其他Hugo模块。通过从站点目录中运行以下命令（将<code>github.com/me/my-existing-site</code>替换您的站点存储库），将现有站点转换为Hugo模块：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>hugo mod init github.com/me/my-existing-site
</span></span></code></pre></div><p>​ 这将创建两个新文件，<code>go.mod</code>用于模块定义和<code>go.sum</code>用于保存模块验证的校验和。</p><p>​ 接下来，将Docsy主题模块声明为站点的依赖项。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>hugo mod get github.com/google/docsy@v0.6.0
</span></span></code></pre></div><p>This command adds the <code>docsy</code> theme module to your definition file <code>go.mod</code>.</p><p>​ 此命令将<code>docsy</code>主题模块添加到您的定义文件<code>go.mod</code>中。</p><p>​ 更新您的配置文件</p><p>​ 在您的 <code>config.toml</code>/<code>config.yaml</code>/<code>config.json</code> 文件中，更新该主题设置以使用Hugo模块。找到以下行：</p><p>Configuration file:</p><p>=== &ldquo;config.yaml&rdquo;</p><pre><code>```yaml
theme: docsy

```
</code></pre><p>=== &ldquo;config.toml&rdquo;</p><pre><code>```toml
theme = [&quot;docsy&quot;]

```
</code></pre><p>=== &ldquo;config.json&rdquo;</p><pre><code>```json
&quot;theme&quot;: &quot;docsy&quot;

```
</code></pre><p>将此行更改为：</p><p>Configuration file:</p><p>=== &ldquo;config.yaml&rdquo;</p><pre><code>```yaml
theme:
  - github.com/google/docsy
  - github.com/google/docsy/dependencies

```
</code></pre><p>=== &ldquo;config.toml&rdquo;</p><pre><code>```toml
theme = [&quot;github.com/google/docsy&quot;, &quot;github.com/google/docsy/dependencies&quot;]

```
</code></pre><p>=== &ldquo;config.json&rdquo;</p><pre><code>```json
&quot;theme&quot;: [
  &quot;github.com/google/docsy&quot;,
  &quot;github.com/google/docsy/dependencies&quot;
]

```
</code></pre><p>​ 或者，您可以完全省略此行，并将其替换为以下代码段中给出的设置：</p><p>Configuration file:</p><p>=== &ldquo;config.yaml&rdquo;</p><pre><code>```yaml
module:
  proxy: direct
  hugoVersion:
    extended: true
    min: 0.73.0
  imports:
    - path: github.com/google/docsy
      disable: false
    - path: github.com/google/docsy/dependencies
      disable: false
```
</code></pre><p>=== &ldquo;config.toml&rdquo;</p><pre><code>```toml
[module]
  proxy = &quot;direct&quot;
  # uncomment line below for temporary local development of module
  # replacements = &quot;github.com/google/docsy -&gt; ../../docsy&quot;
  [module.hugoVersion]
    extended = true
    min = &quot;0.73.0&quot;
  [[module.imports]]
    path = &quot;github.com/google/docsy&quot;
    disable = false
  [[module.imports]]
    path = &quot;github.com/google/docsy/dependencies&quot;
    disable = false
```
</code></pre><p>=== &ldquo;config.json&rdquo;</p><pre><code>```json
{
  &quot;module&quot;: {
    &quot;proxy&quot;: &quot;direct&quot;,
    &quot;hugoVersion&quot;: {
      &quot;extended&quot;: true,
      &quot;min&quot;: &quot;0.73.0&quot;
    },
    &quot;imports&quot;: [
      {
        &quot;path&quot;: &quot;github.com/google/docsy&quot;,
        &quot;disable&quot;: false
      },
      {
        &quot;path&quot;: &quot;github.com/google/docsy/dependencies&quot;,
        &quot;disable&quot;: false
      }
    ]
  }
}
```
</code></pre><p>​ 你可以在 <a href=https://gohugo.io/hugo-modules/configuration/#module-config-top-level>Hugo 模块文档</a>中找到这些配置设置的详细信息。根据你的环境，你可能需要进行一些微调，例如添加代理以在下载远程模块时使用。</p><blockquote><p>提示</p><p>​ 在 Hugo 0.110.0 中，默认的配置基础文件名已更改为 <code>hugo.toml</code>。如果你使用的是 hugo 0.110 或更高版本，请考虑将你的 <code>config.toml</code> 重命名为 <code>hugo.toml</code>！</p></blockquote><blockquote><p>注意</p><p>​ 如果你安装了多语言版本，请确保你的 <code>config.toml</code> 中的 <code>[languages]</code> 部分在带有模块导入的 <code>[module]</code> 部分之前声明。否则，你将遇到问题！</p></blockquote><h3 id=检查配置设置的有效性>检查配置设置的有效性<a class=td-heading-self-link href=#%e6%a3%80%e6%9f%a5%e9%85%8d%e7%bd%ae%e8%ae%be%e7%bd%ae%e7%9a%84%e6%9c%89%e6%95%88%e6%80%a7 aria-label="Heading self-link"></a></h3><p>​ 为了确保你的配置设置是正确的，请运行 <code>hugo mod graph</code> 命令，它会打印一个模块依赖项图：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>hugo mod graph
</span></span><span style=display:flex><span>hugo: collected modules in <span style=color:#0000cf;font-weight:700>1092</span> ms
</span></span><span style=display:flex><span>github.com/me/my-existing-site github.com/google/docsy@v0.6.0
</span></span><span style=display:flex><span>github.com/me/my-existing-site github.com/google/docsy/dependencies@v0.6.0
</span></span><span style=display:flex><span>github.com/google/docsy/dependencies@v0.6.0 github.com/twbs/bootstrap@v5.2.3+incompatible
</span></span><span style=display:flex><span>github.com/google/docsy/dependencies@v0.6.0 github.com/FortAwesome/Font-Awesome@v0.0.0-20230207192303-d02961b01815
</span></span></code></pre></div><p>​ 确保列出了 <code>docsy</code>、<code>bootstrap</code> 和 <code>Font-Awesome</code> 的三行依赖项。如果没有，请仔细检查你的配置设置。</p><blockquote><p>提示</p><p>​ 为了清理你的模块缓存，请执行命令 <code>hugo mod clean</code></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>hugo mod clean
</span></span><span style=display:flex><span>hugo: collected modules in <span style=color:#0000cf;font-weight:700>995</span> ms
</span></span><span style=display:flex><span>hugo: cleaned module cache <span style=color:#204a87;font-weight:700>for</span> <span style=color:#4e9a06>&#34;github.com/FortAwesome/Font-Awesome&#34;</span>
</span></span><span style=display:flex><span>hugo: cleaned module cache <span style=color:#204a87;font-weight:700>for</span> <span style=color:#4e9a06>&#34;github.com/google/docsy&#34;</span>
</span></span><span style=display:flex><span>hugo: cleaned module cache <span style=color:#204a87;font-weight:700>for</span> <span style=color:#4e9a06>&#34;github.com/google/docsy/dependencies&#34;</span>
</span></span><span style=display:flex><span>hugo: cleaned module cache <span style=color:#204a87;font-weight:700>for</span> <span style=color:#4e9a06>&#34;github.com/twbs/bootstrap&#34;</span>
</span></span></code></pre></div></blockquote><h2 id=清理你的仓库>清理你的仓库<a class=td-heading-self-link href=#%e6%b8%85%e7%90%86%e4%bd%a0%e7%9a%84%e4%bb%93%e5%ba%93 aria-label="Heading self-link"></a></h2><p>​ 由于你的站点现在使用 Hugo 模块，你可以按照下面的说明从<code>themes</code>目录中删除 <code>docsy</code>。首先，切换到你站点的根目录：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> /path/to/my-existing-site
</span></span></code></pre></div><h3 id=先前将-docsy-主题安装为-git-克隆>先前将 Docsy 主题安装为 Git 克隆<a class=td-heading-self-link href=#%e5%85%88%e5%89%8d%e5%b0%86-docsy-%e4%b8%bb%e9%a2%98%e5%ae%89%e8%a3%85%e4%b8%ba-git-%e5%85%8b%e9%9a%86 aria-label="Heading self-link"></a></h3><p>​ 只需删除 <code>themes</code> 目录中的子目录 <code>docsy</code>：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>rm -rf themes/docsy
</span></span></code></pre></div><h3 id=先前将-docsy-主题安装为-git-子模块>先前将 Docsy 主题安装为 Git 子模块<a class=td-heading-self-link href=#%e5%85%88%e5%89%8d%e5%b0%86-docsy-%e4%b8%bb%e9%a2%98%e5%ae%89%e8%a3%85%e4%b8%ba-git-%e5%ad%90%e6%a8%a1%e5%9d%97 aria-label="Heading self-link"></a></h3><p>​ 如果您的 Docsy 主题是作为子模块安装的，请使用 git 的 <code>rm</code> 子命令删除 <code>themes</code> 目录中的子目录 <code>docsy</code>：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git rm -rf themes/docsy
</span></span></code></pre></div><p>​ 现在，您可以提交更改到您的仓库中：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git commit -m <span style=color:#4e9a06>&#34;Removed docsy git submodule&#34;</span>
</span></span></code></pre></div><blockquote><p>注意</p><p>​ 使用 <code>rm -rf</code> 命令时请小心，确保您不会意外删除任何生产数据文件！</p></blockquote></div><div class=td-content style=page-break-before:always><h1 id=pg-0096f7c90e3d5b0464acc9a8e5b5d27e>6 - 最佳实践</h1><p><a href=https://t.is-local.org/zh-cn/docs/best-practices/>https://t.is-local.org/zh-cn/docs/best-practices/</a></p><p>​ 关于组织、撰写和管理技术文档的可选指导和建议。</p><p>​ 使用此章节了解使用 Docsy 创建技术文档的一些最佳实践。</p><hr><h5 id=hugo-内容提示-httpstis-localorgzh-cndocsbest-practicessite-guidance><a href=https://t.is-local.org/zh-cn/docs/best-practices/site-guidance/>Hugo 内容提示 </a><a class=td-heading-self-link href=#hugo-%e5%86%85%e5%ae%b9%e6%8f%90%e7%a4%ba-httpstis-localorgzh-cndocsbest-practicessite-guidance aria-label="Heading self-link"></a></h5><p>​ 为 Docsy 主题的 Hugo 站点撰写内容的提示。</p><h5 id=组织您的内容-httpstis-localorgzh-cndocsbest-practicesorganizing-content><a href=https://t.is-local.org/zh-cn/docs/best-practices/organizing-content/>组织您的内容 </a><a class=td-heading-self-link href=#%e7%bb%84%e7%bb%87%e6%82%a8%e7%9a%84%e5%86%85%e5%ae%b9-httpstis-localorgzh-cndocsbest-practicesorganizing-content aria-label="Heading self-link"></a></h5><p>​ 有关如何组织文档站点的可选指导和建议。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-a63365ab2e32fec26dfc4acd9cf36f1f>6.1 - Hugo 内容提示</h1><p><a href=https://t.is-local.org/zh-cn/docs/best-practices/site-guidance/>https://t.is-local.org/zh-cn/docs/best-practices/site-guidance/</a></p><p>​ 适用于 Docsy 主题 Hugo 站点的内容编写技巧。</p><p>​ Docsy 是 <a href=https://gohugo.io/>Hugo</a>静态站点生成器的一个主题。如果您还不熟悉 Hugo，本页面提供了一些有用的提示和潜在的注意事项，用于添加和编辑您站点的内容。欢迎添加您自己的建议！</p><h2 id=linking-链接>Linking 链接<a class=td-heading-self-link href=#linking-%e9%93%be%e6%8e%a5 aria-label="Heading self-link"></a></h2><p>​ 默认情况下，Hugo不会更改链接中的常规相对URL（它们在您站点的生成HTML中仍然是相对链接），因此一些硬编码的相对链接（例如 <code>\[relative cross-link\]\(../../peer-folder/sub-file.md\)</code>）与它们在本地文件系统上的工作方式可能会有所不同。您可能会发现，使用Hugo内置的一些<a href=https://gohugo.io/content-management/cross-references/#use-ref-and-relref>链接简码</a>有助于避免在生成的站点中出现损坏的链接。例如，在Hugo中，<code>\{\{\&lt; ref "filename.md" \>\}\}</code>链接实际上会找到并自动链接到名为<code>filename.md</code>的文件。</p><p>​ 但是请注意，<code>ref</code>和<code>relref</code>链接无法与<code>_index</code>或<code>index</code>文件配合使用（例如，本站的<a href=https://t.is-local.org/zh-cn/docs/adding-content/>内容着陆页</a>），您需要使用常规的Markdown链接到章节着陆页或其他索引页面。将这些链接相对于站点的根URL指定，例如：<code>/docs/adding-content/</code>。</p><p>​ <a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#working-with-links>了解更多链接信息</a>。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-ccdacf579bc71142335efc6c99d8a8c6>6.2 - 组织你的内容</h1><p><a href=https://t.is-local.org/zh-cn/docs/best-practices/organizing-content/>https://t.is-local.org/zh-cn/docs/best-practices/organizing-content/</a></p><p>​ 关于如何组织你的文档站点的指导和建议。</p><p>​ 如果你查看我们的<a href=https://example.docsy.dev/about/>Example Site</a>，你会看到我们将文档章节分成了多个子章节，并为每个章节提供了一些关于在该章节中应该放置什么内容的建议。</p><h2 id=do-i-need-to-use-this-structure-我需要使用这个结构吗>Do I need to use this structure? 我需要使用这个结构吗？<a class=td-heading-self-link href=#do-i-need-to-use-this-structure-%e6%88%91%e9%9c%80%e8%a6%81%e4%bd%bf%e7%94%a8%e8%bf%99%e4%b8%aa%e7%bb%93%e6%9e%84%e5%90%97 aria-label="Heading self-link"></a></h2><p>​ 当然不是！示例站点中的站点结构是为满足大型产品的大型文档集中的特性、潜在任务和参考元素的需要而创建的。对于一个更简单的文档集（比如这个！），只需将你的文档围绕用户需要了解的特定功能进行结构化即可。即使对于更大的文档集，你可能会发现这个结构并不是很有用，或者你并不需要使用所有的章节类型。</p><p>​ 我们建议你（就像我们在这里所做的那样）至少提供以下内容：</p><ul><li>产品的<strong>概述（Overview）</strong>（在文档着陆页或单独的概述页面上）告诉用户为什么他们应该对你的项目感兴趣。</li><li><strong>入门</strong>（<strong>Getting Started</strong>）页面。</li><li>一些<strong>示例</strong>（<strong>Examples</strong>）。</li></ul><p>​ 你也可能想为项目的功能创建一些任务/操作指南。如果你更喜欢这种简单的结构，可以自由地复制 Docsy 用户指南站点或只是文档章节。</p><blockquote><p>提示</p><p>​ 如果你想复制这个指南，请注意它的<a href=https://github.com/google/docsy/tree/main/userguide>源文件</a>在 Docsy 主题仓库内，因此它没有自己的 <code>themes/</code> 目录：相反，我们运行 <code>hugo server --themesDir ../..</code> 从其父目录中使用 Docsy。你可以复制该站点并<a href=https://t.is-local.org/zh-cn/docs/get-started/other-options/#option-2-clone-the-docsy-theme>添加一个包含 Docsy 的 <code>themes/</code> 目录</a>，或者只是将 <code>docs/</code> 文件夹复制到你现有站点的内容根目录中。</p></blockquote><p>​ <a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#organizing-your-documentation>了解有关 Hugo 和 Docsy 如何使用文件夹和其他文件来组织你的站点的更多信息</a>。</p><h2 id=why-this-structure-为什么要这样组织结构>Why this structure? 为什么要这样组织结构？<a class=td-heading-self-link href=#why-this-structure-%e4%b8%ba%e4%bb%80%e4%b9%88%e8%a6%81%e8%bf%99%e6%a0%b7%e7%bb%84%e7%bb%87%e7%bb%93%e6%9e%84 aria-label="Heading self-link"></a></h2><p>​ 我们的示例站点结构基于我们自己创建（和使用）不同类型项目的大型文档集的经验和我们对一些大型站点进行的用户研究。在用户研究中，我们发现用户最关心和最迫切寻找的是"入门（Get Started）&ldquo;或"快速入门（Getting Started）&ldquo;章节（以便他们可以开始工作），以及一些可以探索和复制的示例，因此我们将它们作为站点的重要顶级文档章节。用户还希望找到可以轻松查找以执行特定任务并组合成自己的应用程序或项目的"食谱（recipes）"，因此我们建议你将这种内容添加为任务。其他内容类型，如概念文档、参考文档和端到端教程，对于所有文档集来说都不是很重要，特别是对于较小的项目。我们在示例站点中强调这些章节是可选的。</p><p>​ 我们希望通过进一步了解用户如何与技术文档交互，特别是对于开源项目，来进一步改进示例站点结构。</p><h2 id=写作风格指南>写作风格指南<a class=td-heading-self-link href=#%e5%86%99%e4%bd%9c%e9%a3%8e%e6%a0%bc%e6%8c%87%e5%8d%97 aria-label="Heading self-link"></a></h2><p>​ 本指南和示例站点仅介绍如何将文档内容组织为页面和章节。有关如何组织和编写每个页面中的内容的一些指导，请参阅<a href=https://developers.google.com/style/>Google开发者文档风格指南</a>，特别是<a href=https://developers.google.com/style/highlights>Style Guide Highlights</a>。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-a9bd77fc51277439bcf597eff30a8983>7 - 贡献指南</h1><p><a href=https://t.is-local.org/zh-cn/docs/contribution-guidelines/>https://t.is-local.org/zh-cn/docs/contribution-guidelines/</a></p><p>How to contribute to Docsy</p><p>Docsy is an open source project and we love getting patches and contributions to make Docsy and its docs even better.</p><h2 id=contributing-to-docsy>Contributing to Docsy<a class=td-heading-self-link href=#contributing-to-docsy aria-label="Heading self-link"></a></h2><p>The Docsy theme itself lives in <a href=https://github.com/google/docsy>https://github.com/google/docsy</a>.</p><h3 id=contributor-license-agreement>Contributor License Agreement<a class=td-heading-self-link href=#contributor-license-agreement aria-label="Heading self-link"></a></h3><p>Contributions to this project must be accompanied by a Contributor License Agreement. You (or your employer) retain the copyright to your contribution; this simply gives us permission to use and redistribute your contributions as part of the project. Head over to <a href=https://cla.developers.google.com/>https://cla.developers.google.com/</a> to see your current agreements on file or to sign a new one.</p><p>You generally only need to submit a CLA once, so if you’ve already submitted one (even if it was for a different project), you probably don’t need to do it again.</p><h3 id=code-reviews>Code reviews<a class=td-heading-self-link href=#code-reviews aria-label="Heading self-link"></a></h3><p>All submissions, including submissions by project members, require review. We use GitHub pull requests for this purpose. Consult <a href=https://help.github.com/articles/about-pull-requests/>GitHub Help</a> for more information on using pull requests.</p><h3 id=previewing-your-changes>Previewing your changes<a class=td-heading-self-link href=#previewing-your-changes aria-label="Heading self-link"></a></h3><p>As Docsy is a theme rather than a site, you can’t serve the theme directly to check your changes work. Instead use your updated local theme in a local copy of the Docsy example site (copy or make your changes in the <code>themes/docsy</code> directory) and <a href=https://t.is-local.org/zh-cn/docs/deployment/>preview</a> from there. Alternatively, clone the <a href=https://github.com/google/docsy>Docsy theme repo</a> and test your changes in a local copy of this site, as described <a href=https://t.is-local.org/zh-cn/docs/contribution-guidelines/#previewing-your-changes-locally>below</a>.</p><h3 id=community-guidelines>Community guidelines<a class=td-heading-self-link href=#community-guidelines aria-label="Heading self-link"></a></h3><p>This project follows <a href=https://opensource.google.com/conduct/>Google’s Open Source Community Guidelines</a>.</p><h3 id=creating-issues>Creating issues<a class=td-heading-self-link href=#creating-issues aria-label="Heading self-link"></a></h3><p>Alternatively, if there’s something you’d like to see in Docsy (or if you’ve found something that isn’t working the way you’d expect), but you’re not sure how to fix it yourself, please create an <a href=https://github.com/google/docsy/issues>issue</a>.</p><h2 id=contributing-to-these-docs>Contributing to these docs<a class=td-heading-self-link href=#contributing-to-these-docs aria-label="Heading self-link"></a></h2><p>This user guide is, like our example site, a Docsy site that uses the Hugo static site generator. We welcome updates to the docs!</p><p>We use <a href=https://www.netlify.com/>Netlify</a> to manage the deployment of the site and provide previews of doc updates. The instructions here assume you’re familiar with basic GitHub workflows.</p><h3 id=quick-start-with-netlify>Quick start with Netlify<a class=td-heading-self-link href=#quick-start-with-netlify aria-label="Heading self-link"></a></h3><ol><li>Fork the <a href=https://github.com/google/docsy>Docsy repo</a> on GitHub: this site’s files live in the <code>userguide</code> subdirectory.</li><li>Make your changes and send a pull request (PR).</li><li>If you’re not yet ready for a review, add &ldquo;WIP&rdquo; to the PR name to indicate it’s a work in progress. (<strong>Don’t</strong> add the Hugo property &ldquo;draft = true&rdquo; to the page front matter, because that prevents the auto-deployment of the content preview described in the next point.)</li><li>Wait for the automated PR workflow to do some checks. When it’s ready, you should see a comment like this: <strong>deploy/netlify — Deploy preview ready!</strong></li><li>Click <strong>Details</strong> to the right of &ldquo;Deploy preview ready&rdquo; to see a preview of your updates.</li><li>Continue updating your doc and pushing your changes until you’re happy with the content.</li><li>When you’re ready for a review, add a comment to the PR, and remove any &ldquo;WIP&rdquo; markers.</li></ol><h3 id=updating-a-single-page>Updating a single page<a class=td-heading-self-link href=#updating-a-single-page aria-label="Heading self-link"></a></h3><p>If you’ve just spotted something you’d like to change while using the docs, Docsy has a shortcut for you:</p><ol><li>Click <strong>Edit this page</strong> in the top right hand corner of the page.</li><li>If you don’t already have an up to date fork of the project repo, you are prompted to get one - click <strong>Fork this repository and propose changes</strong> or <strong>Update your Fork</strong> to get an up to date version of the project to edit. The appropriate page in your fork is displayed in edit mode.</li><li>Follow the rest of the <a href=https://t.is-local.org/zh-cn/docs/contribution-guidelines/#quick-start-with-netlify>Quick start with Netlify</a> process above to make and preview your changes.</li></ol><h3 id=previewing-your-changes-locally>Previewing your changes locally<a class=td-heading-self-link href=#previewing-your-changes-locally aria-label="Heading self-link"></a></h3><p>If you want to run your own local Hugo server to preview your changes as you work:</p><ol><li><p>Follow the instructions in <a href=https://t.is-local.org/zh-cn/docs/getting-started>Getting started</a> to install Hugo and any other tools you need.</p></li><li><p>Fork the <a href=https://github.com/google/docsy>Docsy</a> repo into your own project, then create a local copy using <code>git clone</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git clone https://github.com/google/docsy.git
</span></span></code></pre></div></li><li><p>Change to the <code>userguide</code> directory and run the following Hugo command to build the site and start the Hugo server. Note that you need the <code>themesDir</code> flag because the site files are inside the theme repo.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#204a87>cd</span> userguide
</span></span><span style=display:flex><span>hugo server --themesDir ../..
</span></span></code></pre></div><p>By default your site will be available at http://localhost:1313/. Now that you’re serving your site locally, Hugo will watch for changes to the content and automatically refresh your site.</p></li><li><p>Continue with the usual GitHub workflow to edit files, commit them, push the changes up to your fork, and create a pull request.</p></li></ol><h4 id=preview-your-changes-using-a-docker-container>Preview your changes using a Docker container<a class=td-heading-self-link href=#preview-your-changes-using-a-docker-container aria-label="Heading self-link"></a></h4><p>Docsy comes with <code>Dockerfile</code> and <code>docker-compose</code> files to run the server locally with Docker, without installing any additional dependencies.</p><ul><li><p>Using <a href=https://docs.docker.com/get-docker/>Docker</a>:</p><ol><li><p>Build the Docker container:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker build -t docsy/user-guide .
</span></span></code></pre></div></li><li><p>Run the container, mounting the repository as a shared volume:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker run -it --user<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87;font-weight:700>$(</span>id -u<span style=color:#204a87;font-weight:700>)</span>:<span style=color:#204a87;font-weight:700>$(</span>id -g<span style=color:#204a87;font-weight:700>)</span> -p 1313:1313 <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -v <span style=color:#204a87;font-weight:700>$(</span><span style=color:#204a87>pwd</span><span style=color:#204a87;font-weight:700>)</span>:/app/docsy -v /app/docsy/userguide/node_modules <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  docsy/user-guide
</span></span></code></pre></div></li></ol></li><li><p>Using <a href=https://docs.docker.com/compose/install/>Docker Compose</a>:</p><ol><li><p>Build the container:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker-compose build
</span></span></code></pre></div></li><li><p>Run the container:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>DOCSY_USER</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87;font-weight:700>$(</span>id -u<span style=color:#204a87;font-weight:700>)</span>:<span style=color:#204a87;font-weight:700>$(</span>id -g<span style=color:#204a87;font-weight:700>)</span> docker-compose up
</span></span></code></pre></div></li></ol></li></ul><p>Open <code>http://localhost:1313</code> in your web browser to load the docsy user guide. In most cases, docsy will automatically reload the site to reflect any changes to the documentation or the code. Changes to some parts of the docsy code may require manually reloading the page or re-starting the container.</p><p>Press <strong>Ctrl + C</strong> to stop the container.</p><h3 id=creating-an-issue>Creating an issue<a class=td-heading-self-link href=#creating-an-issue aria-label="Heading self-link"></a></h3><p>If there’s something you’d like to see in the docs, but you’re not sure how to fix it yourself, please create an issue in <a href=https://github.com/google/docsy>this repository</a>. You can also create an issue about a specific page by clicking the <strong>Create Issue</strong> button in the top right hand corner of the page.</p></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title="User mailing list" aria-label="User mailing list"><a target=_blank rel=noopener href=https://mail.qq.com/ aria-label="User mailing list"><i class="fa fa-envelope"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Twitter aria-label=Twitter><a target=_blank rel=noopener href=https://twitter.com/ aria-label=Twitter><i class="fab fa-twitter"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="Stack Overflow" aria-label="Stack Overflow"><a target=_blank rel=noopener href=https://stackoverflow.co/ aria-label="Stack Overflow"><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/onxs aria-label=GitHub><i class="fab fa-github"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Slack aria-label=Slack><a target=_blank rel=noopener href=https://slack.com/intl/zh-cn/ aria-label=Slack><i class="fab fa-slack"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="Developer mailing list" aria-label="Developer mailing list"><a target=_blank rel=noopener href=https://mail.qq.com/ aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2024
<span class=td-footer__authors>Docsy | <a href=https://creativecommons.org/licenses/by/4.0>CC BY 4.0</a> |</span></span><span class=td-footer__all_rights_reserved>保留所有权利</span><span class=ms-2><a href=https://policies.google.com/privacy target=_blank rel=noopener>隐私政策</a></span></div></div></div></footer></div><script src=/js/main.min.f72d00502781aaf278a14088eb2356b1ba2a05ad698a0c43fe86314d74ceab56.js integrity="sha256-9y0AUCeBqvJ4oUCI6yNWsboqBa1pigxD/oYxTXTOq1Y=" crossorigin=anonymous></script><script src=/js/prism.js></script><script src=/js/tabpane-persist.js></script></body></html>