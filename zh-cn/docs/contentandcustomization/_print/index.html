<!doctype html><html itemscope itemtype=http://schema.org/WebPage dir=ltr lang=zh-cn class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=canonical type=text/html href=https://t.is-local.org/zh-cn/docs/contentandcustomization/><link rel=alternate type=application/rss+xml href=https://t.is-local.org/zh-cn/docs/contentandcustomization/index.xml><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>内容和自定义 | Tommas's Blog</title>
<meta name=description content="Powerful, extensible, and feature-packed frontend toolkit. Build and customize with Sass, utilize prebuilt grid system and components, and bring projects to life with powerful JavaScript plugins."><meta property="og:url" content="https://t.is-local.org/zh-cn/docs/contentandcustomization/"><meta property="og:site_name" content="Tommas's Blog"><meta property="og:title" content="内容和自定义"><meta property="og:description" content="How to add content to and customize your Docsy site. 如何向您的Docsy站点添加内容并进行自定义。"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="website"><meta itemprop=name content="内容和自定义"><meta itemprop=description content="How to add content to and customize your Docsy site. 如何向您的Docsy站点添加内容并进行自定义。"><meta itemprop=datePublished content="2023-05-18T17:03:08+08:00"><meta itemprop=dateModified content="2024-07-06T09:29:25+08:00"><meta itemprop=wordCount content="33"><meta name=twitter:card content="summary"><meta name=twitter:title content="内容和自定义"><meta name=twitter:description content="How to add content to and customize your Docsy site. 如何向您的Docsy站点添加内容并进行自定义。"><link rel=preload href=/scss/main.min.b6c75baae3d251bbf321611f462514c5891feb870823feed9a7aee9e97e86676.css as=style><link href=/scss/main.min.b6c75baae3d251bbf321611f462514c5891feb870823feed9a7aee9e97e86676.css rel=stylesheet><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script><script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script><link rel=stylesheet href=/css/prism.css></head><body class=td-section><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/zh-cn/><span class="navbar-brand__logo navbar-logo"><svg t="1720198081789" class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" p-id="5607" width="200" height="200" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M512 85.333333A362.666667 362.666667.0 01874.666667 448C874.666667 725.333333 640 960 512 960S149.333333 725.333333 149.333333 448A362.666667 362.666667.0 01512 85.333333zM746.666667 512A192 192 0 00555.733333 724.266667a192 192 0 00211.2-211.2A193.706667 193.706667.0 00746.666667 512zm-469.333334.0c-6.826667.0-13.610667.341333-20.266666 1.066667a192 192 0 00211.2 211.2A192 192 0 00277.333333 512z" fill="#fff" p-id="5608"/></svg></span><span class=navbar-brand__name>Tommas's Blog</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class=nav-link href=/zh-cn/about/><span>关于</span></a></li><li class=nav-item><a class="nav-link active" href=/zh-cn/docs/><span>文档</span></a></li><li class=nav-item><a class=nav-link href=/zh-cn/blog/><span>博客</span></a></li><li class=nav-item><a class=nav-link href=/zh-cn/community/><span>社区</span></a></li><li class="nav-item dropdown d-none d-lg-block"><div class=dropdown><a class="nav-link dropdown-toggle" href=# role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>中文</a><ul class=dropdown-menu><li><a class=dropdown-item href=/en/>English</a></li></ul></div></li><li class="td-light-dark-menu nav-item dropdown"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5.0 010 .708l-7 7a.5.5.0 01-.708.0l-3.5-3.5a.5.5.0 11.708-.708L6.5 10.293l6.646-6.647a.5.5.0 01.708.0z"/></symbol><symbol id="circle-half" viewBox="0 0 16 16"><path d="M8 15A7 7 0 108 1v14zm0 1A8 8 0 118 0a8 8 0 010 16z"/></symbol><symbol id="moon-stars-fill" viewBox="0 0 16 16"><path d="M6 .278a.768.768.0 01.08.858 7.208 7.208.0 00-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527.0 1.04-.055 1.533-.16a.787.787.0 01.81.316.733.733.0 01-.031.893A8.349 8.349.0 018.344 16C3.734 16 0 12.286.0 7.71.0 4.266 2.114 1.312 5.124.06A.752.752.0 016 .278z"/><path d="M10.794 3.148a.217.217.0 01.412.0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217.0 010 .412l-1.162.387A1.734 1.734.0 0011.593 7.69l-.387 1.162a.217.217.0 01-.412.0l-.387-1.162A1.734 1.734.0 009.31 6.593l-1.162-.387a.217.217.0 010-.412l1.162-.387a1.734 1.734.0 001.097-1.097l.387-1.162zM13.863.099a.145.145.0 01.274.0l.258.774c.115.346.386.617.732.732l.774.258a.145.145.0 010 .274l-.774.258a1.156 1.156.0 00-.732.732l-.258.774a.145.145.0 01-.274.0l-.258-.774a1.156 1.156.0 00-.732-.732l-.774-.258a.145.145.0 010-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/></symbol><symbol id="sun-fill" viewBox="0 0 16 16"><path d="M8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 0zm0 13a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 13zm8-5a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2a.5.5.0 01.5.5zM3 8a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2A.5.5.0 013 8zm10.657-5.657a.5.5.0 010 .707l-1.414 1.415a.5.5.0 11-.707-.708l1.414-1.414a.5.5.0 01.707.0zm-9.193 9.193a.5.5.0 010 .707L3.05 13.657a.5.5.0 01-.707-.707l1.414-1.414a.5.5.0 01.707.0zm9.193 2.121a.5.5.0 01-.707.0l-1.414-1.414a.5.5.0 01.707-.707l1.414 1.414a.5.5.0 010 .707zM4.464 4.465a.5.5.0 01-.707.0L2.343 3.05a.5.5.0 11.707-.707l1.414 1.414a.5.5.0 010 .708z"/></symbol></svg>
<button class="btn btn-link nav-link dropdown-toggle d-flex align-items-center" id=bd-theme type=button aria-expanded=false data-bs-toggle=dropdown data-bs-display=static aria-label="Toggle theme (auto)"><svg class="bi my-1 theme-icon-active"><use href="#circle-half"/></svg></button><ul class="dropdown-menu dropdown-menu-end" aria-labelledby=bd-theme-text><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=light aria-pressed=false>
<svg class="bi me-2 opacity-50"><use href="#sun-fill"/></svg>
Light<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=dark aria-pressed=false>
<svg class="bi me-2 opacity-50"><use href="#moon-stars-fill"/></svg>
Dark<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center active" data-bs-theme-value=auto aria-pressed=true>
<svg class="bi me-2 opacity-50"><use href="#circle-half"/></svg>
Auto<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li></ul></li></ul></div><div class="d-none d-lg-block"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder=站内搜索… aria-label=站内搜索… autocomplete=off data-offline-search-index-json-src=/offline-search-index.937caa2b0543dec2ee48057bc615cf7e.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>这是本节的多页打印视图。
<a href=# onclick="return print(),!1">点击此处打印</a>.</p><p><a href=/zh-cn/docs/contentandcustomization/>返回本页常规视图</a>.</p></div><h1 class=title>内容和自定义</h1><ul><li>1: <a href=#pg-84a5af3024194c6f4dcb46a0e289f751>添加内容</a></li><li>2: <a href=#pg-53157a70b4db311e46eacf5b7c7cf0c2>外观与感受</a></li><li>3: <a href=#pg-50a6beabbb3d2a3c7a9bca4ec87eca43>导航和搜索</a></li><li>4: <a href=#pg-cc12c5890f520021fd55cb64466da1c9>文档版本控制</a></li><li>5: <a href=#pg-9d693ae931b0fc63143985df75c9c5c2>Docsy简码</a></li><li>6: <a href=#pg-b170390955ad5d57a161f55c8a978960>Logo和图片</a></li><li>7: <a href=#pg-d8483cb4cda9bb0618a8f87fc3602f0c>打印支持</a></li><li>8: <a href=#pg-4daa29348e76dac1c71ed41bfd67d58e>分析、用户反馈和SEO</a></li><li>9: <a href=#pg-18f03df0932b0815400e182f48ebfdec>代码库链接</a></li><li>10: <a href=#pg-a5c4e4ca066d558258b5c6d3b2ebd5f5>分类支持</a></li><li>11: <a href=#pg-1e805606666d2b0ed8f8c934469e6fb8>图表和公式</a></li></ul><div class=content><p>How to add content to and customize your Docsy site.</p><p>如何向您的Docsy站点添加内容并进行自定义。</p></div></div><div class=td-content><h1 id=pg-84a5af3024194c6f4dcb46a0e289f751>1 - 添加内容</h1><p>​ 向 你的Docsy 站点添加不同类型的内容。</p><p>​ 现在你有了一个带有 Docsy 的新 Hugo 站点，是时候添加一些内容了！本页面告诉你如何使用主题来添加和组织站点内容。</p><h2 id=内容根目录>内容根目录<a class=td-heading-self-link href=#%e5%86%85%e5%ae%b9%e6%a0%b9%e7%9b%ae%e5%bd%95 aria-label="Heading self-link"></a></h2><p>​ 你可以在你的 Hugo 站点项目的内容根目录下添加站点内容 - 即 <code>content/</code> 或<a href=https://t.is-local.org/zh-cn/docs/language/>语言特定的</a>根目录，比如 <code>content/en/</code>。这里的主要例外是你不想构建到站点中的静态文件：你可以在下面的<a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#adding-static-content>添加静态内容</a>中了解更多关于添加这些文件的位置。你的内容根目录中的文件通常按照站点章节和模板分组到子目录中，我们将在<a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#content-sections-and-templates>内容章节和模板</a>中查看这些子目录。</p><p>​ 你可以在<a href=https://gohugo.io/getting-started/directory-structure/#directory-structure-explained>目录结构解释</a>中了解有关 Hugo 目录结构的更多信息。</p><h2 id=内容章节和模板>内容章节和模板<a class=td-heading-self-link href=#%e5%86%85%e5%ae%b9%e7%ab%a0%e8%8a%82%e5%92%8c%e6%a8%a1%e6%9d%bf aria-label="Heading self-link"></a></h2><p>​ Hugo 使用你提供的内容文件和站点主题提供的任何模板来构建你的站点页面。这些模板（在 Hugo 术语中称为"layouts（布局）"）包括你的页面的页眉、页脚、导航和样式表链接：基本上除了页面的具体内容以外的一切。这些模板又可以由局部组成：用于页面元素（如页眉、搜索框等）的小型可重用 HTML 片段。</p><p>​ 因为大多数技术文档站点有不同的章节来存放不同类型的内容，Docsy 主题提供了以下顶级站点章节的<a href=https://github.com/google/docsy/tree/main/layouts>模板</a>：</p><ul><li><a href=https://github.com/google/docsy/tree/main/layouts/docs>docs</a> 用于你站点的文档章节的页面。</li><li><a href=https://github.com/google/docsy/tree/main/layouts/blog>blog</a> 用于你站点的博客页面。</li><li><a href=https://github.com/google/docsy/tree/main/layouts/community>community</a> 用于你站点的社区页面。</li></ul><p>​ 它还提供了一种<a href=https://github.com/google/docsy/tree/main/layouts/_default>默认的"着陆页"模板类型</a>，带有站点页眉和页脚，但没有左侧导航，你可以用它来作为任何其他章节的模板。在这个站点和我们的示例站点中，它用于站点<a href=https://t.is-local.org/zh-cn/>主页</a>和<a href=https://t.is-local.org/zh-cn/about/>About</a>页面。</p><p>​ 你站点中的每个顶级章节都对应着站点内容根目录中的一个目录。根据内容所在的文件夹，Hugo 自动应用适当的模板来渲染该章节。例如，此页面位于站点内容根目录 <code>content/en/</code> 的 <code>docs</code> 子目录中，因此 Hugo 自动应用 <code>docs</code> 模板。你可以通过显式指定特定页面的模板或内容类型来覆盖此行为。</p><p>​ 如果你复制了示例站点，则已经拥有适当命名的顶级章节目录来使用 Docsy 的模板，每个目录都有一个索引页面（ <code>_index.md</code> 或 <code>index.html</code>）供用户访问。这些顶级章节也会出现在示例站点的<a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation/#top-level-menu>顶级菜单</a>中。</p><h3 id=自定义章节>自定义章节<a class=td-heading-self-link href=#%e8%87%aa%e5%ae%9a%e4%b9%89%e7%ab%a0%e8%8a%82 aria-label="Heading self-link"></a></h3><p>​ 如果您复制了示例站点，但并不想使用提供的任何内容章节之一，只需删除相应的内容子目录即可。同样，如果您想添加一个顶级章节，只需添加一个新的子目录，但如果您想使用除默认模板之外的任何现有Docsy模板，则需要在每个页面的<a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#page-frontmatter>前置元数据</a>中明确指定布局或内容类型。例如，如果您创建一个新目录<code>content/en/amazing</code>，并且希望该自定义章节中的一个或多个页面使用Docsy的<code>docs</code>模板，则在每个页面的前置元数据中添加<code>type: docs</code>：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: &quot;My amazing new section&quot;
weight: 1
type: docs
description: &gt;
    A special section with a docs layout.
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;My amazing new section&quot;
weight = 1
type = &quot;docs&quot;
description = '''
A special section with a docs layout.
'''
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;My amazing new section&quot;,
  &quot;weight&quot;: 1,
  &quot;type&quot;: &quot;docs&quot;,
  &quot;description&quot;: &quot;A special section with a docs layout.\n&quot;
}
```
</code></pre><p>​ 或者，根据现有模板，在您项目的<code>layouts</code>目录中为您的新章节创建自己的页面模板。</p><p>​ 您可以在<a href=https://gohugo.io/templates/>Hugo模板</a>中了解更多有关Hugo页面布局的工作原理。本页面的其余部分将告诉您如何添加内容并使用Docsy的每个模板。</p><h3 id=替代站点结构>替代站点结构<a class=td-heading-self-link href=#%e6%9b%bf%e4%bb%a3%e7%ab%99%e7%82%b9%e7%bb%93%e6%9e%84 aria-label="Heading self-link"></a></h3><p>​ 如上所述，默认情况下，您的站点具有主页（使用<code>_default</code>布局），<code>/docs/</code>下的文档章节，<code>/blog/</code>下的博客章节和<code>/community/</code>下的社区章节。每个章节的<a href=https://gohugo.io/content-management/types/>类型</a>（确定其使用的布局）与其目录名称匹配。</p><p>​ 在某些情况下，您可能希望具有不同的目录结构，但仍要利用Docsy的布局。一个常见的例子是"文档站点"，其中大多数页面（包括主页）都使用文档布局，或者您可能更喜欢将<code>/news/</code>目录视为博客布局。</p><p>​ 自Hugo 0.76以来，通过使用<a href=https://gohugo.io/content-management/front-matter/#target-specific-pages>目标特定级联前置元数据</a>，而不需要复制布局到您的站点或在每个页面上都指定<code>type: blog</code>，这已经变得可行。</p><p>​ 例如，对于<code>/news/</code>章节，您可以在index 页面中指定以下前置元数据，这将更改该章节及其以下所有内容的类型为"blog"：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: &quot;Latest News&quot;
linkTitle: &quot;News&quot;
menu:
  main:
    weight: 30

cascade:
  - type: &quot;blog&quot;
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;Latest News&quot;
linkTitle = &quot;News&quot;

[menu.main]
weight = 30

[[cascade]]
type = &quot;blog&quot;
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;Latest News&quot;,
  &quot;linkTitle&quot;: &quot;News&quot;,
  &quot;menu&quot;: {
    &quot;main&quot;: {
      &quot;weight&quot;: 30
    }
  },
  &quot;cascade&quot;: [
    {
      &quot;type&quot;: &quot;blog&quot;
    }
  ]
}
```
</code></pre><p>​ 如果您想创建一个"docs"站点，则在顶级<code>_index.md</code>中指定类似以下内容将使所有顶级章节都被视为"文档"，除了"news"：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: &quot;My Wonderful Site&quot;

cascade:
  - type: &quot;blog&quot;
    toc_root: true
    _target:
    path: &quot;/news/**&quot;
  - type: &quot;docs&quot;
    _target:
    path: &quot;/**&quot;
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;My Wonderful Site&quot;

[[cascade]]
type = &quot;blog&quot;
toc_root = true

  [cascade._target]
  path = &quot;/news/**&quot;

[[cascade]]
type = &quot;docs&quot;

  [cascade._target]
  path = &quot;/**&quot;
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;My Wonderful Site&quot;,
  &quot;cascade&quot;: [
    {
      &quot;type&quot;: &quot;blog&quot;,
      &quot;toc_root&quot;: true,
      &quot;_target&quot;: {
        &quot;path&quot;: &quot;/news/**&quot;
      }
    },
    {
      &quot;type&quot;: &quot;docs&quot;,
      &quot;_target&quot;: {
        &quot;path&quot;: &quot;/**&quot;
      }
    }
  ]
}
```
</code></pre><p>请注意，这里增加了<code>toc_root</code>。将其设置为<code>true</code>，可以使其被视为站点的单独部分，具有自己的左侧导航菜单。</p><p>​ 使用此技术的示例基于文档的站点可在<a href=https://github.com/gwatts/mostlydocs/>mostly docs</a> repo中找到。</p><h2 id=页面前置元数据>页面前置元数据<a class=td-heading-self-link href=#%e9%a1%b5%e9%9d%a2%e5%89%8d%e7%bd%ae%e5%85%83%e6%95%b0%e6%8d%ae aria-label="Heading self-link"></a></h2><p>​ Hugo站点中的每个页面文件都有元数据前置元数据，告诉Hugo有关页面的信息。您可以在TOML、YAML或JSON中指定页面前置元数据（我们的示例站点和此站点使用YAML）。使用前置元数据指定页面标题、描述、创建日期、链接标题、模板、菜单权重，甚至包括页面使用的任何资源，如图像。您可以在<a href=https://gohugo.io/content-management/front-matter/>前置元数据</a>中查看可能的页面前置元数据的完整列表。</p><p>例如，这是本页面的前置元数据：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: &quot;Adding Content&quot;
linkTitle: &quot;Adding Content&quot;
weight: 1
description: &gt;
    Add different types of content to your Docsy site.
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;Adding Content&quot;
linkTitle = &quot;Adding Content&quot;
weight = 1
description = '''
Add different types of content to your Docsy site.
'''
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;Adding Content&quot;,
  &quot;linkTitle&quot;: &quot;Adding Content&quot;,
  &quot;weight&quot;: 1,
  &quot;description&quot;: &quot;Add different types of content to your Docsy site.\n&quot;
}
```
</code></pre><p>​ 你需要提供的最基本的前置元数据是title（标题）：其他的内容都由你决定！然而，如果你没有设置页面weight（权重），你的<a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation>导航</a>可能会有点混乱。你可能还想包括<code>description</code>，因为 Docsy 使用它来生成搜索引擎使用的mata <code>description</code> 标签。详见<a href=https://t.is-local.org/zh-cn/docs/adding-content/feedback/#search-engine-optimization-meta-tags>搜索引擎优化（SEO）元标签</a>。</p><h2 id=页面内容和标记>页面内容和标记<a class=td-heading-self-link href=#%e9%a1%b5%e9%9d%a2%e5%86%85%e5%ae%b9%e5%92%8c%e6%a0%87%e8%ae%b0 aria-label="Heading self-link"></a></h2><p>​ 默认情况下，你可以像编写普通的 <a href=https://gohugo.io/content-management/formats/>Markdown 或 HTML 文件</a>一样，在 Docsy 站点上创建页面并添加<a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#page-frontmatter>页面前置元数据</a>，就像上面描述的那样。从 0.100 版本开始，<a href=https://github.com/yuin/goldmark/>Goldmark</a>是 Hugo 唯一支持的 Markdown 解析器。</p><blockquote><h4 id=提示>提示<a class=td-heading-self-link href=#%e6%8f%90%e7%a4%ba aria-label="Heading self-link"></a></h4><p>如果你之前使用的是在 0.60 版本之前的 Hugo 版本，使用 <a href=https://github.com/russross/blackfriday>BlackFriday</a> 作为 Markdown 解析器，你可能需要对你的站点进行一些小的更改才能与当前的 <code>Goldmark</code> Markdown 解析器一起工作。特别是，如果你克隆了我们的早期示例站点的一个版本，请在 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中添加以下内容，以允许 Goldmark 渲染原始 HTML 和 Markdown：</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
markup:
  goldmark:
    renderer:
      unsafe: true
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
[markup]
  [markup.goldmark]
    [markup.goldmark.renderer]
      unsafe = true
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;markup&quot;: {
    &quot;goldmark&quot;: {
      &quot;renderer&quot;: {
        &quot;unsafe&quot;: true
      }
    }
  }
}
```
</code></pre></blockquote><p>​ 除了标记文本，你还可以使用 Hugo 和 Docsy 的 <a href=https://t.is-local.org/zh-cn/docs/adding-content/shortcodes>shortcodes</a>（简码）：可重用的 HTML 片段，可以快速构建你的页面。在 <a href=https://t.is-local.org/zh-cn/docs/adding-content/shortcodes>Docsy Shortcodes</a> 中了解更多关于简码的内容。</p><blockquote><p>注意</p><p>​ Hugo 也支持使用其他标记语言的<a href=https://gohugo.io/content-management/formats/#additional-formats-through-external-helpers>外部解析器作为辅助工具</a>来添加内容。例如，你可以使用 <code>rst2html</code> 作为外部解析器来添加 RST 内容（尽管请注意，这不支持所有 RST 的变体，例如 Sphinx RST）。同样地，你可以使用 <code>asciidoctor</code> 来解析 Asciidoc 文件，或者使用 <code>pandoc</code> 解析其他格式的文件。</p><p>​ 由于你需要安装外部解析器并运行 Hugo 来生成你的站点（例如，你将无法使用 <a href=https://t.is-local.org/zh-cn/docs/deployment/#deployment-with-netlify>Netlify 的持续部署功能</a>），因此外部解析器可能并不适合与所有部署选项一起使用。此外，添加外部解析器可能会导致构建较大站点时出现性能问题。</p></blockquote><h3 id=处理链接>处理链接<a class=td-heading-self-link href=#%e5%a4%84%e7%90%86%e9%93%be%e6%8e%a5 aria-label="Heading self-link"></a></h3><p>​ Hugo 允许你使用普通的 Markdown 语法指定链接，但请记住，你需要将链接相对于你站点的根 URL 指定，而相对 URL 在你站点生成的 HTML 中不会被 Hugo 更改。</p><p>​ 或者，你可以使用 Hugo 的 helper <a href=https://gohugo.io/content-management/cross-references/>ref 和 relref 简码</a>来创建解析为正确 URL 的内部链接。但是，请注意，如果用户在你生成的站点之外查看你的页面，例如在 GitHub 的 Web UI 中使用渲染的 Markdown 功能，那么你的链接将根本不会出现为链接。</p><p>​ 你可以在 <a href=https://t.is-local.org/zh-cn/docs/best-practices/site-guidance>Hugo Tips</a> 中找到（或添加！）有关处理 Hugo 链接的技巧和提示。</p><h3 id=内容样式>内容样式<a class=td-heading-self-link href=#%e5%86%85%e5%ae%b9%e6%a0%b7%e5%bc%8f aria-label="Heading self-link"></a></h3><p>​ 我们不强制要求您的页面内容采用任何特定的风格。然而，如果您需要一些关于如何编写和格式化清晰、简洁的技术文档的指导，我们推荐使用<a href=https://developers.google.com/style/>Google开发者文档风格指南</a>，特别是其中的<a href=https://developers.google.com/style/highlights>风格指南要点</a>。</p><h2 id=页面-bundles>页面 bundles<a class=td-heading-self-link href=#%e9%a1%b5%e9%9d%a2-bundles aria-label="Heading self-link"></a></h2><p>​ 您可以将站点页面创建为其所在章节或子章节目录中的独立文件，或者作为包含内容的文件夹，其中内容在文件夹的index页中。为您的页面创建一个文件夹可以让您将图像和其他资源与内容<a href=https://gohugo.io/content-management/page-bundles/>捆绑（bundle）</a>在一起。</p><p>​ 您可以在本站点和我们的示例站点中看到这两种方法的示例。例如，本页面的源代码只是一个独立的文件<code>/content/en/docs/adding-content.md</code>。然而，在本站点中，Docsy简码的源代码位于<code>/content/en/docs/adding-content/shortcodes/index.md</code>，该页面使用的图像资源位于同一个<code>/shortcodes/</code>目录中。在Hugo术语中，这被称为叶子bundle，因为它是一个文件夹，包含了单个站点页面的所有数据，没有任何子页面（并且使用了不带下划线的<code>index.md</code>）。</p><p>​ 您可以在<a href=https://gohugo.io/content-management/page-bundles/>页面Bundles</a>中找到更多有关使用Hugo捆绑管理资源的信息。</p><h2 id=adding-docs-and-blog-posts>Adding docs and blog posts<a class=td-heading-self-link href=#adding-docs-and-blog-posts aria-label="Heading self-link"></a></h2><p>​ 您最常使用的模板可能是<a href=https://github.com/google/docsy/blob/main/layouts/docs/baseof.html><code>docs</code>模板</a>（如本页面所使用的）或非常相似的<a href=https://github.com/google/docsy/blob/main/layouts/blog/baseof.html><code>blog</code> 模板</a>。这两个模板都包括：</p><ul><li>a left nav</li><li>GitHub链接（从您的站点配置中获取）供读者编辑页面或创建问题</li><li>a page menu</li></ul><p>以及所有站点页面都使用的常见页头和页脚。应用哪个模板取决于您是否将内容添加到<code>blog</code>或<code>docs</code>内容目录中。您可以在<a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation/>导航和搜索</a>中了解有关如何创建导航和页面菜单的更多信息。</p><h3 id=组织您的文档>组织您的文档<a class=td-heading-self-link href=#%e7%bb%84%e7%bb%87%e6%82%a8%e7%9a%84%e6%96%87%e6%a1%a3 aria-label="Heading self-link"></a></h3><p>​ 虽然Docsy的顶级章节允许您为不同类型的内容创建站点章节，但您可能还希望在<code>docs</code>章节内组织您的文档内容。例如，本站点的<code>docs</code>章节目录有多个子目录，用于入门、内容和自定义等。每个子目录都有一个<code>_index.md</code>（也可以是<code>_index.html</code>），它作为一个章节索引页，告诉Hugo相关目录是您的文档的子章节。</p><p>​ Docsy的<code>docs</code>布局为您提供了一个左侧导航窗格，其中包含根据您的文档文件结构自动生成的嵌套菜单。在<code>docs/</code>目录中的每个独立页面或子章节<code>_index.md</code>或<code>_index.html</code>页面都会获得一个顶级菜单项，使用页面或index中的链接名称和<code>weight</code>元数据。</p><p>​ 要向子章节添加文档，只需将页面文件添加到相应的子目录中。除子章节索引页面外，您添加到子章节的任何页面都将出现在子菜单中（请查看左侧以查看实际效果！），并按页面<code>weight</code>排序。在<a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation/>导航和搜索</a>中了解有关添加Docsy导航元数据的更多信息。</p><p>​ 如果您已经复制了示例站点，则在您的<code>docs</code>目录中已经有一些建议的子目录，并提供了放置何种类型内容以及一些示例Markdown页面的指导。您可以在<a href=https://t.is-local.org/zh-cn/docs/best-practices/organizing-content/>组织您的内容</a>中了解更多关于使用Docsy组织内容的信息。</p><h4 id=文档章节着陆页面>文档章节着陆页面<a class=td-heading-self-link href=#%e6%96%87%e6%a1%a3%e7%ab%a0%e8%8a%82%e7%9d%80%e9%99%86%e9%a1%b5%e9%9d%a2 aria-label="Heading self-link"></a></h4><p>​ 默认情况下，文档章节着陆页（位于章节目录中的<code>_index.md</code>或<code>_index.html</code>）使用一种布局，该布局添加了一个格式化的链接列表，其中包含章节中的页面及其前置元数据描述。本站点中的<a href=https://t.is-local.org/zh-cn/docs/adding-content/>内容和自定义</a>着陆页面是一个很好的例子。</p><p>​ 要显示一个简单的链接条目列表，指定在着陆页面的前置元数据中<code>simple_list: true</code>：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: &quot;Simple List Page&quot;
simple_list: true
weight: 20
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;Simple List Page&quot;
simple_list = true
weight = 20
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;Simple List Page&quot;,
  &quot;simple_list&quot;: true,
  &quot;weight&quot;: 20
}
```
</code></pre><p>​ 要根本不显示任何链接，请在着陆页面的前置元数据中指定<code>no_list: true</code>：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: &quot;No List Page&quot;
no_list: true
weight: 20
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;No List Page&quot;
no_list = true
weight = 20
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;No List Page&quot;,
  &quot;no_list&quot;: true,
  &quot;weight&quot;: 20
}
```
</code></pre><h3 id=组织您的博客文章>组织您的博客文章<a class=td-heading-self-link href=#%e7%bb%84%e7%bb%87%e6%82%a8%e7%9a%84%e5%8d%9a%e5%ae%a2%e6%96%87%e7%ab%a0 aria-label="Heading self-link"></a></h3><p>​ Docsy的<code>blog</code>布局也为您提供了一个左侧导航菜单（如<code>docs</code>布局），以及应用于<code>/blog/_index.md</code>的列表类型index 页，自动按反向时间顺序显示所有最新文章的片段。</p><p>To create different blog categories to organize your posts, create subfolders in <code>blog/</code>. For instance, in our <a href=https://github.com/google/docsy-example/tree/master/content/en/blog>example site</a> we have <code>news</code> and <code>releases</code>. Each category needs to have its own <code>_index.md</code> or <code>_index.html</code> landing page file specifying the category title for it to appear properly in the left nav and top-level blog landing page. Here’s the index page for <code>releases</code>:</p><p>​ 要创建不同的博客类别以组织您的文章，请在<code>blog/</code>中创建子文件夹。例如，在我们的<a href=https://github.com/google/docsy-example/tree/master/content/en/blog>示例站点</a>中，我们有<code>news</code>和<code>releases</code>。每个类别都需要有自己的<code>_index.md</code>或<code>_index.html</code>着陆页面文件，指定类别标题以使其在左侧导航和顶级博客着陆页面上正确显示。这是<code>releases</code>的index 页面：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: &quot;New Releases&quot;
linkTitle: &quot;Releases&quot;
weight: 20
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;New Releases&quot;
linkTitle = &quot;Releases&quot;
weight = 20
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;New Releases&quot;,
  &quot;linkTitle&quot;: &quot;Releases&quot;,
  &quot;weight&quot;: 20
}
```
</code></pre><p>​ 要向博客文章添加作者和日期信息，请将它们添加到页面的前置元数据中：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
date: 2018-10-06
title: &quot;Easy documentation with Docsy&quot;
linkTitle: &quot;Announcing Docsy&quot;
description: &quot;The Docsy Hugo theme lets project maintainers and contributors focus on content, not on reinventing a website infrastructure from scratch&quot;
author: Riona MacNamara
resources:
  - src: &quot;**.{png,jpg}&quot;
    title: &quot;Image #:counter&quot;
    params:
    byline: &quot;Photo: Riona MacNamara / CC-BY-CA&quot;
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
date = 2018-10-06T00:00:00.000Z
title = &quot;Easy documentation with Docsy&quot;
linkTitle = &quot;Announcing Docsy&quot;
description = &quot;The Docsy Hugo theme lets project maintainers and contributors focus on content, not on reinventing a website infrastructure from scratch&quot;
author = &quot;Riona MacNamara&quot;

[[resources]]
src = &quot;**.{png,jpg}&quot;
title = &quot;Image #:counter&quot;

  [resources.params]
  byline = &quot;Photo: Riona MacNamara / CC-BY-CA&quot;
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;date&quot;: &quot;2018-10-06T00:00:00.000Z&quot;,
  &quot;title&quot;: &quot;Easy documentation with Docsy&quot;,
  &quot;linkTitle&quot;: &quot;Announcing Docsy&quot;,
  &quot;description&quot;: &quot;The Docsy Hugo theme lets project maintainers and contributors focus on content, not on reinventing a website infrastructure from scratch&quot;,
  &quot;author&quot;: &quot;Riona MacNamara&quot;,
  &quot;resources&quot;: [
    {
      &quot;src&quot;: &quot;**.{png,jpg}&quot;,
      &quot;title&quot;: &quot;Image #:counter&quot;,
      &quot;params&quot;: {
        &quot;byline&quot;: &quot;Photo: Riona MacNamara / CC-BY-CA&quot;
      }
    }
  ]
}
```
</code></pre><p>​ 如果您已经复制了示例站点，并且不想要blog 章节，或者想链接到外部博客，只需删除<code>blog</code>子目录即可。</p><h2 id=working-with-top-level-landing-pages-使用顶级着陆页面>Working with top-level landing pages. 使用顶级着陆页面<a class=td-heading-self-link href=#working-with-top-level-landing-pages-%e4%bd%bf%e7%94%a8%e9%a1%b6%e7%ba%a7%e7%9d%80%e9%99%86%e9%a1%b5%e9%9d%a2 aria-label="Heading self-link"></a></h2><p>​ Docsy的<a href=https://github.com/google/docsy/blob/main/layouts/docs/baseof.html>默认页面模板</a>没有左侧导航，适用于为您的站点或其他"着陆"类型页面创建主页。</p><h3 id=自定义示例站点页面>自定义示例站点页面<a class=td-heading-self-link href=#%e8%87%aa%e5%ae%9a%e4%b9%89%e7%a4%ba%e4%be%8b%e7%ab%99%e7%82%b9%e9%a1%b5%e9%9d%a2 aria-label="Heading self-link"></a></h3><p>​ 如果你已经复制了示例站点，那么在 <code>content/en/_index.html</code> 文件中你已经有了一个简单的站点着陆页。它由 Docsy 提供的 Hugo shortcode <a href=https://t.is-local.org/zh-cn/docs/adding-content/shortcodes/#shortcode-blocks>页面块</a>组成。</p><p>​ 要自定义大的着陆图片（在一个<a href=https://t.is-local.org/zh-cn/docs/adding-content/shortcodes/#blockscover>封面（cover）</a>块中），请将项目中的 <code>content/en/featured-background.jpg</code> 文件替换为你自己的图片（文件名中必须包含<code>background</code>），你可以添加或删除尽可能多的块，以及添加你自己的内容。</p><p>​ 示例站点还有一个About 页面，在 <code>content/en/about/_index.html</code> 中使用相同的 Docsy 模板。同样，它由<a href=https://t.is-local.org/zh-cn/docs/adding-content/shortcodes/#shortcode-blocks>页面块</a>组成，包括 <code>content/en/about/featured-background.jpg</code> 中的另一个背景图片。与站点着陆页一样，你可以替换图片、删除或添加块，或者添加你自己的内容。</p><h3 id=构建你自己的着陆页>构建你自己的着陆页<a class=td-heading-self-link href=#%e6%9e%84%e5%bb%ba%e4%bd%a0%e8%87%aa%e5%b7%b1%e7%9a%84%e7%9d%80%e9%99%86%e9%a1%b5 aria-label="Heading self-link"></a></h3><p>​ 如果你刚刚使用了这个主题，你仍然可以使用所有 Docsy 提供的<a href=https://t.is-local.org/zh-cn/docs/adding-content/shortcodes/#shortcode-blocks>页面块</a>（或任何其他你想要的内容）在相同的文件位置构建自己的着陆页。</p><h2 id=添加community-页面>添加community 页面<a class=td-heading-self-link href=#%e6%b7%bb%e5%8a%a0community-%e9%a1%b5%e9%9d%a2 aria-label="Heading self-link"></a></h2><p>​ <code>community</code>着陆页模板有样板内容，自动填充项目名称和在 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中指定的社区链接，为你的用户提供快速访问资源的链接，帮助他们参与你的项目。同样的链接也默认添加到你的站点页脚。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  links:
    user:
      - name: User mailing list
        url: 'https://example.org/mail'
        icon: fa fa-envelope
        desc: Discussion and help from your fellow users
      - name: Twitter
        url: 'https://example.org/twitter'
        icon: fab fa-twitter
        desc: Follow us on Twitter to get the latest news!
      - name: Stack Overflow
        url: 'https://example.org/stack'
        icon: fab fa-stack-overflow
        desc: Practical questions and curated answers
    developer:
      - name: GitHub
        url: 'https://github.com/google/docsy'
        icon: fab fa-github
        desc: Development takes place here!
      - name: Slack
        url: 'https://example.org/slack'
        icon: fab fa-slack
        desc: Chat with other project developers
      - name: Developer mailing list
        url: 'https://example.org/mail'
        icon: fa fa-envelope
        desc: Discuss development issues around the project
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.links]
# End user relevant links. These will show up on left side of footer and in the community page if you have one.
[[params.links.user]]
	name = &quot;User mailing list&quot;
	url = &quot;https://example.org/mail&quot;
	icon = &quot;fa fa-envelope&quot;
        desc = &quot;Discussion and help from your fellow users&quot;
[[params.links.user]]
	name =&quot;Twitter&quot;
	url = &quot;https://example.org/twitter&quot;
	icon = &quot;fab fa-twitter&quot;
        desc = &quot;Follow us on Twitter to get the latest news!&quot;
[[params.links.user]]
	name = &quot;Stack Overflow&quot;
	url = &quot;https://example.org/stack&quot;
	icon = &quot;fab fa-stack-overflow&quot;
        desc = &quot;Practical questions and curated answers&quot;
# Developer relevant links. These will show up on right side of footer and in the community page if you have one.
[[params.links.developer]]
	name = &quot;GitHub&quot;
	url = &quot;https://github.com/google/docsy&quot;
	icon = &quot;fab fa-github&quot;
        desc = &quot;Development takes place here!&quot;
[[params.links.developer]]
	name = &quot;Slack&quot;
	url = &quot;https://example.org/slack&quot;
	icon = &quot;fab fa-slack&quot;
        desc = &quot;Chat with other project developers&quot;
[[params.links.developer]]
	name = &quot;Developer mailing list&quot;
	url = &quot;https://example.org/mail&quot;
	icon = &quot;fa fa-envelope&quot;
        desc = &quot;Discuss development issues around the project&quot;
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;links&quot;: {
      &quot;user&quot;: [
        {
          &quot;name&quot;: &quot;User mailing list&quot;,
          &quot;url&quot;: &quot;https://example.org/mail&quot;,
          &quot;icon&quot;: &quot;fa fa-envelope&quot;,
          &quot;desc&quot;: &quot;Discussion and help from your fellow users&quot;
        },
        {
          &quot;name&quot;: &quot;Twitter&quot;,
          &quot;url&quot;: &quot;https://example.org/twitter&quot;,
          &quot;icon&quot;: &quot;fa-brands fa-twitter&quot;,
          &quot;desc&quot;: &quot;Follow us on Twitter to get the latest news!&quot;
        },
        {
          &quot;name&quot;: &quot;Stack Overflow&quot;,
          &quot;url&quot;: &quot;https://example.org/stack&quot;,
          &quot;icon&quot;: &quot;fa-brands fa-stack-overflow&quot;,
          &quot;desc&quot;: &quot;Practical questions and curated answers&quot;
        }
      ],
      &quot;developer&quot;: [
        {
          &quot;name&quot;: &quot;GitHub&quot;,
          &quot;url&quot;: &quot;https://github.com/google/docsy&quot;,
          &quot;icon&quot;: &quot;fa-brands fa-github&quot;,
          &quot;desc&quot;: &quot;Development takes place here!&quot;
        },
        {
          &quot;name&quot;: &quot;Slack&quot;,
          &quot;url&quot;: &quot;https://example.org/slack&quot;,
          &quot;icon&quot;: &quot;fa-brands fa-slack&quot;,
          &quot;desc&quot;: &quot;Chat with other project developers&quot;
        },
        {
          &quot;name&quot;: &quot;Developer mailing list&quot;,
          &quot;url&quot;: &quot;https://example.org/mail&quot;,
          &quot;icon&quot;: &quot;fa fa-envelope&quot;,
          &quot;desc&quot;: &quot;Discuss development issues around the project&quot;
        }
      ]
    }
  }
}
```
</code></pre><p>​ 如果你正在创建自己的站点，想要使用这个模板添加页面，请在你的内容根目录中添加一个 <code>/community/_index.md</code> 文件。如果你复制了示例站点，并不想要一个社区页面，请在项目存储库中删除 <code>/content/en/community/</code> 目录。</p><h2 id=添加静态内容>添加静态内容<a class=td-heading-self-link href=#%e6%b7%bb%e5%8a%a0%e9%9d%99%e6%80%81%e5%86%85%e5%ae%b9 aria-label="Heading self-link"></a></h2><p>​ 你可能想要将一些非 Hugo 构建的内容与你的站点一起提供：例如，如果你使用 Doxygen、Javadoc 或其他文档生成工具生成参考文档。</p><p>​ 要添加静态内容以"原样（as-is）&ldquo;提供，请在站点的 <code>static</code> 目录中添加文件夹和/或文件。在部署站点时，该目录中的内容将在站点根路径下提供服务。因此，例如，如果你在 <code>/static/reference/cpp/</code> 添加了内容，用户可以在 <code>http://{server-url}/reference/cpp/</code> 访问该内容，你可以从其他页面在 <code>/reference/cpp/{file name}</code> 上链接到该目录中的页面。</p><p>​ 你还可以在该目录中使用你的项目使用的其他文件，包括图像文件。你可以在<a href=https://gohugo.io/content-management/static-files/>静态文件</a>中了解更多关于提供静态文件的信息，包括配置多个静态内容目录。</p><h2 id=rss-订阅>RSS 订阅<a class=td-heading-self-link href=#rss-%e8%ae%a2%e9%98%85 aria-label="Heading self-link"></a></h2><p>​ Hugo 默认会为主页和任何章节创建一个 RSS 订阅。对于主 RSS 订阅，你可以通过设置 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中的站点参数来控制包含哪些章节。这是默认配置：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
rss_sections:
  - blog
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
rss_sections = [&quot;blog&quot;]
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;rss_sections&quot;: [
    &quot;blog&quot;
  ]
}
```
</code></pre><p>​ 要禁用所有RSS订阅，请在<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>中添加以下内容：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
disableKinds:
  - RSS
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
disableKinds = [&quot;RSS&quot;]
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;disableKinds&quot;: [
    &quot;RSS&quot;
  ]
}
```
</code></pre><blockquote><p>注意</p><p>​ 如果您已启用我们的<a href=https://t.is-local.org/zh-cn/docs/adding-content/print/>打印功能</a>或以其他方式在<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>中指定了章节级别的输出格式，请确保"RSS"被列为输出格式，否则您将无法获得章节级别的RSS订阅（并且您的博客章节将不会有漂亮的橙色RSS按钮）。您的<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 规范将覆盖Hugo用于章节的默认<a href=https://gohugo.io/templates/output-formats/>输出格式</a>，这些格式为HTML和RSS。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
outputs:
  section:
    - HTML
    - RSS
    - print
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[outputs]
section = [ &quot;HTML&quot;, &quot;RSS&quot;, &quot;print&quot; ]
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;outputs&quot;: {
    &quot;section&quot;: [
      &quot;HTML&quot;,
      &quot;RSS&quot;,
      &quot;print&quot;
    ]
  }
}
```
</code></pre></blockquote><h2 id=sitemap>Sitemap<a class=td-heading-self-link href=#sitemap aria-label="Heading self-link"></a></h2><p>​ Hugo默认为您的生成站点创建<code>sitemap.xml</code>文件：例如，这是<a href=https://t.is-local.org/zh-cn/sitemap.xml>本站的sitemap</a>。</p><p>​ 您可以在<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>中配置您的sitemap更新频率、sitemap文件名和默认页面优先级：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
sitemap:
  changefreq: monthly
  filename: sitemap.xml
  priority: 0.5
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[sitemap]
  changefreq = &quot;monthly&quot;
  filename = &quot;sitemap.xml&quot;
  priority = 0.5
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;sitemap&quot;: {
    &quot;changefreq&quot;: &quot;monthly&quot;,
    &quot;filename&quot;: &quot;sitemap.xml&quot;,
    &quot;priority&quot;: 0.5
  }
}
```
</code></pre><p>​ 要为给定页面覆盖这些值，请在页面的前置元数据中指定：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: &quot;Adding Content&quot;
linkTitle: &quot;Adding Content&quot;
weight: 1
description: &gt;
    Add different types of content to your Docsy site.
sitemap:
  priority: 1.0
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;Adding Content&quot;
linkTitle = &quot;Adding Content&quot;
weight = 1
description = '''
Add different types of content to your Docsy site.
'''
[sitemap]
priority = 1
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;Adding Content&quot;,
  &quot;linkTitle&quot;: &quot;Adding Content&quot;,
  &quot;weight&quot;: 1,
  &quot;description&quot;: &quot;Add different types of content to your Docsy site.\n&quot;,
  &quot;sitemap&quot;: {
    &quot;priority&quot;: 1
  }
}
```
</code></pre><p>​ 要了解有关配置站点地图的更多信息，请参阅<a href=https://gohugo.io/templates/sitemap-template/>Sitemap模板</a>。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-53157a70b4db311e46eacf5b7c7cf0c2>2 - 外观与感受</h1><p>​ 自定义您的站点颜色、字体、代码高亮等等。</p><p>​ 默认情况下，使用 Docsy 的站点具有主题的默认字体、颜色和一般外观和感受。然而，如果您想要自己的颜色方案（您可能会想要！），您可以使用自己项目特定的值非常容易地覆盖主题默认值——Hugo 在查找构建您的站点的信息时将首先查找您的项目文件。并且，由于 Docsy 使用 Bootstrap 4 和 SCSS 进行样式化，您可以在其特殊的 SCSS 项目变量文件中仅覆盖单个值（如项目颜色和字体），或通过创建自己的样式进行更进一步的定制。</p><p>​ Docsy 还提供了使用 Chroma 或 Prism 进行高亮显示代码块的选项。</p><h2 id=项目样式文件>项目样式文件<a class=td-heading-self-link href=#%e9%a1%b9%e7%9b%ae%e6%a0%b7%e5%bc%8f%e6%96%87%e4%bb%b6 aria-label="Heading self-link"></a></h2><p>​ 要自定义项目的外观和感受，请创建以下任一 Docsy 占位符文件的您自己的版本（注意下划线后缀 <code>_project.scss</code>）：</p><ul><li><code>assets/scss/_variables_project.scss</code> 是您添加项目特定的主题变量定义（如<a href=https://t.is-local.org/zh-cn/docs/adding-content/lookandfeel/#site-colors>站点颜色</a>）以及您想要设置的任何其他 Bootstrap 变量值的地方。您可以在 <code>assets/scss/_variables.scss</code> 中找到 Docsy 主题变量及其默认值的列表。有关其他 Bootstrap 4 变量的信息，请参见<a href=https://getbootstrap.com/docs/4.1/getting-started/theming/#variable-defaults>变量默认值</a>和 Bootstrap 的 <a href=https://github.com/twbs/bootstrap/blob/v4-dev/scss/_variables.scss>v4-dev/scss/_variables.scss</a> 文件。</li><li><code>assets/scss/_styles_project.scss</code> 是您可以添加自己的自定义 SCSS 样式的地方，包括覆盖 Docsy 主题 SCSS 文件中的任何样式。</li></ul><blockquote><p>提示</p><p>​ 在服务器模式下运行时未启用 PostCSS（CSS 浏览器前缀自动添加）（速度较慢），因此 Chrome 是推荐的开发选择。</p></blockquote><h2 id=站点颜色>站点颜色<a class=td-heading-self-link href=#%e7%ab%99%e7%82%b9%e9%a2%9c%e8%89%b2 aria-label="Heading self-link"></a></h2><p>​ 要自定义您的站点颜色，请在 <code>assets/scss/_variables_project.scss</code> 中添加 SCSS 变量覆盖。例如，您可以设置主色和次要色：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scss data-lang=scss><span style=display:flex><span><span style=color:#000>$primary</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>#390040</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000>$secondary</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>#A23B72</span><span style=color:#000;font-weight:700>;</span>
</span></span></code></pre></div><p>​ 该主题默认启用渐变背景 (<code>$enable-gradients</code>) 和阴影 (<code>$enable-shadows</code>) 等功能。您也可以在项目变量文件中通过将变量设置为 <code>false</code> 来切换这些功能。</p><h2 id=字体>字体<a class=td-heading-self-link href=#%e5%ad%97%e4%bd%93 aria-label="Heading self-link"></a></h2><p>​ 该主题使用<a href=https://fonts.google.com/specimen/Open+Sans>Open Sans</a> 作为其主要字体。要禁用 Google Fonts 并使用系统字体，请在 <code>assets/scss/_variables_project.scss</code> 中设置此 SCSS 变量：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scss data-lang=scss><span style=display:flex><span><span style=color:#000>$td-enable-google-fonts</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>false</span><span style=color:#000;font-weight:700>;</span>
</span></span></code></pre></div><p>​ 要配置其他 Google 字体：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scss data-lang=scss><span style=display:flex><span><span style=color:#000>$google_font_name</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Open Sans&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000>$google_font_family</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Open+Sans:300,300i,400,400i,700,700i&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span></code></pre></div><p>​ 请注意，如果您决定选择具有不同权重的字体（在内置配置中，这是 <code>300</code>（轻），<code>400</code>（中）和 <code>700</code>（粗）），您还需要调整与权重相关的变量，即以 <code>$font-weight-</code> 开头的变量。</p><h2 id=css-实用程序>CSS 实用程序<a class=td-heading-self-link href=#css-%e5%ae%9e%e7%94%a8%e7%a8%8b%e5%ba%8f aria-label="Heading self-link"></a></h2><p>​ 有关可用 CSS 实用程序类的文档，请参见 <a href=https://getbootstrap.com/>Bootstrap 文档</a>。这个主题在这个领域自己添加的很少。但是，我们添加了一些颜色状态的 CSS 类，这些类在动态上下文中可能会很有用：</p><ul><li><code>.-bg-&lt;color></code></li><li><code>.-text-&lt;color></code></li></ul><p>​ 例如，当您不知道<code>primary</code>色是暗色还是亮色时，您可以使用这些类将文本样式为适当的颜色，以确保正确的颜色对比度。当您收到颜色代码作为<a href=https://t.is-local.org/zh-cn/docs/adding-content/shortcodes/>短代码</a>参数时，它们也很有用。</p><p>​ <code>&lt;color></code> 的值可以是任何颜色名称，例如 <code>primary</code>、<code>white</code>、<code>dark</code>、<code>warning</code>、<code>light</code>、<code>success</code>、<code>300</code>、<code>blue</code>、<code>orange</code> 等。</p><p>​ 当您使用 <code>.-bg-&lt;color></code> 时，文本颜色将调整以获得适当的对比度：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;-bg-primary p-3 display-4&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Background: Primary<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;-bg-200 p-3 display-4&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Background: Gray 200<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p><img alt=image-20230501100609188 src=LookAndFeel_img/image-20230501100609188.png></p><p><code>.-text-&lt;color></code> 仅设置文本颜色：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;-text-blue pt-3 display-4&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Text: Blue<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p><img alt=image-20230501100621386 src=LookAndFeel_img/image-20230501100621386.png></p><h2 id=使用chroma进行代码高亮>使用Chroma进行代码高亮<a class=td-heading-self-link href=#%e4%bd%bf%e7%94%a8chroma%e8%bf%9b%e8%a1%8c%e4%bb%a3%e7%a0%81%e9%ab%98%e4%ba%ae aria-label="Heading self-link"></a></h2><p>​ 从Hugo版本0.60开始，您可以使用<a href=https://github.com/alecthomas/chroma>Chroma</a>选择一系列代码块高亮和颜色样式，并将其默认应用于您的围栏代码块。如果您复制了最近的<code>config.toml</code>，则您的站点将使用Tango（像这个站点一样），否则Hugo默认为Monokai。您可以使用您的<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>切换到任何<a href=https://xyproto.github.io/splash/docs/all.html>可用的Chroma样式</a>（包括我们的Docsy默认Tango）。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
markup:
  goldmark:
    renderer:
      unsafe: true
  highlight:
    style: tango
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[markup]
  [markup.goldmark]
    [markup.goldmark.renderer]
      unsafe = true
  [markup.highlight]
      # See a complete list of available styles at https://xyproto.github.io/splash/docs/all.html
      style = &quot;tango&quot;
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;markup&quot;: {
    &quot;goldmark&quot;: {
      &quot;renderer&quot;: {
        &quot;unsafe&quot;: true
      }
    },
    &quot;highlight&quot;: {
      &quot;style&quot;: &quot;tango&quot;
    }
  }
}
```
</code></pre><p>​ 默认情况下，未指定语言的代码块不会应用代码高亮样式，而是会获得Docsy的默认灰色背景黑色文本的样式。如果您希望代码高亮样式适用于所有代码块，即使没有语言，请在您的<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>中的<code>[markup.highlight]</code>下取消注释或添加以下行。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
guessSyntax: true
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
# Uncomment if you want your chosen highlight style used for code blocks without a specified language
guessSyntax = true
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;guessSyntax&quot;: true
}
```
</code></pre><p>​ 您可以在<a href=https://gohugo.io/content-management/syntax-highlighting/>语法高亮</a>中了解有关在Hugo中使用Chroma进行代码高亮的更多信息。</p><h2 id=使用prism进行代码高亮>使用Prism进行代码高亮<a class=td-heading-self-link href=#%e4%bd%bf%e7%94%a8prism%e8%bf%9b%e8%a1%8c%e4%bb%a3%e7%a0%81%e9%ab%98%e4%ba%ae aria-label="Heading self-link"></a></h2><p>​ 您还可以在您的<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>中启用Prism语法高亮：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
prism_syntax_highlighting: true
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
# Enable syntax highlighting and copy buttons on code blocks with Prism
prism_syntax_highlighting = true
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;prism_syntax_highlighting&quot;: true
}
```
</code></pre><p>​ 启用此选项后，您的站点将使用<a href=https://prismjs.com/index.html>Prism</a>而不是Chroma进行代码块高亮。</p><p>​ Prism是一种流行的开源语法高亮器，支持200多种<a href=https://prismjs.com/index.html#supported-languages>语言</a>和各种<a href=https://prismjs.com/index.html#plugins>插件</a>。</p><p>​ Docsy包含了用于基本Prism配置的JavaScript和CSS文件，支持：</p><ul><li>使用Prism<code>Default</code>主题样式化的代码块</li><li>代码块上的复制到剪贴板按钮</li><li>为许多常见语言指定的语法高亮，如下面的Prism下载链接中所指定的，<a href="https://prismjs.com/download.html#themes=prism&languages=markup+css+clike+javascript+bash+c+csharp+cpp+go+java+markdown+python+scss+sql+toml+yaml&plugins=toolbar+copy-to-clipboard">定制您的下载</a>。</li></ul><h3 id=没有语言的代码块>没有语言的代码块<a class=td-heading-self-link href=#%e6%b2%a1%e6%9c%89%e8%af%ad%e8%a8%80%e7%9a%84%e4%bb%a3%e7%a0%81%e5%9d%97 aria-label="Heading self-link"></a></h3><p>​ 默认情况下，Prism代码高亮样式不会应用于没有指定语言的代码块，而是获得Docsy的默认灰色背景黑色文本的样式。要将Prism样式应用于没有语言或不受Prism支持的语言的代码块，请在三个反引号后指定<code>none</code>作为语言。</p><h3 id=扩展prism以支持其他语言或插件>扩展Prism以支持其他语言或插件<a class=td-heading-self-link href=#%e6%89%a9%e5%b1%95prism%e4%bb%a5%e6%94%af%e6%8c%81%e5%85%b6%e4%bb%96%e8%af%ad%e8%a8%80%e6%88%96%e6%8f%92%e4%bb%b6 aria-label="Heading self-link"></a></h3><p>​ 如果包含的Prism配置不能满足您的要求，并且您想使用其他语言或插件，您可以使用您自己的文件替换包含的文件。</p><ol><li>从<a href=https://prismjs.com/download.html>https://prismjs.com/download.html</a>下载您自己的Prism JS和CSS文件</li><li>用您下载的文件替换包含的Prism JS和CSS文件：<ul><li>将JavaScript文件复制到<code>static/js/prism.js</code></li><li>将CSS文件复制到<code>static/css/prism.css</code></li></ul></li></ol><h2 id=导航栏>导航栏<a class=td-heading-self-link href=#%e5%af%bc%e8%88%aa%e6%a0%8f aria-label="Heading self-link"></a></h2><p>​ 对于包含<a href=https://t.is-local.org/zh-cn/docs/adding-content/shortcodes/#blockscover>blocks/cover</a> shortcode的页面（如大多数主页），只要主题图片没有向上滚动到导航栏上方，导航栏就是半透明的。例如，请参阅<a href=https://t.is-local.org/zh-cn/about/>About Docsy</a>页面。这种最初的半透明设置确保主题图片最大程度地可见。</p><p>​ 在主题图片滚过导航栏之后，导航栏（不透明）的背景色被设置为站点的<a href=https://t.is-local.org/zh-cn/docs/adding-content/lookandfeel/#site-colors>主色调</a>。</p><p>​ 有些主题图片的导航栏条目的文本可能难以阅读。在这些情况下，您可以通过在站点配置文件中将<code>params.ui.navbar_translucent_over_cover_disable</code>选项设置为<code>true</code>来禁用导航栏的半透明效果。</p><h3 id=美化您的项目标识和名称>美化您的项目标识和名称<a class=td-heading-self-link href=#%e7%be%8e%e5%8c%96%e6%82%a8%e7%9a%84%e9%a1%b9%e7%9b%ae%e6%a0%87%e8%af%86%e5%92%8c%e5%90%8d%e7%a7%b0 aria-label="Heading self-link"></a></h3><p>​ 默认的Docsy导航栏（<code>.td-navbar</code>）显示您的站点标识，包括以下内容：</p><ol><li><p><a href=https://t.is-local.org/zh-cn/docs/adding-content/iconsimages/#add-your-logo>您的logo</a>，作为内联SVG包含在导航栏中，并由<code>.td-navbar .navbar-brand svg</code>样式化。有关样式详细信息，请参见<a href=https://github.com/google/docsy/blob/main/assets/scss/_nav.scss>_nav.scss</a>。</p><p>为确保您的logo 正确显示，您可能需要调整其大小并确保它没有高度和宽度属性，以便其大小完全响应。根据需要<a href=https://t.is-local.org/zh-cn/docs/adding-content/lookandfeel/#project-style-files>覆盖</a><code>.td-navbar .navbar-brand svg</code>或（等效地）<code>.td-navbar .navbar-brand__logo</code>的默认样式。</p></li><li><p>您的项目名称，即站点<code>title</code>。如果您不希望您的项目名称出现（例如，因为您的标志是或包含<a href=https://en.wikipedia.org/wiki/Wordmark>字体商标</a>），则可以将以下自定义样式添加到您<a href=https://t.is-local.org/zh-cn/docs/adding-content/lookandfeel/#project-style-files>项目的样式</a>中：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#000;font-weight:700>.</span><span style=color:#000>td-navbar</span> <span style=color:#000;font-weight:700>.</span><span style=color:#000>navbar-brand__name</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>display</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>none</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div></li></ol><h2 id=表格>表格<a class=td-heading-self-link href=#%e8%a1%a8%e6%a0%bc aria-label="Heading self-link"></a></h2><p>​ Docsy通过类<code>.td-table</code>对所有表格应用以下样式：</p><ul><li><p><a href=https://getbootstrap.com/docs/5.3/content/tables/>Bootstrap表格</a>样式：</p><ul><li><code>.table</code></li><li><code>.table-striped</code></li><li><code>.table-responsive</code></li></ul></li><li><p><code>display: block</code>，这对于表格响应性很重要。</p></li></ul><p>​ 这种样式配置让您仅使用Markdown即可获得响应式表格，而无需将表格包装在<code>&lt;div></code>中。然而，这意味着所有表格的<code>display</code>设置为<code>block</code>。如果您不希望这样，请为表格创建自己的自定义样式。</p><blockquote><p>注意</p><p>​ 我们的表格样式违反了<a href=https://getbootstrap.com/docs/5.3/content/tables/#responsive-tables>Bootstrap建议将表格</a>包装在<code>.table-responsive</code>中 —— 然而，我们认为让用户仅使用Markdown表格语法创建响应式表格更方便。</p></blockquote><p>​ 要在没有 Docsy 样式的情况下呈现表格，请将 <code>.td-initial</code> 类应用于表格。从生成的 <code>&lt;table></code> 样式基础上，更容易应用自定义样式（而不是试图撤消 Docsy 表格样式），如以下示例所示：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>| 形状      | 边数            |
</span></span><span style=display:flex><span>| -------- | --------------- |
</span></span><span style=display:flex><span>| Triangle | 3               |
</span></span><span style=display:flex><span>| Square   | 4               |
</span></span><span style=display:flex><span>{.td-initial .my-dark-table-style}
</span></span></code></pre></div><p>​ 上面的示例使用了 <a href=https://discourse.gohugo.io/t/markdown-attributes/41783>Markdown 属性</a>语法，并可能渲染为如下：</p><table><thead><tr><th>形状</th><th>边数</th></tr></thead><tbody><tr><td>Triangle</td><td>3</td></tr><tr><td>Square</td><td>4</td></tr></tbody></table><h2 id=自定义模板>自定义模板<a class=td-heading-self-link href=#%e8%87%aa%e5%ae%9a%e4%b9%89%e6%a8%a1%e6%9d%bf aria-label="Heading self-link"></a></h2><h3 id=将代码添加到-head-或-before-body-end>将代码添加到 head 或 before body end<a class=td-heading-self-link href=#%e5%b0%86%e4%bb%a3%e7%a0%81%e6%b7%bb%e5%8a%a0%e5%88%b0-head-%e6%88%96-before-body-end aria-label="Heading self-link"></a></h3><p>​ 如果您需要在每个页面的 <code>head</code> 部分添加一些代码（CSS 导入、cookie 同意或类似），请将 <code>head-end.html</code> 局部添加到您的项目中：</p><pre tabindex=0><code>layouts/partials/hooks/head-end.html
</code></pre><p>​ 并在该文件中添加您需要的代码。您的局部代码会自动包含在主题局部<code>head.html</code> 结束前。本主题版本的 <code>head-end.html</code> 为空。</p><p>​ 类似地，如果您想在 <code>body</code> end 前添加一些代码，请创建以下文件的自己的版本：</p><pre tabindex=0><code>layouts/partials/hooks/body-end.html
</code></pre><p>​ 此文件中的任何代码都会自动包含在本主题局部 <code>scripts.html</code> 的结尾。</p><p>​ <code>head.html</code> 和 <code>scripts.html</code> 都用于构建 Docsy 的<a href=https://github.com/google/docsy/blob/main/layouts/_default/baseof.html>基本页面布局</a>，该布局被所有其他页面模板所使用：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!doctype html&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span> <span style=color:#c4a000>lang</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;{{ .Site.Language.Lang }}&#34;</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;no-js&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    {{ partial &#34;head.html&#34; . }}
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>body</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;td-{{ .Kind }}&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>header</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      {{ partial &#34;navbar.html&#34; . }}
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>header</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;container-fluid td-default td-outer&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>main</span> <span style=color:#c4a000>role</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;main&#34;</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;td-main&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        {{ block &#34;main&#34; . }}{{ end }}
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>main</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      {{ partial &#34;footer.html&#34; . }}
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    {{ partialCached &#34;scripts.html&#34; . }}
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-50a6beabbb3d2a3c7a9bca4ec87eca43>3 - 导航和搜索</h1><p>​ 为您的 Docsy 站点自定义站点导航和搜索。</p><h2 id=顶层菜单>顶层菜单<a class=td-heading-self-link href=#%e9%a1%b6%e5%b1%82%e8%8f%9c%e5%8d%95 aria-label="Heading self-link"></a></h2><p>​ 顶层菜单（出现在整个站点的顶部导航栏中）使用您站点的<a href=https://gohugo.io/content-management/menus/>主菜单（<code>main</code> menu）</a>。所有的 Hugo 站点都有一个主菜单（<code>main</code> menu）项数组，可以通过 <code>.Site.Menus</code> 站点变量进行访问，通过页面前置元数据或您站点的 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 进行填充。</p><p>​ 要将页面或章节添加到此菜单中，请将其添加到站点的主菜单（<code>main</code> menu）中，无论是在 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中还是在目标页面的前置元数据中（在 <code>_index.md</code> 或 <code>_index.html</code> 中作为章节着陆页面）。例如，这里是我们如何将 Documentation 章节着陆页添加到该站点的主菜单中的示例：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: &quot;Welcome to Docsy&quot;
linkTitle: &quot;Documentation&quot;
menu:
  main:
    weight: 20
    pre: &lt;i class='fa-solid fa-book'&gt;&lt;/i&gt;
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;Welcome to Docsy&quot;
linkTitle = &quot;Documentation&quot;

[menu.main]
weight = 20
pre = &quot;&lt;i class='fa-solid fa-book'&gt;&lt;/i&gt;&quot;
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;Welcome to Docsy&quot;,
  &quot;linkTitle&quot;: &quot;Documentation&quot;,
  &quot;menu&quot;: {
    &quot;main&quot;: {
      &quot;weight&quot;: 20,
      &quot;pre&quot;: &quot;&lt;i class='fa-solid fa-book'&gt;&lt;/i&gt;&quot;
    }
  }
}
```
</code></pre><p>​ 该菜单按页面<code>weight</code>从左到右排序。例如，页面<code>weight: 30</code> 的章节索引或页面将出现在菜单中的 Documentation 章节之后，而<code>weight: 10</code>的页面将出现在它之前。</p><p>​ 如果要将外部站点的链接添加到此菜单中，请在 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中添加，指定<code>weight</code>。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
menu:
  main:
    - name: GitHub
      weight: 50
      url: 'https://github.com/google/docsy/'
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[[menu.main]]
    name = &quot;GitHub&quot;
    weight = 50
    url = &quot;https://github.com/google/docsy/&quot;
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;menu&quot;: {
    &quot;main&quot;: [
      {
        &quot;name&quot;: &quot;GitHub&quot;,
        &quot;weight&quot;: 50,
        &quot;url&quot;: &quot;https://github.com/google/docsy/&quot;
      }
    ]
  }
}
```
</code></pre><h3 id=将图标添加到顶层菜单>将图标添加到顶层菜单<a class=td-heading-self-link href=#%e5%b0%86%e5%9b%be%e6%a0%87%e6%b7%bb%e5%8a%a0%e5%88%b0%e9%a1%b6%e5%b1%82%e8%8f%9c%e5%8d%95 aria-label="Heading self-link"></a></h3><p>​ 如 <a href=https://gohugo.io/content-management/menus/#add-non-content-entries-to-a-menu>Hugo 文档</a>中所述，您可以使用站点的 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 或页面前置元数据中定义的主菜单项的 <code>pre</code> 和/或 <code>post</code> 参数为顶层菜单项添加图标。例如，以下配置将 GitHub 图标添加到 GitHub 菜单项，并添加 <code>New!</code> 警报以指示这是菜单的新添加。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
menu:
  main:
    - name: GitHub
      weight: 50
      url: 'https://github.com/google/docsy/'
      pre: &lt;i class=&quot;fa-brands fa-github&quot;&gt;&lt;/i&gt;
      post: &lt;span class='alert'&gt;New!&lt;/span&gt;
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[[menu.main]]
    name = &quot;GitHub&quot;
    weight = 50
    url = &quot;https://github.com/google/docsy/&quot;
    pre = &quot;&lt;i class=&quot;fa-brands fa-github&quot;&gt;&lt;/i&gt;&quot;
    post = &quot;&lt;span class='alert'&gt;New!&lt;/span&gt;&quot;
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;menu&quot;: {
    &quot;main&quot;: [
      {
        &quot;name&quot;: &quot;GitHub&quot;,
        &quot;weight&quot;: 50,
        &quot;url&quot;: &quot;https://github.com/google/docsy/&quot;,
        &quot;pre&quot;: &quot;&lt;i class=&quot;fa-brands fa-github&quot;&gt;&lt;/i&gt;&quot;,
        &quot;post&quot;: &quot;&lt;span class='alert'&gt;New!&lt;/span&gt;&quot;
      }
    ]
  }
}
```
</code></pre><p>​ 您可以在<a href="https://fontawesome.com/icons?d=gallery&p=2">FontAwesome文档</a>中找到完整的图标列表。Docsy主题默认包含免费的FontAwesome图标。</p><h3 id=添加版本下拉菜单>添加版本下拉菜单<a class=td-heading-self-link href=#%e6%b7%bb%e5%8a%a0%e7%89%88%e6%9c%ac%e4%b8%8b%e6%8b%89%e8%8f%9c%e5%8d%95 aria-label="Heading self-link"></a></h3><p>​ 如果在<code>hugo.toml</code>中添加了一些<code>[params.versions]</code>，Docsy主题将在顶级菜单中添加一个版本选择器下拉菜单。</p><p>​ 您可以在<a href=https://t.is-local.org/zh-cn/docs/adding-content/versioning/>版本控制指南</a>中了解更多信息。</p><h3 id=添加语言下拉菜单>添加语言下拉菜单<a class=td-heading-self-link href=#%e6%b7%bb%e5%8a%a0%e8%af%ad%e8%a8%80%e4%b8%8b%e6%8b%89%e8%8f%9c%e5%8d%95 aria-label="Heading self-link"></a></h3><p>​ 如果在<code>hugo.toml</code>中配置了多种语言，Docsy主题将在顶级菜单中添加一个语言选择器下拉菜单。选择语言将带用户到当前页面的翻译版本，或给定语言的主页。</p><p>​ 您可以在<a href=https://t.is-local.org/zh-cn/docs/language/>多语言支持</a>中了解更多信息。</p><h2 id=章节菜单>章节菜单<a class=td-heading-self-link href=#%e7%ab%a0%e8%8a%82%e8%8f%9c%e5%8d%95 aria-label="Heading self-link"></a></h2><p>​ 章节菜单位于<code>docs</code>章节的左侧，自动从<code>content</code>树中构建。与顶级菜单一样，按页面或章节索引<code>weight</code>（或按页面创建<code>date</code>，如果未设置<code>weight</code>）排序，页面或索引的<code>title</code>或<code>linkTitle</code>（如果不同）作为菜单中的链接标题。如果一个章节子文件夹除了<code>_index.md</code>或<code>_index.html</code>之外还有其他页面，那么这些页面将作为子菜单出现，再次按<code>weight</code>排序。例如，这是这个页面的元数据，显示它的<code>weight</code>和<code>title</code>：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: &quot;Navigation and Search&quot;
linkTitle: &quot;Navigation and Search&quot;
date: 2017-01-05
weight: 3
description: &gt;
    Customize site navigation and search for your Docsy site.
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;Navigation and Search&quot;
linkTitle = &quot;Navigation and Search&quot;
date = 2017-01-05T00:00:00.000Z
weight = 3
description = '''
Customize site navigation and search for your Docsy site.
'''
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;Navigation and Search&quot;,
  &quot;linkTitle&quot;: &quot;Navigation and Search&quot;,
  &quot;date&quot;: &quot;2017-01-05T00:00:00.000Z&quot;,
  &quot;weight&quot;: 3,
  &quot;description&quot;: &quot;Customize site navigation and search for your Docsy site.\n&quot;
}
```
</code></pre><p>​ 要从左侧导航菜单中隐藏页面或章节，请在前置元数据中设置<code>toc_hide: true</code>。</p><p>​ 要从<a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#docs-section-landing-pages>文档章节着落页</a>的章节摘要中隐藏一个页面，请在该页面的前置元数据中设置<code>hide_summary: true</code>。如果您想从目录菜单和章节摘要列表中隐藏一个页面，您需要在该页面的前置元数据中将<code>toc_hide</code>和<code>hide_summary</code>都设置为<code>true</code>。</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: &quot;My Hidden Page&quot;
weight: 99
toc_hide: true
hide_summary: true
description: &gt;
    Page hidden from both the TOC menu and the section summary list.
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;My Hidden Page&quot;
weight = 99
toc_hide = true
hide_summary = true
description = '''
Page hidden from both the TOC menu and the section summary list.
'''
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;My Hidden Page&quot;,
  &quot;weight&quot;: 99,
  &quot;toc_hide&quot;: true,
  &quot;hide_summary&quot;: true,
  &quot;description&quot;: &quot;Page hidden from both the TOC menu and the section summary list.\n&quot;
}
```
</code></pre><h3 id=章节菜单选项>章节菜单选项<a class=td-heading-self-link href=#%e7%ab%a0%e8%8a%82%e8%8f%9c%e5%8d%95%e9%80%89%e9%a1%b9 aria-label="Heading self-link"></a></h3><p>​ 默认情况下，章节菜单完全展开显示当前章节。对于大型站点，这可能会使左侧导航过长，难以扫描。尝试在<code>hugo.toml</code>中设置站点参数<code>ui.sidebar_menu_compact = true</code>。</p><p>​ 使用紧凑菜单（<code>.ui.sidebar_menu_compact = true</code>），只显示当前页面的祖先、同级和直接后代。您可以使用可选参数<code>.ui.ul_show</code>来设置所需的菜单深度始终可见。例如，使用<code>.ui.ul_show = 1</code>将始终显示第一级菜单。</p><p>​ 除了完全展开和紧凑的菜单选项，您还可以通过在<code>hugo.toml</code>中设置站点参数<code>ui.sidebar_menu_foldable = true</code>来创建折叠菜单。折叠菜单让用户通过在菜单中的父节点旁边切换箭头图标来展开和折叠该菜单章节。</p><p>​ 在大型站点上（默认情况下：>2000页），该章节菜单不会为每个页面生成，而是为整个章节进行缓存。然后使用JS设置标记活动菜单项（和菜单路径）的HTML类。您可以使用可选参数<code>.ui.sidebar_cache_limit</code>调整激活缓存的章节菜单的限制。</p><p>​ 下面的选项卡窗格列出了您可以在项目<a href=https://gohugo.io/getting-started/configuration/#configuration-file>配置文件</a>中定义的菜单章节选项。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  ui:
    sidebar_menu_compact: true
    ul_show: 1
    sidebar_menu_foldable: true
    sidebar_cache_limit: 1000
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.ui]
sidebar_menu_compact = true
ul_show = 1
sidebar_menu_foldable = true
sidebar_cache_limit = 1000
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;ui&quot;: {
      &quot;sidebar_menu_compact&quot;: true,
      &quot;ul_show&quot;: 1,
      &quot;sidebar_menu_foldable&quot;: true,
      &quot;sidebar_cache_limit&quot;: 1000,
    }
  }
}
```
</code></pre><h3 id=向章节菜单添加图标>向章节菜单添加图标<a class=td-heading-self-link href=#%e5%90%91%e7%ab%a0%e8%8a%82%e8%8f%9c%e5%8d%95%e6%b7%bb%e5%8a%a0%e5%9b%be%e6%a0%87 aria-label="Heading self-link"></a></h3><p>​ 您可以通过在页面前置元数据中设置<code>icon</code>参数（例如<code>icon: fa-solid fa-screwdriver-wrench</code>）向侧边栏中的章节菜单添加图标。</p><p>​ 您可以在<a href="https://fontawesome.com/icons?d=gallery&p=2">FontAwesome文档</a>中找到要使用的所有图标的完整列表。Docsy默认包含免费的FontAwesome图标。</p><p>​ 开箱即用，如果您想使用图标，您应该为同一菜单级别上的所有项定义图标，以确保适当的外观。如果该图标以不同的方式使用，则可能需要进行个别CSS调整。</p><h3 id=向章节菜单添加手动链接>向章节菜单添加手动链接<a class=td-heading-self-link href=#%e5%90%91%e7%ab%a0%e8%8a%82%e8%8f%9c%e5%8d%95%e6%b7%bb%e5%8a%a0%e6%89%8b%e5%8a%a8%e9%93%be%e6%8e%a5 aria-label="Heading self-link"></a></h3><p>​ 默认情况下，章节菜单完全是从您的章节页面生成的。如果您想在此菜单中添加手动链接，例如链接到外部站点或你站点中的不同章节中的页面，则可以通过在doc层次结构中创建具有适当权重和一些特殊参数的占位符页面文件（frontmatter）来实现这一点，以指定链接详细信息。</p><p>​ 要创建占位符页面，请按通常方式在要在该菜单中显示链接的目录中创建一个页面文件，并将<code>manualLink</code>参数添加到其元数据中。如果一个页面在其元数据中具有<code>manualLink</code>，则Docsy会为此页面在章节菜单和章节索引中（章节在着陆页面上的子页面列表中 —— 请参见<a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#docs-section-landing-pages>Docsy文档中的描述</a>）生成链接，但该链接目标会被替换为<code>manualLink</code>的值。该链接文本是您的占位符页面的<code>title</code>（如果设置了<code>linkTitle</code>，则是<code>linkTitle</code>）。您还可以使用<code>manualLinkTitle</code>参数设置链接的<code>title</code>属性以及使用<code>manualLinkTarget</code>设置链接目标 —— 例如，如果您希望一个外部链接在新选项卡中打开，则可以将其链接目标设置为<code>_blank</code>。Docsy会自动将<code>rel=noopener</code>添加到打开新标签页的链接中，作为安全最佳实践。</p><p>​ 您还可以使用<code>manualLink</code>将其他现有站点页面的附加交叉引用添加到站点中。对于内部链接，您可以选择使用<code>manualLinkRelref</code>参数而不是<code>manualLink</code>来使用内置的Hugo函数<a href=https://gohugo.io/functions/relref/>relref</a>。如果<code>relref</code>无法在您的站点中找到唯一页面，则Hugo会抛出错误消息。</p><blockquote><h4 id=注意>注意<a class=td-heading-self-link href=#%e6%b3%a8%e6%84%8f aria-label="Heading self-link"></a></h4><p>​ 尽管基于您的占位符文件生成的所有菜单和着陆页链接都根据参数 <code>manualLink</code> 或 <code>manualLinkRelref</code> 设置，但 Hugo 仍会为该文件生成一个常规的 HTML 站点页面，尽管没有生成的链接指向该页面。为避免用户意外着陆到生成的占位符页面时产生混淆，我们建议在该页面的正常内容和/或页面描述中指定外部链接的 URL。</p></blockquote><h2 id=面包屑导航>面包屑导航<a class=td-heading-self-link href=#%e9%9d%a2%e5%8c%85%e5%b1%91%e5%af%bc%e8%88%aa aria-label="Heading self-link"></a></h2><p>​ 默认情况下，面包屑导航链接出现在每个页面的顶部。要禁用面包屑导航，请在<code>hugo.toml</code>中设置站点参数<code>ui.breadcrumb_disable = true</code>。</p><p>​ 分类结果页面上的每个项（例如，单击一个分类标签，例如：标签/类别）也会显示面包屑导航链接。可以通过在<code>hugo.toml</code>中设置站点参数<code>ui.taxonomy_breadcrumb_disable = true</code>来禁用这些面包屑。</p><p>​ 下面的选项卡窗格列出了您可以在项目<a href=https://gohugo.io/getting-started/configuration/#configuration-file>配置文件</a>中定义的面包屑导航选项。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  ui:
    breadcrumb_disable: true
    taxonomy_breadcrumb_disable: true
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.ui]
breadcrumb_disable = true
taxonomy_breadcrumb_disable = true
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;ui&quot;: {
      &quot;breadcrumb_disable&quot;: true,
      &quot;taxonomy_breadcrumb_disable&quot;: true
    }
  }
}
```
</code></pre><h2 id=站点搜索选项>站点搜索选项<a class=td-heading-self-link href=#%e7%ab%99%e7%82%b9%e6%90%9c%e7%b4%a2%e9%80%89%e9%a1%b9 aria-label="Heading self-link"></a></h2><p>​ Docsy提供多个选项，让您的读者搜索您的站点内容，因此您可以选择适合您需求的选项。您可以选择以下选项：</p><ul><li><a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation/#configure-search-with-a-google-custom-search-engine>Google自定义搜索引擎</a>（GCSE），默认选项，使用Google的公共站点索引生成搜索结果页面。</li><li><a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation/#configure-algolia-docsearch>Algolia DocSearch</a>使用Algolia的索引和搜索机制，并在读者使用搜索框时提供组织良好的下拉式搜索结果列表。 Algolia DocSearch对公共文档站点是免费的。</li><li><a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation/#configure-local-search-with-lunr>使用Lunr进行本地搜索</a>，它使用JavaScript对您的站点进行索引和搜索，而无需连接到外部服务。此选项不需要将您的站点公开。</li></ul><p>​ 如果你在项目的<a href=https://gohugo.io/getting-started/configuration/#configuration-file>配置文件</a>中启用了这些搜索选项，那么一个搜索框将显示在你的顶部导航栏右侧。默认情况下，在左侧导航窗格的章节菜单顶部也会显示一个搜索框，如果你愿意，或者如果你使用的搜索选项仅适用于顶部搜索框，你可以禁用它。</p><p>​ 请注意，如果您在项目<a href=https://gohugo.io/getting-started/configuration/#configuration-file>配置文件</a>中意外启用了多个搜索选项，您可能会得到意外的结果（例如，如果您添加了Algolia DocSearch的<code>.js</code>文件，如果启用了GCSE搜索但忘记禁用Algolia搜索，则会得到Algolia的结果）。</p><h3 id=禁用侧边栏搜索框>禁用侧边栏搜索框<a class=td-heading-self-link href=#%e7%a6%81%e7%94%a8%e4%be%a7%e8%be%b9%e6%a0%8f%e6%90%9c%e7%b4%a2%e6%a1%86 aria-label="Heading self-link"></a></h3><p>​ 默认情况下，搜索框会显示在顶部导航栏和侧边栏左侧导航窗格的顶部。如果您不想要侧边栏搜索框，请在<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>中设置<code>sidebar_search_disable</code>为<code>true</code>。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
sidebar_search_disable: true
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
sidebar_search_disable = true
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;sidebar_search_disable&quot;: true
}
```
</code></pre><h2 id=使用-google-自定义搜索引擎配置搜索>使用 Google 自定义搜索引擎配置搜索<a class=td-heading-self-link href=#%e4%bd%bf%e7%94%a8-google-%e8%87%aa%e5%ae%9a%e4%b9%89%e6%90%9c%e7%b4%a2%e5%bc%95%e6%93%8e%e9%85%8d%e7%bd%ae%e6%90%9c%e7%b4%a2 aria-label="Heading self-link"></a></h2><p>​ 默认情况下，Docsy 使用 <a href=https://cse.google.com/cse/all>Google 自定义搜索引擎</a> (GCSE) 搜索您的站点。要启用此功能，您首先需要确保已构建并部署了<a href=https://t.is-local.org/zh-cn/docs/deployment#build-environments-and-indexing>您站点的生产版本</a>，否则您的站点将无法被爬取和索引。</p><h3 id=设置站点搜索>设置站点搜索<a class=td-heading-self-link href=#%e8%ae%be%e7%bd%ae%e7%ab%99%e7%82%b9%e6%90%9c%e7%b4%a2 aria-label="Heading self-link"></a></h3><ol><li>在<a href=https://cse.google.com/cse/all>Custom Search page</a>上点击<strong>New search engine</strong>，按照说明为已部署的站点创建一个 Google 自定义搜索引擎。记下您的新搜索引擎的 ID。</li><li>使用<strong>Edit search engine</strong>选项添加您想要的任何其他配置到您的搜索引擎中。特别是您可能需要执行以下操作：<ul><li>选择<strong>Look and feel</strong>。将默认的<strong>Overlay</strong>布局更改为<strong>Results only</strong>，因为这个选项意味着您的搜索结果被嵌入到搜索页面中，而不是出现在单独的框中。单击<strong>Save</strong>以保存更改。</li><li>编辑默认的结果链接行为，使来自您站点的搜索结果不会在新标签页中打开。要执行此操作，请选择<strong>Search Features</strong> - <strong>Advanced</strong> - <strong>Websearch Settings</strong>。在<strong>Link Target</strong>字段中键入"_parent"。单击<strong>Save</strong>以保存更改。</li></ul></li></ol><blockquote><p>提示</p><p>​ 您的站点搜索结果应该会在几天内显示。如果需要更长的时间，你可以<a href="https://support.google.com/webmasters/answer/183668?hl=en">通过 Google 搜索控制台提交站点地图</a>来手动请求索引。</p></blockquote><h3 id=添加搜索页面>添加搜索页面<a class=td-heading-self-link href=#%e6%b7%bb%e5%8a%a0%e6%90%9c%e7%b4%a2%e9%a1%b5%e9%9d%a2 aria-label="Heading self-link"></a></h3><p>​ 一旦您设置好搜索引擎，就可以将此功能添加到您的站点：</p><ol><li><p>确保在 <code>content/en/search.md</code> 中有一个 Markdown 文件 (如果需要，其他语言也需要一个) 来显示您的搜索结果。它只需要一个<code>title</code>和<code>layout: search</code>，如以下示例：</p><p>Front matter:</p></li></ol><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
   ---
   title: Search Results
   layout: search
   ---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
   +++
   title = &quot;Search Results&quot;
   layout = &quot;search&quot;
   +++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
   {
       &quot;title&quot;: &quot;Search Results&quot;,
       &quot;layout&quot;: &quot;search&quot;
   }
```
</code></pre><ol start=2><li><p>将您的 Google 自定义搜索引擎 ID 添加到 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 的站点参数中。如果需要，您可以针对每种语言添加不同的值。</p><p>Configuration file:</p></li></ol><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
   gcs_engine_id: '011737558837375720776:fsdu1nryfng'
   
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
   gcs_engine_id = &quot;011737558837375720776:fsdu1nryfng&quot;
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
   {
     &quot;gcs_engine_id&quot;: &quot;011737558837375720776:fsdu1nryfng&quot;
   }
```
</code></pre><h3 id=禁用-gcse-搜索>禁用 GCSE 搜索<a class=td-heading-self-link href=#%e7%a6%81%e7%94%a8-gcse-%e6%90%9c%e7%b4%a2 aria-label="Heading self-link"></a></h3><p>​ 如果您未为您的项目指定 Google 自定义搜索引擎 ID 并且未启用任何其他搜索选项，则搜索框将不会出现在您的站点中。如果您正在使用示例站点中的默认 <code>hugo.toml</code> 并想禁用搜索，请注释或删除相关行。</p><h2 id=配置-algolia-docsearch>配置 Algolia DocSearch<a class=td-heading-self-link href=#%e9%85%8d%e7%bd%ae-algolia-docsearch aria-label="Heading self-link"></a></h2><p>​ 作为 GCSE 的替代方案，您可以使用此主题的 <a href=https://docsearch.algolia.com/>Algolia DocSearch</a>。Algolia DocSearch 对于公共文档站点是免费的。Docsy 支持 Algolia DocSearch v3。</p><blockquote><p>注意</p><p>​ Docsy 以前支持 Algolia DocSearch v2，现在已被弃用。如果您是现有的 Algolia DocSearch v2 用户并想使用最新版本的 Docsy，请按照 DocSearch 文档中的<a href=https://docsearch.algolia.com/docs/migrating-from-v2>迁移说明</a>更新您的 DocSearch 代码片段。</p></blockquote><h3 id=注册-algolia-docsearch>注册 Algolia DocSearch<a class=td-heading-self-link href=#%e6%b3%a8%e5%86%8c-algolia-docsearch aria-label="Heading self-link"></a></h3><p>​ 在 <a href=https://docsearch.algolia.com/apply/>https://docsearch.algolia.com/apply/</a> 上完成表单。</p><p>​ 如果您被接受to the program，您将通过电子邮件收到从Algolia获取的用于添加到您的文档站点的代码。</p><h3 id=添加algolia-docsearch>添加Algolia DocSearch<a class=td-heading-self-link href=#%e6%b7%bb%e5%8a%a0algolia-docsearch aria-label="Heading self-link"></a></h3><ol><li><p>Configuration file:</p><p>在<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>中启用Algolia DocSearch。</p></li></ol><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
algolia_docsearch: true
   
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
algolia_docsearch = true
   
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
     &quot;algolia_docsearch&quot;: true
   }
   
```
</code></pre><ol start=2><li><p>移除或注释掉<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>中的任何GCSE ID，并确保将本地搜索设置为<code>false</code>，因为您只能启用一种类型的搜索。请参阅<a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation/#disabling-gcse-search>禁用GCSE搜索</a>。</p></li><li><p>在<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>中禁用侧边栏搜索，因为目前它不支持Algolia DocSearch。请参阅<a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation/#disabling-the-sidebar-search-box>禁用侧边栏搜索框</a>。</p></li><li><p>按照<a href=https://t.is-local.org/zh-cn/docs/adding-content/lookandfeel/#add-code-to-head-or-before-body-end>Add code to head or before body end</a>中的说明，在站点的每个页面的head和body中添加用于使用Algolia的CSS和JS。</p><ul><li><p>在<code>head-end.html</code>中添加DocSearch CSS：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>link</span> <span style=color:#c4a000>rel</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;stylesheet&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://cdn.jsdelivr.net/npm/@docsearch/css@3&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span></code></pre></div></li><li><p>在<code>body-end.html</code>中添加DocSearch脚本，用从 Algolia 获取的代码段替换 <code>docsearch</code> 的详细信息（下面的示例是Algolia自己的站点索引！）。您必须提供<code>#docsearch</code>作为<code>container</code>值，因为那是 Docsy 布局中提供的 <code>div</code> 的 ID：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://cdn.jsdelivr.net/npm/@docsearch/js@3&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;text/javascript&#34;</span><span style=color:#000;font-weight:700>&gt;</span><span style=color:#000>docsearch</span><span style=color:#000;font-weight:700>({</span>
</span></span><span style=display:flex><span>  <span style=color:#000>container</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;#docsearch&#39;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000>appId</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;R2IYF7ETH7&#39;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000>apiKey</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;599cec31baffa4868cae4e79f180729b&#39;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000>indexName</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;docsearch&#39;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>});&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div></li></ul></li></ol><p>​ 您可以在Algolia DocSearch V3 <a href=https://docsearch.algolia.com/docs/DocSearch-v3>Getting started</a>中了解有关如何配置DocSearch的更多信息。</p><p>​ 当你完成这些步骤后，Algolia搜索就应该在你的站点上启用了。搜索结果会显示在一个弹窗中，因此你不需要添加任何搜索结果页面。</p><h2 id=配置lunr本地搜索>配置Lunr本地搜索<a class=td-heading-self-link href=#%e9%85%8d%e7%bd%aelunr%e6%9c%ac%e5%9c%b0%e6%90%9c%e7%b4%a2 aria-label="Heading self-link"></a></h2><p>​ <a href=https://lunrjs.com/>Lunr</a> 是一种基于 Javascript 的搜索选项，它可以让您对站点进行索引并进行搜索，无需外部服务器端搜索服务。这是一个特别适合较小或非公共站点的好选择。</p><p>​ 要将Lunr搜索添加到您的Docsy站点中：</p><ol><li>在<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>中启用本地搜索。</li></ol><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
   offlineSearch: true
   
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
   offlineSearch = true
   
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
   {
     &quot;offlineSearch&quot;: true
   }
   
```
</code></pre><ol start=2><li>在 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中删除或注释掉任何 GCSE ID，并确保 Algolia DocSearch 设置为 <code>false</code>，因为您只能启用一种类型的搜索。请参阅 <a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation/#disabling-gcse-search>禁用 GCSE 搜索</a>。</li></ol><p>​ 完成这些步骤后，本地搜索已在您的站点上启用，搜索结果会在您使用搜索框时以下拉列表形式出现。</p><blockquote><p>提示</p><p>​ 如果您正在使用Hugo的本地服务器功能进行<a href=https://t.is-local.org/zh-cn/docs/deployment/#serving-your-site-locally>本地测试</a>，则需要首先通过运行 <code>hugo</code> 来构建您的 <code>offline-search-index.xxx.json</code> 文件。如果您在构建 <code>offline-search-index.xxx.json</code> 文件时已经运行Hugo服务器，则可能需要停止服务器并重新启动才能看到您的搜索结果。</p></blockquote><h3 id=更改本地搜索结果摘要长度>更改本地搜索结果摘要长度<a class=td-heading-self-link href=#%e6%9b%b4%e6%94%b9%e6%9c%ac%e5%9c%b0%e6%90%9c%e7%b4%a2%e7%bb%93%e6%9e%9c%e6%91%98%e8%a6%81%e9%95%bf%e5%ba%a6 aria-label="Heading self-link"></a></h3><p>​ 您可以通过在 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中设置 <code>offlineSearchSummaryLength</code> 来自定义摘要长度。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
offlineSearch: true
offlineSearchSummaryLength: 200
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
#Enable offline search with Lunr.js
offlineSearch = true
offlineSearchSummaryLength = 200
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;offlineSearch&quot;: true,
  &quot;offlineSearchSummaryLength&quot;: 200
}
```
</code></pre><h3 id=更改本地搜索的最大结果数>更改本地搜索的最大结果数<a class=td-heading-self-link href=#%e6%9b%b4%e6%94%b9%e6%9c%ac%e5%9c%b0%e6%90%9c%e7%b4%a2%e7%9a%84%e6%9c%80%e5%a4%a7%e7%bb%93%e6%9e%9c%e6%95%b0 aria-label="Heading self-link"></a></h3><p>​ 您可以通过在 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中设置 <code>offlineSearchMaxResults</code> 来自定义最大结果数。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
offlineSearch: true
offlineSearchMaxResults: 25
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
offlineSearch = true
offlineSearchMaxResults = 25
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;offlineSearch&quot;: true,
  &quot;offlineSearchMaxResults&quot;: 25
}
```
</code></pre><h3 id=更改本地搜索结果弹出窗口的宽度>更改本地搜索结果弹出窗口的宽度<a class=td-heading-self-link href=#%e6%9b%b4%e6%94%b9%e6%9c%ac%e5%9c%b0%e6%90%9c%e7%b4%a2%e7%bb%93%e6%9e%9c%e5%bc%b9%e5%87%ba%e7%aa%97%e5%8f%a3%e7%9a%84%e5%ae%bd%e5%ba%a6 aria-label="Heading self-link"></a></h3><p>​ 搜索结果弹出窗口的宽度将根据内容自动扩展。</p><p>​ 如果您想限制宽度，请将以下 scss 添加到 <code>assets/scss/_variables_project.scss</code>。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scss data-lang=scss><span style=display:flex><span><span style=color:#000>.td-offline-search-results</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#c4a000>max-width</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>460</span><span style=color:#204a87;font-weight:700>px</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=排除页面不出现在本地搜索结果中>排除页面不出现在本地搜索结果中<a class=td-heading-self-link href=#%e6%8e%92%e9%99%a4%e9%a1%b5%e9%9d%a2%e4%b8%8d%e5%87%ba%e7%8e%b0%e5%9c%a8%e6%9c%ac%e5%9c%b0%e6%90%9c%e7%b4%a2%e7%bb%93%e6%9e%9c%e4%b8%ad aria-label="Heading self-link"></a></h3><p>​ 要将一些页面排除在本地搜索结果之外，请在这些页面的每个页面的前置元数据中添加 <code>exclude_search: true</code>：</p><p>front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: &quot;Index&quot;
weight: 10
exclude_search: true
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;Index&quot;
weight = 10
exclude_search = true
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;Index&quot;,
  &quot;weight&quot;: 10,
  &quot;exclude_search&quot;: true
}
```
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-cc12c5890f520021fd55cb64466da1c9>4 - 文档版本控制</h1><p>​ 定制多个文档版本的导航和横幅。</p><p>​ 根据您的项目的发布和版本控制，您可能希望让用户访问您的文档的先前版本。如何部署先前的版本取决于您。本页面介绍了 Docsy 中可用的功能，可用于在不同版本的文档之间提供导航，并在归档站点上显示信息横幅。</p><h2 id=添加版本下拉菜单>添加版本下拉菜单<a class=td-heading-self-link href=#%e6%b7%bb%e5%8a%a0%e7%89%88%e6%9c%ac%e4%b8%8b%e6%8b%89%e8%8f%9c%e5%8d%95 aria-label="Heading self-link"></a></h2><p>​ 如果在 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中添加一些 <code>[params.versions]</code>，Docsy 主题将在顶级菜单中添加版本选择器下拉菜单。您可以指定每个版本的 URL 和名称，如下面的示例所示：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  versions:
    - version: master
      url: 'https://master.kubeflow.org'
    - version: v0.2
      url: 'https://v0-2.kubeflow.org'
    - version: v0.3
      url: 'https://v0-3.kubeflow.org'
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
# Add your release versions here
[[params.versions]]
  version = &quot;master&quot;
  url = &quot;https://master.kubeflow.org&quot;

[[params.versions]]
  version = &quot;v0.2&quot;
  url = &quot;https://v0-2.kubeflow.org&quot;

[[params.versions]]
  version = &quot;v0.3&quot;
  url = &quot;https://v0-3.kubeflow.org&quot;
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;versions&quot;: [
      {
        &quot;version&quot;: &quot;master&quot;,
        &quot;url&quot;: &quot;https://master.kubeflow.org&quot;
      },
      {
        &quot;version&quot;: &quot;v0.2&quot;,
        &quot;url&quot;: &quot;https://v0-2.kubeflow.org&quot;
      },
      {
        &quot;version&quot;: &quot;v0.3&quot;,
        &quot;url&quot;: &quot;https://v0-3.kubeflow.org&quot;
      }
    ]
  }
}
```
</code></pre><p>​ 记得添加当前版本，以便用户可以导航回去！</p><p>​ 版本下拉菜单的默认标题为 <strong>Releases</strong>。要更改标题，请更改 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中的 <code>version_menu</code> 参数：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
version_menu: 'Releases'

```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
version_menu = &quot;Releases&quot;

```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;version_menu&quot;: &quot;Releases&quot;
}

```
</code></pre><p>​ 如果将 <code>version_menu_pagelinks</code> 参数设置为 <code>true</code>，则版本下拉菜单中的链接指向其他版本中的当前页面，而不是主页面。如果文档在不同版本之间几乎没有变化，则此功能可能很有用。请注意，如果其他版本中不存在当前页面，则链接将被broken。</p><p>​ 您可以在<a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation/>导航和搜索</a>指南中阅读有关 Docsy 菜单的更多信息。</p><h2 id=在归档的文档站点上显示横幅>在归档的文档站点上显示横幅<a class=td-heading-self-link href=#%e5%9c%a8%e5%bd%92%e6%a1%a3%e7%9a%84%e6%96%87%e6%a1%a3%e7%ab%99%e7%82%b9%e4%b8%8a%e6%98%be%e7%a4%ba%e6%a8%aa%e5%b9%85 aria-label="Heading self-link"></a></h2><p>​ 如果为文档的早期版本创建了归档快照，则可以在归档的文档的每个页面顶部添加注释，以让读者知道他们正在查看未维护的快照，并向他们提供最新版本的链接。</p><p>​ 例如，请参见 <a href=https://v0-6.kubeflow.org/docs/>Kubeflow v0.6</a> 的归档文档：</p><p><img alt="A text box explaining that this is an unmaintained snapshot of the docs." src=DocVersioning_img/version-banner.png></p><p>图1：Kubeflow v0.6归档文档上的横幅</p><p>​ 要在文档站点上添加横幅，请在<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>文件中进行以下更改：</p><ol><li><p>将<code>archived_version</code>参数设置为<code>true</code>：</p><p>Configuration file:</p></li></ol><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
   archived_version: true
   
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
   archived_version = true
   
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
   {
     &quot;archived_version&quot;: true
   }
```
</code></pre><ol start=2><li><p>将<code>version</code>参数设置为归档文档集的版本。例如，如果归档文档是版本0.1：</p><p>Configuration file:</p></li></ol><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
   version: '0.1'
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
   version = &quot;0.1&quot;
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
   {
     &quot;version&quot;: &quot;0.1&quot;
   }
```
</code></pre><ol start=3><li><p>确保<code>url_latest_version</code>包含您想要指向读者的站点的URL。在大多数情况下，这应该是您文档的最新版本的URL：</p><p>Configuration file:</p></li></ol><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
   url_latest_version: 'https://your-latest-doc-site.com'
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
   url_latest_version = &quot;https://your-latest-doc-site.com&quot;
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
   {
     &quot;url_latest_version&quot;: &quot;https://your-latest-doc-site.com&quot;
   }
```
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-9d693ae931b0fc63143985df75c9c5c2>5 - Docsy简码</h1><p>​使用Docsy的Hugo简码快速构建站点页面。</p><p>​ Hugo 允许你定义并使用 <a href=https://gohugo.io/content-management/shortcodes/>简码</a>，而不是从头编写所有站点页面。这些可重复使用的内容片段可以包含在你的页面中，通常使用 HTML 创建难以或不可能在简单的 Markdown 中实现的效果。简码还可以具有参数，例如，让你向花哨的简码文本框中添加自己的文本。除了 Hugo 的<a href=https://gohugo.io/content-management/shortcodes/>内置简码</a>外，Docsy 还提供了一些自己的 简码，以帮助你构建页面。</p><h2 id=简码分隔符>简码分隔符<a class=td-heading-self-link href=#%e7%ae%80%e7%a0%81%e5%88%86%e9%9a%94%e7%ac%a6 aria-label="Heading self-link"></a></h2><p>​ 如下所示，使用花括号样式的<a href=https://gohugo.io/content-management/shortcodes/#use-shortcodes>简码分隔符</a><code>\{\{\&lt;...\>\}\}</code>告诉Hugo内部内容是HTML/纯文本，无需进一步处理。通过使用分隔符<code>\{\{\%...\%\}\}</code>，Hugo将把简码body视为Markdown。您可以在页面中使用这两种样式。</p><h2 id=简码块>简码块<a class=td-heading-self-link href=#%e7%ae%80%e7%a0%81%e5%9d%97 aria-label="Heading self-link"></a></h2><p>​ 本主题附带一组自定义页面块（<strong>Page Block</strong> ）简码，可用于组合着陆页面、About页面等。</p><p>​ 这些块共享一些通用参数：</p><ul><li><p>height</p><p>块容器的预定义高度。可以是 <code>min</code>、<code>med</code>、<code>max</code>、<code>full</code> 或 <code>auto</code> 中的一个。将其设置为 <code>full</code> 将填充视口高度，这对于着陆页非常有用。</p></li><li><p>color</p><p>如果未提供，块将被分配一个主题调色板的颜色，但如果需要，您可以设置自己的颜色。您可以使用所有 Bootstrap 的颜色名称、主题颜色名称或灰度阴影。一些例子包括 <code>primary</code>、<code>white</code>、<code>dark</code>、<code>warning</code>、<code>light</code>、<code>success</code>、<code>300</code>、<code>blue</code>、<code>orange</code>。这将成为块的<strong>背景颜色</strong>，但文本颜色将适应以获得适当的对比度。</p></li></ul><h3 id=blockscover>blocks/cover<a class=td-heading-self-link href=#blockscover aria-label="Heading self-link"></a></h3><p>​ <strong>blocks/cover</strong>简码创建填充页面顶部的着陆页类型块。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>\{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>blocks</span><span style=color:#a40000>/</span><span style=color:#c4a000>cover</span> <span style=color:#c4a000>title</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Welcome!&#34;</span> <span style=color:#c4a000>image_anchor</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;center&#34;</span> <span style=color:#c4a000>height</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;full&#34;</span> <span style=color:#c4a000>color</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;primary&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;mx-auto&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;btn btn-lg btn-primary me-3 mb-4&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;\{\{\&lt; relref &#34;</span><span style=color:#a40000>/</span><span style=color:#c4a000>docs</span><span style=color:#a40000>&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}&#34;&gt;
</span></span><span style=display:flex><span>		Learn More <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>i</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;fa-solid fa-circle-right ms-2&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>i</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;btn btn-lg btn-secondary me-3 mb-4&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://example.org&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>		Download <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>i</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;fa-brands fa-github ms-2 &#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>i</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>p</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;lead mt-5&#34;</span><span style=color:#000;font-weight:700>&gt;</span>This program is now available in <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;#&#34;</span><span style=color:#000;font-weight:700>&gt;</span>AppStore!<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;mx-auto mt-5&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>		\{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>blocks</span><span style=color:#a40000>/</span><span style=color:#c4a000>link-down</span> <span style=color:#c4a000>color</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;info&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>\{\{\<span style=color:#a40000>&lt;</span> /blocks/cover \&gt;\}\}
</span></span></code></pre></div><p>请注意，上面提到的相关简码参数将具有合理的默认值，但为了完整性而包含在此处。</p><table><thead><tr><th>Parameter</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>title</td><td></td><td>The main display title for the block. 该块的主要显示标题。</td></tr><tr><td>image_anchor</td><td></td><td></td></tr><tr><td>height</td><td></td><td>See above.</td></tr><tr><td>color</td><td></td><td>See above.</td></tr><tr><td>byline</td><td>Byline text on featured image. 在特色图片上的署名文本。</td><td></td></tr></tbody></table><p>​ 要设置背景图像，请在该页面的<a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#page-bundles>Page Bundle</a>中放置一个带有"background"单词的图像名称。例如，在我们的示例站点中，首页的封面块中的背景图像为<code>featured-background.jpg</code>，在同一目录中。</p><blockquote><p>提示</p><p>如果在图像名称中还包括featured单词，例如<code>my-featured-background.jpg</code>，则在共享时它也将用作Twitter Card图像。</p></blockquote><p>​ 有关可用图标，请参见<a href="https://fontawesome.com/icons?d=gallery&m=free">Font Awesome</a>。</p><h3 id=blockslead>blocks/lead<a class=td-heading-self-link href=#blockslead aria-label="Heading self-link"></a></h3><p>​ <strong>blocks/lead</strong>简码是一个简单的引导/标题块，具有居中的文本和向下箭头指向下一节。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>\{\{\% blocks/lead color=&#34;dark&#34; \%\}\}
</span></span><span style=display:flex><span>TechOS is the OS of the future.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Runs on **bare metal** in the **cloud**!
</span></span><span style=display:flex><span>\{\{\% /blocks/lead \%\}\}
</span></span></code></pre></div><table><thead><tr><th>Parameter</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>height</td><td><code>auto</code></td><td>See <a href=https://t.is-local.org/zh-cn/docs/adding-content/shortcodes/#shortcode-blocks>Shortcode blocks</a></td></tr><tr><td>color</td><td>.Ordinal</td><td>See <a href=https://t.is-local.org/zh-cn/docs/adding-content/shortcodes/#shortcode-blocks>Shortcode blocks</a></td></tr></tbody></table><h3 id=blockssection>blocks/section<a class=td-heading-self-link href=#blockssection aria-label="Heading self-link"></a></h3><p>​ <strong>blocks/section</strong>简码旨在作为通用内容容器使用。它有两种"口味（flavors）"，一种适用于一般内容，另一种则具有更适合包装水平特征章节的样式。</p><p>​ 下面的示例显示一个包含3个特征章节的章节。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>\{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>blocks</span><span style=color:#a40000>/</span><span style=color:#c4a000>section</span> <span style=color:#c4a000>color</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;dark&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;row&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>\{\{\% blocks/feature icon=&#34;fa-lightbulb&#34; title=&#34;Fastest OS **on the planet**!&#34; \%\}\}
</span></span><span style=display:flex><span>The new **TechOS** operating system is an open source project. It is a new project, but with grand ambitions.
</span></span><span style=display:flex><span>Please follow this space for updates!
</span></span><span style=display:flex><span>\{\{\% /blocks/feature \%\}\}
</span></span><span style=display:flex><span>\{\{\% blocks/feature icon=&#34;fa-brands fa-github&#34; title=&#34;Contributions welcome!&#34; url=&#34;https://github.com/gohugoio/hugo&#34; \%\}\}
</span></span><span style=display:flex><span>We do a [Pull Request](https://github.com/gohugoio/hugo/pulls) contributions workflow on **GitHub**. New users are always welcome!
</span></span><span style=display:flex><span>\{\{\% /blocks/feature \%\}\}
</span></span><span style=display:flex><span>\{\{\% blocks/feature icon=&#34;fa-brands fa-twitter&#34; title=&#34;Follow us on Twitter!&#34; url=&#34;https://twitter.com/GoHugoIO&#34; \%\}\}
</span></span><span style=display:flex><span>For announcement of latest features etc.
</span></span><span style=display:flex><span>\{\{\% /blocks/feature \%\}\}
</span></span><span style=display:flex><span>\{\{\<span style=color:#a40000>&lt;</span> /blocks/section \&gt;\}\}
</span></span></code></pre></div><table><thead><tr><th>参数</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>height</code></td><td></td><td>See above.</td></tr><tr><td><code>color</code></td><td></td><td>See above.</td></tr><tr><td><code>type</code></td><td></td><td>如果您想要一个一般的容器，请指定"container"（默认值），或者如果该章节包含列 - 必须是直接子级，则指定"row"。</td></tr></tbody></table><h3 id=blocksfeature>blocks/feature<a class=td-heading-self-link href=#blocksfeature aria-label="Heading self-link"></a></h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>\{\{\% blocks/feature icon=&#34;fa-brands fa-github&#34; title=&#34;Contributions welcome!&#34; url=&#34;https://github.com/gohugoio/hugo&#34; \%\}\}
</span></span><span style=display:flex><span>We do a [Pull Request](https://github.com/gohugoio/hugo/pulls) contributions workflow on **GitHub**. New users are always welcome!
</span></span><span style=display:flex><span>\{\{\% /blocks/feature \%\}\}
</span></span></code></pre></div><table><thead><tr><th>参数</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td>title</td><td></td><td>The title to use.</td></tr><tr><td>url</td><td></td><td>The URL to link to.</td></tr><tr><td>icon</td><td></td><td>The icon class to use.</td></tr></tbody></table><h3 id=blockslink-down>blocks/link-down<a class=td-heading-self-link href=#blockslink-down aria-label="Heading self-link"></a></h3><p>​ <strong>blocks/link-down</strong>简码创建导航链接到下一个章节。它旨在与其他块简码结合使用。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;mx-auto mt-5&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	\{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>blocks</span><span style=color:#a40000>/</span><span style=color:#c4a000>link-down</span> <span style=color:#c4a000>color</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;info&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><table><thead><tr><th>参数</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td>color</td><td>info</td><td>See above.</td></tr></tbody></table><h2 id=简码助手helpers>简码助手（helpers）<a class=td-heading-self-link href=#%e7%ae%80%e7%a0%81%e5%8a%a9%e6%89%8bhelpers aria-label="Heading self-link"></a></h2><h3 id=alert>alert<a class=td-heading-self-link href=#alert aria-label="Heading self-link"></a></h3><p>​ <strong>alert</strong>简码创建一个警报块，可用于显示通知或警告。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>\{\{\% alert title=&#34;Warning&#34; color=&#34;warning&#34; \%\}\}
</span></span><span style=display:flex><span>This is a warning.
</span></span><span style=display:flex><span>\{\{\% /alert \%\}\}
</span></span></code></pre></div><p>渲染为：</p><p><img alt=image-20230502082041657 src=Shortcodes_img/image-20230502082041657.png></p><table><thead><tr><th>参数</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td>color</td><td>primary</td><td>其中之一的主题颜色，例如<code>primary</code>，<code>info</code>，<code>warning</code>等。</td></tr></tbody></table><h3 id=pageinfo>pageinfo<a class=td-heading-self-link href=#pageinfo aria-label="Heading self-link"></a></h3><p>​ <strong>pageinfo</strong> 简码创建了一个文本框，您可以使用它来为页面添加横幅信息，例如告诉用户页面包含占位内容，内容已过时或记录了一个 beta 功能。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>\{\{\% pageinfo color=&#34;primary&#34; \%\}\}
</span></span><span style=display:flex><span>This is placeholder content.
</span></span><span style=display:flex><span>\{\{\% /pageinfo \%\}\}
</span></span></code></pre></div><p>渲染成：</p><p><img alt=image-20230501073913392 src=Shortcodes_img/image-20230501073913392.png></p><table><thead><tr><th>参数</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td>color</td><td>primary</td><td>其中之一的主题颜色，例如<code>primary</code>，<code>info</code>，<code>warning</code>等。</td></tr></tbody></table><h3 id=imgproc>imgproc<a class=td-heading-self-link href=#imgproc aria-label="Heading self-link"></a></h3><p>​ <strong>imgproc</strong>简码会在当前<a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#page-bundles>Page Bundle</a>中查找图片，并根据给定的一组处理指令对其进行缩放。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>\{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>imgproc</span> <span style=color:#c4a000>spruce</span> <span style=color:#c4a000>Fill</span> <span style=color:#a40000>&#34;</span><span style=color:#c4a000>400x450</span><span style=color:#a40000>&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>Norway Spruce <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>i</span><span style=color:#000;font-weight:700>&gt;</span>Picea abies<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>i</span><span style=color:#000;font-weight:700>&gt;</span> shoot with foliage buds.
</span></span><span style=display:flex><span>\{\{\<span style=color:#a40000>&lt;</span> /imgproc \&gt;\}\}
</span></span></code></pre></div><p><img alt=image-20230501075659751 src=Shortcodes_img/image-20230501075659751.png></p><p>​ 上面的示例还添加了带有照片归属地的副标题。当使用来自<a href=https://commons.wikimedia.org/>WikiMedia</a>等免费许可的插图时，大多数情况下需要一种方法来归属作者或许可证持有人。您可以在你的页面前置元数据中的页面资源中添加元数据。在此主题中，<code>byline</code> 参数通常用于此目的：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
resources:
- src: &quot;**spruce*.jpg&quot;
  params:
    byline: &quot;Photo: Bjørn Erik Pedersen / CC-BY-SA&quot;
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
[[resources]]
src = &quot;**spruce*.jpg&quot;

  [resources.params]
  byline = &quot;Photo: Bjørn Erik Pedersen / CC-BY-SA&quot;
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;resources&quot;: [
    {
      &quot;src&quot;: &quot;**spruce*.jpg&quot;,
      &quot;params&quot;: {
        &quot;byline&quot;: &quot;Photo: Bjørn Erik Pedersen / CC-BY-SA&quot;
      }
    }
  ]
}
```
</code></pre><table><thead><tr><th style=text-align:right>参数</th><th>描述</th></tr></thead><tbody><tr><td style=text-align:right>1</td><td>图片文件名或足够的文件名以便识别它（我们使用Glob匹配）</td></tr><tr><td style=text-align:right>2</td><td>命令。可以是<code>Fit</code>、<code>Resize</code>、<code>Fill</code>或<code>Crop</code>中的一个。参见<a href=https://gohugo.io/content-management/image-processing/#image-processing-methods>Image Processing Methods</a>。</td></tr><tr><td style=text-align:right>3</td><td>处理选项，例如 <code>400x450 r180</code>。参见<a href=https://gohugo.io/content-management/image-processing/#image-processing-options>Image Processing Options</a>。</td></tr></tbody></table><h3 id=swaggerui>swaggerui<a class=td-heading-self-link href=#swaggerui aria-label="Heading self-link"></a></h3><p>​ <code>swaggerui</code> 简码可以放置在任何使用 <a href=https://github.com/google/docsy/tree/main/layouts/swagger><code>swagger</code> 布局</a> 的页面中；它使用任何 OpenAPI YAML 或 JSON 文件作为源来渲染 <a href=https://swagger.io/tools/swagger-ui/>Swagger UI</a>。该文件可以托管在任何位置，例如您站点的根 <a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#adding-static-content><code>/static</code> 文件夹</a>中。</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: &quot;Pet Store API&quot;
type: swagger
weight: 1
description: Reference for the Pet Store API
---

\{\{\&lt; swaggerui src=&quot;/openapi/petstore.yaml&quot; \&gt;\}\}
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;Pet Store API&quot;
type = &quot;swagger&quot;
weight = 1
description = &quot;Reference for the Pet Store API&quot;
+++

\{\{\&lt; swaggerui src=&quot;/openapi/petstore.yaml&quot; \&gt;\}\}
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;Pet Store API&quot;,
  &quot;type&quot;: &quot;swagger&quot;,
  &quot;weight&quot;: 1,
  &quot;description&quot;: &quot;Reference for the Pet Store API&quot;
}

\{\{\&lt; swaggerui src=&quot;/openapi/petstore.yaml&quot; \&gt;\}\}
```
</code></pre><p>​ 您可以通过覆盖Swagger的CSS或通过编辑和编译<a href=https://github.com/swagger-api/swagger-ui>Swagger UI dist</a>自己来自定义Swagger UI的外观和感觉，并替换<code>themes/docsy/static/css/swagger-ui.css</code>。</p><h3 id=redoc>redoc<a class=td-heading-self-link href=#redoc aria-label="Heading self-link"></a></h3><p>​ <code>redoc</code>简码使用开源<a href=https://github.com/Redocly/redoc>Redoc</a>工具从OpenAPI YAML或JSON文件中渲染参考API文档。该文件可以托管在您喜欢的任何位置，例如在站点的根<a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#adding-static-content><code>/static</code> 文件夹</a>中，但您也可以使用一个URL，例如：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#000>---</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;Pet Store API&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>docs</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>weight</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>description</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Reference for the Pet Store API</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>---</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>\{\{\&lt; redoc &#34;https://raw.githubusercontent.com/OAI/OpenAPI-Specification/main/examples/v2.0/yaml/petstore.yaml&#34; \&gt;\}\}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><h3 id=iframe>iframe<a class=td-heading-self-link href=#iframe aria-label="Heading self-link"></a></h3><p>​ 使用此简码，您可以将外部内容作为内联框架（<code>iframe</code>）嵌入Docsy页面，参见：<a href=https://www.w3schools.com/tags/tag_iframe.asp>https://www.w3schools.com/tags/tag_iframe.asp</a></p><table><thead><tr><th>参数</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td>src</td><td></td><td>外部内容的URL</td></tr><tr><td>width</td><td>100%</td><td>iframe的宽度</td></tr><tr><td><code>tryautoheight</code></td><td>true</td><td>如果为 <code>true</code>，则该简码将尝试使用 JavaScript 计算嵌入式内容所需的高度，如此处所述：<a href=https://stackoverflow.com/a/14618068>https://stackoverflow.com/a/14618068</a>。这仅在嵌入式内容与当前域名相同时才可能实现（<a href=https://stackoverflow.com/questions/22086722/resize-cross-domain-iframe-height>https://stackoverflow.com/questions/22086722/resize-cross-domain-iframe-height</a>）。请注意，即使嵌入式内容与当前域名相同，仍取决于内容的结构是否能够正确计算高度。</td></tr><tr><td>style</td><td>min-height:98vh; border:none;</td><td>用于 iframe 的 CSS 样式。<code>min-height: 98vh;</code> 是在 <code>tryautoheight</code> 不起作用时的备选项。<code>border: none;</code> 将 iframe 的边框删除 - 如果您希望嵌入式内容看起来更像页面中的内部内容，则这很有用。</td></tr><tr><td>sandbox</td><td>false</td><td>您可以通过设置 <code>sandbox = true</code> 完全打开沙盒模式，或使用在 <a href=https://www.w3schools.com/tags/att_iframe_sandbox.asp>HTML 标准</a> 中定义的 iframe 参数 <code>sandbox</code> 的常见值来允许特定功能。</td></tr><tr><td>name</td><td>iframe-name</td><td>指定该<a href=https://www.w3schools.com/tags/att_iframe_name.asp>iframe的名称</a>。</td></tr><tr><td>id</td><td>iframe-id</td><td>设置该iframe的ID。</td></tr><tr><td>class</td><td></td><td>设置该iframe的类的可选参数。</td></tr><tr><td>sub</td><td>您的浏览器无法显示嵌入框架。您可以通过以下链接访问嵌入页面：</td><td>如果用户的浏览器无法显示嵌入式框架，则显示的文本（除了嵌入的 URL）。</td></tr></tbody></table><blockquote><p>警告</p><p>​ 只有在服务器的 <code>X-Frame-Options</code> 未设置或明确允许被嵌入到您的站点时，才能嵌入外部内容。有关详细信息，请参见<a href=https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/X-Frame-Options>https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/X-Frame-Options</a>。</p></blockquote><p>​ 有几种工具可用于检查站点是否可以通过iframe嵌入，例如：<a href=https://gf.dev/x-frame-options-test>https://gf.dev/x-frame-options-test</a>。请注意，当此测试显示"Couldn’t find the X-Frame-Options header in the response headers.&ldquo;时，您<strong>可以</strong>嵌入它，但是当测试显示"Great! X-Frame-Options header was found in the HTTP response headers as highlighted below.&ldquo;时，除非已明确启用了您的站点，否则您<strong>不可以</strong>嵌入它。</p><h2 id=tabbed-panes-选项卡式窗格>Tabbed panes 选项卡式窗格<a class=td-heading-self-link href=#tabbed-panes-%e9%80%89%e9%a1%b9%e5%8d%a1%e5%bc%8f%e7%aa%97%e6%a0%bc aria-label="Heading self-link"></a></h2><p>​ 在编写内容时，有时非常有用的是选项卡式窗格。一个常见的用例是显示多个语法突出显示的代码块，这些代码块展示了同一问题在不同编程语言中的解决方法。例如，下面的选项卡式窗格显示了通常在学习新编程语言时编写的<code>Hello world</code>！程序的语言特定变体：</p><p>=== &ldquo;C&rdquo;</p><pre><code>```C
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main(void)
{
  puts(&quot;Hello World!&quot;);
  return EXIT_SUCCESS;
}
```
</code></pre><p>=== &ldquo;C++&rdquo;</p><pre><code>```C++
#include &lt;iostream&gt;

int main()
{
  std::cout &lt;&lt; &quot;Hello World!&quot; &lt;&lt; std::endl;
}
```
</code></pre><p>=== &ldquo;Go&rdquo;</p><pre><code>```Go
package main
import &quot;fmt&quot;
func main() {
  fmt.Printf(&quot;Hello World!\n&quot;)
}
```
</code></pre><p>=== &ldquo;Java&rdquo;</p><pre><code>```Java
class HelloWorld {
  static public void main( String args[] ) {
    System.out.println( &quot;Hello World!&quot; );
  }
}
```
</code></pre><p>=== &ldquo;Kotlin&rdquo;</p><pre><code>```Kotlin
fun main(args : Array&lt;String&gt;) {
    println(&quot;Hello, world!&quot;)
}
```
</code></pre><p>=== &ldquo;Lua&rdquo;</p><pre><code>```Lua
print &quot;Hello world&quot;

```
</code></pre><p>=== &ldquo;PHP&rdquo;</p><pre><code>```PHP
&lt;?php
echo 'Hello World!';
?&gt;

```
</code></pre><p>=== &ldquo;Python&rdquo;</p><pre><code>```Python
print(&quot;Hello World!&quot;)

```
</code></pre><p>=== &ldquo;Ruby&rdquo;</p><pre><code>```Ruby
puts &quot;Hello World!&quot;

```
</code></pre><p>=== &ldquo;Scala&rdquo;</p><pre><code>```Scala
object HelloWorld extends App {
  println(&quot;Hello world!&quot;)
}

```
</code></pre><p>=== &ldquo;Reference&rdquo;</p><pre><code>```c

```
</code></pre><p>​ Docsy模板提供了两个简码<code>tabpane</code>和<code>tab</code>，让您轻松创建选项卡式窗格。要了解如何使用它们，请查看以下代码块，该代码块渲染为右对齐的窗格，其中一个选项卡被禁用，另外三个选项卡处于活动状态：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>\{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>tabpane</span> <span style=color:#c4a000>text</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>true</span> <span style=color:#c4a000>right</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>true</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>  \{\{\% tab header=&#34;**Languages**:&#34; disabled=true /\%\}\}
</span></span><span style=display:flex><span>  \{\{\% tab header=&#34;English&#34; lang=&#34;en&#34; \%\}\}
</span></span><span style=display:flex><span>  ![Flag United Kingdom](flags/uk.png)
</span></span><span style=display:flex><span>  Welcome!
</span></span><span style=display:flex><span>  \{\{\% /tab \%\}\}
</span></span><span style=display:flex><span>  \{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>tab</span> <span style=color:#c4a000>header</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;German&#34;</span> <span style=color:#c4a000>lang</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;de&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>b</span><span style=color:#000;font-weight:700>&gt;</span>Herzlich willkommen!<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>b</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>img</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;flags/de.png&#34;</span> <span style=color:#c4a000>alt</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Flag Germany&#34;</span> <span style=color:#c4a000>style</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;float: right; padding: 0 0 0 0px&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  \{\{\<span style=color:#a40000>&lt;</span> /tab \&gt;\}\}
</span></span><span style=display:flex><span>  \{\{\% tab header=&#34;Swahili&#34; lang=&#34;sw&#34; \%\}\}
</span></span><span style=display:flex><span>  ![Flag Tanzania](flags/tz.png)
</span></span><span style=display:flex><span>  **Karibu sana!**
</span></span><span style=display:flex><span>  \{\{\% /tab \%\}\}
</span></span><span style=display:flex><span>\{\{\<span style=color:#a40000>&lt;</span> /tabpane \&gt;\}\}
</span></span></code></pre></div><p>​ 这段代码转换为下面的右对齐选项卡窗格，显示英语、德语或斯瓦希里语的<code>Welcome!</code>问候：</p><p><strong>Languages</strong>:</p><p>=== &ldquo;English&rdquo;
<img alt=image-20230501075849083 src=Shortcodes_img/image-20230501075849083.png></p><p>=== &ldquo;German&rdquo;
<img alt=image-20230501075912241 src=Shortcodes_img/image-20230501075912241.png></p><p>=== &ldquo;Swahili&rdquo;
<img alt=image-20230501075922612 src=Shortcodes_img/image-20230501075922612.png></p><h3 id=简码详细信息>简码详细信息<a class=td-heading-self-link href=#%e7%ae%80%e7%a0%81%e8%af%a6%e7%bb%86%e4%bf%a1%e6%81%af aria-label="Heading self-link"></a></h3><p>​ 选项卡式窗格使用两个简码实现：</p><ul><li><p><code>tabpane</code> 简码是选项卡的容器元素。该简码可以包含可选的命名参数 <code>lang</code>、<code>highlight</code> 和 <code>right</code>。可选参数 <code>lang</code> 和 <code>highlight</code> 的值会作为 Hugo 内置函数 <a href=https://gohugo.io/functions/highlight/>highlight</a> 的第二个 <code>LANG</code> 和第三个 <code>OPTIONS</code> 参数传递，该函数用于渲染各个选项卡中的代码块。如果您想要右对齐选项卡，请指定 <code>right=true</code>。如果选项卡的标题文本等于选项卡代码块中使用的语言（如上面的第一个选项卡窗格示例），您可以在周围的 <code>tabpane</code> 简码中指定 <code>langEqualsHeader=true</code>。然后，各个选项卡的标题文本将自动设置为相应选项卡的 <code>lang</code> 参数。</p></li><li><p>各种选项卡简码代表您想要显示的选项卡。对于每个选项卡，通过指定命名参数 <code>header</code> 来设置选项卡的标题文本。如果<code>header</code>参数是您选项卡简码中唯一的参数，则可以将标题设置为未命名参数，例如 <code>{ tab "My header" }} … {{ /tab }}</code>。如果您的选项卡简码没有任何参数，则选项卡的header 将默认为Tab n。要将窗格分为左对齐和右对齐的选项卡组，请在分隔选项卡中指定 <code>right=true</code>。通过多次设置 <code>right=true</code>，您甚至可以渲染多个选项卡组。通过指定参数 <code>disabled=true</code> 可以禁用选项卡。对于启用的选项卡，有两种内容显示模式，代码表示和文本表示：</p><ul><li>默认情况下，选项卡的内容将渲染为代码块。为了获得适当的语法高亮显示，请为每个选项卡指定命名参数 <code>lang</code>，并可选地指定参数 <code>highlight</code>。在父选项卡窗格简码中设置的参数将被覆盖。</li><li>如果您的选项卡内容应该渲染为具有不同样式和可选图像的文本，请将 <code>text=true</code> 作为<code>tabpane</code> （或<code>tab</code>）的参数。如果您的内容是 Markdown，请使用百分号 <code>%</code> 作为选项卡简码的最外层分隔符，您的标记应如下所示：<code>\{\{\% tab \%\}\}Your **markdown** content\{\{\% /tab \%\}\}</code>。对于 HTML 内容，请使用方括号 <code>&lt;></code> 作为最外层分隔符：<code>\{\{\&lt; tab \>\}\}Your &lt;b>HTML&lt;/b> content\{\{\&lt; /tab \>\}\}</code>。</li></ul></li></ul><blockquote><p>信息</p><p>​ 默认情况下，所选tab（选项卡） 的语言将存储并在不同的浏览器会话之间保留。如果选项卡内的内容长度差异很大，则在切换选项卡时可能会导致不必要的滚动。要禁用此不必要的行为，请在<code>tabpane</code>简码中指定 <code>persistLang=false</code>。</p></blockquote><h2 id=card-panes-卡片窗格>Card panes 卡片窗格<a class=td-heading-self-link href=#card-panes-%e5%8d%a1%e7%89%87%e7%aa%97%e6%a0%bc aria-label="Heading self-link"></a></h2><p>​ 在编写内容时，将类似的文本块或代码片段放在类似卡片的元素上，可以让它们可选地并排呈现，这在某些情况下非常有用。下面是一个样本卡片组，展示了美国的前四位总统，我们来演示一下这个功能：</p><p><img alt=image-20230501081306476 src=Shortcodes_img/image-20230501081306476.png></p><p><img alt=image-20230501081319802 src=Shortcodes_img/image-20230501081319802.png></p><p><img alt=image-20230501081332167 src=Shortcodes_img/image-20230501081332167.png></p><p><img alt=image-20230501081347954 src=Shortcodes_img/image-20230501081347954.png></p><p>​ Docsy 支持通过不同的简码创建此类卡片窗格：</p><ul><li><code>cardpane</code> 简码是用来包含不同卡片的容器元素。</li><li><code>card</code> 简码代表一个单独的卡片，每个简码代表一个独立的卡片。虽然卡片通常会出现在卡片组内，但一个单独的卡片也可以单独呈现。<code>card</code> 简码可以包含文本、图片或任何其他任意类型的 Markdown 或 HTML 标记作为内容。如果你的内容是编程代码，建议使用 <code>card-code</code> 简码，这是一种具有代码高亮和其他可选功能（如行号、某些行的高亮等）的特殊卡片。</li></ul><h3 id=简码card用于文本图像等>简码<code>card</code>（用于文本、图像等）<a class=td-heading-self-link href=#%e7%ae%80%e7%a0%81card%e7%94%a8%e4%ba%8e%e6%96%87%e6%9c%ac%e5%9b%be%e5%83%8f%e7%ad%89 aria-label="Heading self-link"></a></h3><p>​ 如上所述，卡片可以使用 <code>card</code> 或 <code>card-code</code> 简码之一进行编码。如果您的内容是除了编程代码以外的任何类型的文本，请使用通用的 <code>card</code> 简码。以下代码示例演示如何编码<code>card</code> 元素：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>\{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>card</span> <span style=color:#c4a000>header</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;**Imagine**&#34;</span> <span style=color:#c4a000>title</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Artist and songwriter: John Lennon&#34;</span> <span style=color:#c4a000>subtitle</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Co-writer: Yoko Ono&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#c4a000>footer</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;![SignatureJohnLennon](https://server.tld/…/signature.png &#39;Signature John Lennon&#39;)&#34;</span><span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>Imagine there&#39;s no heaven, It&#39;s easy if you try<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>br</span><span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>No hell below us, above us only sky<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>br</span><span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>Imagine all the people living for today…
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>…
</span></span><span style=display:flex><span>\{\{\<span style=color:#a40000>&lt;</span> /card \&gt;\}\}
</span></span></code></pre></div><p>​ 此代码转换为下面的左侧的卡片，显示 John Lennon 著名歌曲 <code>Imagine</code> 的歌词。右侧的第二个说明性card 元素指示并解释了card 的各个组成部分：</p><p><img alt=image-20230501081736024 src=Shortcodes_img/image-20230501081736024.png></p><p><img alt=image-20230501081750236 src=Shortcodes_img/image-20230501081750236.png></p><p>​ 虽然卡片的主要内容取自 <code>card</code> 简码的内部标记，但可选元素 <code>footer</code>、<code>header</code>、<code>title</code> 和 <code>subtitle</code> 都作为简码的命名参数指定。</p><h3 id=简码card-code用于编程代码>简码<code>card-code</code>（用于编程代码）<a class=td-heading-self-link href=#%e7%ae%80%e7%a0%81card-code%e7%94%a8%e4%ba%8e%e7%bc%96%e7%a8%8b%e4%bb%a3%e7%a0%81 aria-label="Heading self-link"></a></h3><p>​ 如果您想在卡片上显示编程代码，可以使用专门的<code>card-code</code> 简码。下面的示例演示了如何用C编写著名的<code>Hello world!</code>应用程序的卡片元素：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>\{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>card-code</span> <span style=color:#c4a000>header</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;**C**&#34;</span> <span style=color:#c4a000>lang</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;C&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>#include <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>stdio.h</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>#include <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>stdlib.h</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>int main(void)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  puts(&#34;Hello World!&#34;);
</span></span><span style=display:flex><span>  return EXIT_SUCCESS;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>\{\{\<span style=color:#a40000>&lt;</span> /card-code \&gt;\}\}
</span></span></code></pre></div><p>​ 这段代码将转换为下面的卡片：</p><p><img alt=image-20230501081814481 src=Shortcodes_img/image-20230501081814481.png></p><p>​ <code>card-code</code> 简码可以可选地包含<code>lang</code>和/或<code>highlight</code>命名参数。这些可选参数的值作为第二个<code>LANG</code>和第三个<code>OPTIONS</code>参数传递给Hugo的内置<a href=https://gohugo.io/functions/highlight/>highlight</a>函数，该函数用于渲染在卡片上呈现的代码块。</p><h3 id=卡片组>卡片组<a class=td-heading-self-link href=#%e5%8d%a1%e7%89%87%e7%bb%84 aria-label="Heading self-link"></a></h3><p>​ 将两个或多个卡片并排显示可以通过将它们放在<code>cardpane</code>简码的开放和关闭元素之间轻松实现。卡片组的一般标记与选项卡窗格的标记非常相似：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>\{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>cardpane</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>  \{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>card</span> <span style=color:#c4a000>header</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Header card 1&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>    Content card 1
</span></span><span style=display:flex><span>  \{\{\<span style=color:#a40000>&lt;</span> /card \&gt;\}\}
</span></span><span style=display:flex><span>  \{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>card</span> <span style=color:#c4a000>header</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Header card 2&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>    Content card 2
</span></span><span style=display:flex><span>  \{\{\<span style=color:#a40000>&lt;</span> /card \&gt;\}\}
</span></span><span style=display:flex><span>  \{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>card</span> <span style=color:#c4a000>header</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Header card 3&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>    Content card 3
</span></span><span style=display:flex><span>  \{\{\<span style=color:#a40000>&lt;</span> /card \&gt;\}\}
</span></span><span style=display:flex><span>\{\{\<span style=color:#a40000>&lt;</span> /cardpane \&gt;\}\}
</span></span></code></pre></div><p>​ 与选项卡（tabs）不同，卡片（cards ）是并排呈现的。这尤其有用，如果您想在两个卡片上比较不同的编程技术（传统 vs. 现代），就像上面的示例演示的那样：</p><p><img alt=image-20230501081908799 src=Shortcodes_img/image-20230501081908799.png></p><h2 id=包含外部文件>包含外部文件<a class=td-heading-self-link href=#%e5%8c%85%e5%90%ab%e5%a4%96%e9%83%a8%e6%96%87%e4%bb%b6 aria-label="Heading self-link"></a></h2><p>​ 有时候有一些内容对多个文档都是相关的，或者是存储在一个不一定是文档的文件中。对于这样的情况，<code>readfile</code> 简码允许您将外部文件的内容导入到文档中。</p><h3 id=重用文档>重用文档<a class=td-heading-self-link href=#%e9%87%8d%e7%94%a8%e6%96%87%e6%a1%a3 aria-label="Heading self-link"></a></h3><p>​ 如果您想在多个文档中重复使用一些内容，可以将该内容编写在一个单独的文件中，然后在需要时包含它。</p><p>​ 例如，假设您有一个名为<code>installation.md</code>的文件，其内容如下：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>## Installation
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>\{\{\% alert title=&#34;Note&#34; color=&#34;primary&#34; \%\}\}
</span></span><span style=display:flex><span>Check system compatibility before proceeding.
</span></span><span style=display:flex><span>\{\{\% /alert \%\}\}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>1.  Download the installation files.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>1.  Run the installation script
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    `sudo sh install.sh`
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>1.  Test that your installation was successfully completed.
</span></span></code></pre></div><p>​ 您可以将此部分导入到另一个文档中：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>The following section explains how to install the database:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>\{\{\% readfile &#34;installation.md&#34; \%\}\}
</span></span></code></pre></div><p>​ 这将渲染出好像指令在父文档中一样。导入文件包含简码时需要 Hugo v0.101.0+ 才能正确被渲染。</p><hr><p>​ 以下部分解释了如何安装数据库：</p><p><img alt=image-20230502103503671 src=Shortcodes_img/image-20230502103503671.png></p><hr><p>​ 该参数是该文件的相对路径。仅支持在父文件的工作目录下的相对路径。</p><p>​ 对于工作目录之外的文件，可以使用以 <code>/</code> 开头的绝对路径。根目录是 <code>/content</code> 文件夹。</p><h3 id=包含代码文件>包含代码文件<a class=td-heading-self-link href=#%e5%8c%85%e5%90%ab%e4%bb%a3%e7%a0%81%e6%96%87%e4%bb%b6 aria-label="Heading self-link"></a></h3><p>​ 假设您有一个包含多个代码示例的<code>includes</code>文件夹，您希望将其用作文档的一部分。您可以使用<code>readfile</code>并带有一些额外的参数：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>To create a new pipeline, follow the next steps:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>1.  Create a configuration file `config.yaml`:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    \{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>readfile</span> <span style=color:#c4a000>file</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;includes/config.yaml&#34;</span> <span style=color:#c4a000>code</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;true&#34;</span> <span style=color:#c4a000>lang</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;yaml&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>2.  Apply the file to your cluster `kubectl apply config.yaml`
</span></span></code></pre></div><p>​ 该代码自动读取<code>includes/config.yaml</code>的内容并将其插入到文档中。渲染后的文本如下所示：</p><hr><p><img alt=image-20230502104015054 src=Shortcodes_img/image-20230502104015054.png></p><hr><blockquote><p>警告</p><p>​ 为了使代码高亮显示正常工作，必须使用<code>\{\{\&lt; \>\}\}</code>的分隔符。</p></blockquote><p>​ 该"file"参数是文件的相对路径。仅支持在父文件的工作目录下的相对路径。</p><p>​ 对于工作目录之外的文件，可以使用以 <code>/</code> 开头的绝对路径。根目录是 <code>/content</code> 文件夹。</p><table><thead><tr><th>参数</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td>file</td><td></td><td>外部文件路径</td></tr><tr><td>code</td><td>false</td><td>布尔值。如果为<code>true</code> ，该内容将被视为代码</td></tr><tr><td>lang</td><td>plain text</td><td>编程语言</td></tr></tbody></table><h3 id=错误报告>错误报告<a class=td-heading-self-link href=#%e9%94%99%e8%af%af%e6%8a%a5%e5%91%8a aria-label="Heading self-link"></a></h3><p>​ 如果该简码无法找到指定的文件，则该简码会抛出编译错误。</p><p>​ 在下面的示例中，如果无法找到<code>includes/deploy.yml</code>文件，Hugo会抛出编译错误：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>\{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>readfile</span> <span style=color:#c4a000>file</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;includes/deploy.yaml&#34;</span> <span style=color:#c4a000>code</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;true&#34;</span> <span style=color:#c4a000>lang</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;yaml&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span></code></pre></div><p>​ 或者，Hugo可以在呈现的页面上显示一条消息，而不是抛出编译错误。添加<code>draft="true"</code>参数。例如：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>\{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>readfile</span> <span style=color:#c4a000>file</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;includes/deploy.yaml&#34;</span> <span style=color:#c4a000>code</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;true&#34;</span> <span style=color:#c4a000>lang</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;yaml&#34;</span> <span style=color:#c4a000>draft</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;true&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span></code></pre></div><h2 id=条件文本>条件文本<a class=td-heading-self-link href=#%e6%9d%a1%e4%bb%b6%e6%96%87%e6%9c%ac aria-label="Heading self-link"></a></h2><p>​ <code>conditional-text</code> 简码允许您根据配置文件中设置的 <code>buildCondition</code> 参数的值来显示或隐藏内容的某些部分。如果您正在从相同的源生成不同的构建，例如使用不同的产品名称，那么这将非常有用。这个简码帮助您处理这些构建之间的小差异。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>\{\{\% conditional-text include-if=&#34;foo&#34; \%\}\}
</span></span><span style=display:flex><span>This text appears in the output only if `buildCondition = &#34;foo&#34; is set in your config file`.
</span></span><span style=display:flex><span>\{\{\% /conditional-text \%\}\}
</span></span><span style=display:flex><span>\{\{\% conditional-text exclude-if=&#34;bar&#34; \%\}\}
</span></span><span style=display:flex><span>This text does not appear in the output if `buildCondition = &#34;bar&#34; is set in your config file`.
</span></span><span style=display:flex><span>\{\{\% /conditional-text \%\}\}
</span></span></code></pre></div><p>​ 如果您正在使用此简码，请注意，在求值条件时，子字符串匹配也将被视为匹配。这意味着，如果您设置了 <code>include-if="foobar"</code>，而 <code>buildcondition = "foo"</code>，则匹配！</p></div><div class=td-content style=page-break-before:always><h1 id=pg-b170390955ad5d57a161f55c8a978960>6 - Logo和图片</h1><p>在您的项目中添加和自定义logo、icon和图片。</p><h2 id=添加您的logo>添加您的logo<a class=td-heading-self-link href=#%e6%b7%bb%e5%8a%a0%e6%82%a8%e7%9a%84logo aria-label="Heading self-link"></a></h2><p>​ 默认情况下，Docsy在导航栏的开头即极左处显示一个站点logo。将您的项目的SVG logo放在<code>assets/icons/logo.svg</code>中。这将覆盖主题中默认的Docsy logo。</p><p>​ 如果您不希望在导航栏中出现logo，则在您的项目配置中将<code>navbar_logo</code>设置为<code>false</code>：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
navbar_logo: false

```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
navbar_logo = false

```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;navbar_logo&quot;: false
}

```
</code></pre><p>​ 有关样式化您的logo的信息，请参见<a href=https://t.is-local.org/zh-cn/docs/adding-content/lookandfeel/#styling-your-project-logo-and-name>样式化您的项目logo和名称</a>。</p><h2 id=使用-icons>使用 icons<a class=td-heading-self-link href=#%e4%bd%bf%e7%94%a8-icons aria-label="Heading self-link"></a></h2><p>​ Docsy 默认包含了免费的 FontAwesome 图标，其中包括 GitHub 和 Stack Overflow 等网站的logo。您可以在 <a href=https://fontawesome.com/icons/>FontAwesome 文档</a> 中查看所有可用的图标，包括 FontAwesome 版本以及该图标是否可供免费使用。检查 Docsy 的 <a href=https://github.com/google/docsy/blob/main/package.json><code>package.json</code></a> 和发行说明，了解 Docsy 当前包含的 FontAwesome 版本。</p><p>​ 您可以在 <a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation/#adding-icons-to-the-top-level-menu>顶级菜单</a>、<a href=https://t.is-local.org/zh-cn/docs/adding-content/navigation/#add-icons-to-the-section-menu>章节菜单</a> 或文本的任何位置添加 FontAwesome 图标。</p><h2 id=添加您的favicon>添加您的favicon<a class=td-heading-self-link href=#%e6%b7%bb%e5%8a%a0%e6%82%a8%e7%9a%84favicon aria-label="Heading self-link"></a></h2><p>​ 最简单的方法是通过 <a href=http://cthedot.de/icongen>http://cthedot.de/icongen</a>（允许您从单个图像创建各种图标大小和选项）和/或 <a href=https://favicon.io/>https://favicon.io</a> 来创建一组网站图标，然后将它们放在站点项目的 <code>static/favicons</code> 目录中。这将覆盖本主题的默认图标。</p><p>​ 请注意，<a href=https://favicon.io/>https://favicon.io</a> 并不像 Icongen 那样创建范围广泛的尺寸，但它可以让您快速从文本创建 favicon：如果您想创建文本 favicon，则可以使用该站点生成它们，然后使用 Icongen 从生成的 <code>.png</code> 文件中创建更多尺寸（如果需要）。</p><p>​ 如果您有特殊的网站图标要求，可以创建自己的 <code>layouts/partials/favicons.html</code> 文件并添加相应的链接。</p><h2 id=添加图像>添加图像<a class=td-heading-self-link href=#%e6%b7%bb%e5%8a%a0%e5%9b%be%e5%83%8f aria-label="Heading self-link"></a></h2><h3 id=着陆页面>着陆页面<a class=td-heading-self-link href=#%e7%9d%80%e9%99%86%e9%a1%b5%e9%9d%a2 aria-label="Heading self-link"></a></h3><p>​ Docsy 的 <a href=https://t.is-local.org/zh-cn/docs/adding-content/shortcodes/#blockscover><strong>blocks/cover</strong> 简码</a> 可以方便地向你的 着陆 pages 中添加大型封面图片。这个 简码 在 landing page 的 <a href=https://gohugo.io/content-management/page-bundles/>Page Bundle</a> 中查找一个名字中带有"background"的图片——例如，如果你复制了本示例站点，则 <code>content/en/_index.html</code> 中的 landing page 图片是 <code>content/en/featured-background.jpg</code>。</p><p>​ 你可以使用块的 <code>height</code> 参数指定 cover 块容器（及其图片）的首选显示高度。对于全视口高度，请使用 <code>full</code>：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>\{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>blocks</span><span style=color:#a40000>/</span><span style=color:#c4a000>cover</span> <span style=color:#c4a000>title</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Welcome to the Docsy Example Project!&#34;</span> <span style=color:#c4a000>image_anchor</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;top&#34;</span> <span style=color:#c4a000>height</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;full&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>\{\{\<span style=color:#a40000>&lt;</span> /blocks/cover \&gt;\}\}
</span></span></code></pre></div><p>​ 对于较短的图片，例如本示例站点的 About 页面，请使用 <code>min</code>、<code>med</code>、<code>max</code> 或 <code>auto</code>（实际图片的高度）之一：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>\{\{\<span style=color:#000;font-weight:700>&lt;</span> <span style=color:#204a87;font-weight:700>blocks</span><span style=color:#a40000>/</span><span style=color:#c4a000>cover</span> <span style=color:#c4a000>title</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;About the Docsy Example&#34;</span> <span style=color:#c4a000>image_anchor</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;bottom&#34;</span> <span style=color:#c4a000>height</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;min&#34;</span> <span style=color:#a40000>\</span><span style=color:#000;font-weight:700>&gt;</span>\}\}
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>\{\{\<span style=color:#a40000>&lt;</span> /blocks/cover \&gt;\}\}
</span></span></code></pre></div><h3 id=其他页面>其他页面<a class=td-heading-self-link href=#%e5%85%b6%e4%bb%96%e9%a1%b5%e9%9d%a2 aria-label="Heading self-link"></a></h3><p>​ 要向其他页面添加内联图片，请使用 <a href=https://t.is-local.org/zh-cn/docs/adding-content/shortcodes/#imgproc>imgproc 简码</a>。或者，如果你喜欢，只需使用常规的 Markdown 或 HTML 图像，并将你的图像文件添加到你的项目的 <code>static</code> 目录中。你可以在<a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#adding-static-content>添加静态内容</a>中了解更多关于使用此目录的信息。</p><h2 id=在本站点中使用的图片>在本站点中使用的图片<a class=td-heading-self-link href=#%e5%9c%a8%e6%9c%ac%e7%ab%99%e7%82%b9%e4%b8%ad%e4%bd%bf%e7%94%a8%e7%9a%84%e5%9b%be%e7%89%87 aria-label="Heading self-link"></a></h2><p>​ 本站点中用作背景图片的图像属于<a href=https://commons.wikimedia.org/wiki/User:Bep/gallery#Wed_Aug_01_16:16:51_CEST_2018>公共领域</a>，可以自由使用。示例网站中的粥图像由<a href="https://pixabay.com/users/iha31-560629/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=531209">iha31</a>提供，来自<a href="https://pixabay.com/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=531209">Pixabay</a>。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-d8483cb4cda9bb0618a8f87fc3602f0c>7 - 打印支持</h1><p>​ 更容易地打印整个文档章节。</p><p>​ 大多数浏览器中的个别文档页面都可以很好地打印，因为布局已经被设计成从打印输出中省略导航界面。</p><p>​ 在一些站点上，启用"打印整个章节"功能可能很有用（就像在本用户指南中所看到的）。选择此选项将使用适合打印的格式呈现当前顶级章节（例如此页面的Content 和Customization）的所有子页面和子章节，并附带该章节的目录。</p><p>​ 要启用此功能，请在站点的<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>文件中为"section"类型添加"print"输出格式：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
outputs:
  section:
    - HTML
    - RSS
    - print
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[outputs]
section = [ &quot;HTML&quot;, &quot;RSS&quot;, &quot;print&quot; ]

```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;outputs&quot;: {
    &quot;section&quot;: [
      &quot;HTML&quot;,
      &quot;RSS&quot;,
      &quot;print&quot;
    ]
  }
}
```
</code></pre><p>然后，站点应在右侧导航中显示一个"打印整个章节"的链接。</p><h2 id=进一步的定制>进一步的定制<a class=td-heading-self-link href=#%e8%bf%9b%e4%b8%80%e6%ad%a5%e7%9a%84%e5%ae%9a%e5%88%b6 aria-label="Heading self-link"></a></h2><h3 id=禁用目录>禁用目录<a class=td-heading-self-link href=#%e7%a6%81%e7%94%a8%e7%9b%ae%e5%bd%95 aria-label="Heading self-link"></a></h3><p>​ 要在可打印视图中禁用目录，请在页面前置元数据或<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>中将<code>disable_toc</code>参数设置为<code>true</code>：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
…
disable_toc: true
…
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
…
disable_toc = true
…
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  …,
  &quot;disable_toc&quot;: true,
  …
}
```
</code></pre><p>或配置文件：</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  print:
    disable_toc: true
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.print]
disable_toc = true
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;print&quot;: {
      &quot;disable_toc&quot;: true
    }
  }
}
```
</code></pre><h2 id=布局钩子>布局钩子<a class=td-heading-self-link href=#%e5%b8%83%e5%b1%80%e9%92%a9%e5%ad%90 aria-label="Heading self-link"></a></h2><p>​ 有一些布局的partial和hook被定义用于自定义打印格式。它们可以在<code>layouts/partials/print</code>中找到。</p><p>​ Hook可以按类型定义。例如，您可能想自定义"blog"页面和"docs"页面的标题布局。可以通过创建<code>layouts/partials/print/page-heading-&lt;type>.html</code>来实现，例如<code>page-heading-blog.html</code>。它默认使用页面title 和description 作为标题（heading）。</p><p>​ 类似地，每个页面的格式可以通过创建<code>layouts/partials/print/content-&lt;type>.html</code>进行自定义。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-4daa29348e76dac1c71ed41bfd67d58e>8 - 分析、用户反馈和SEO</h1><p>​为您的站点添加Google Analytics跟踪，收集用户反馈并了解页面描述元标记。</p><h2 id=添加分析>添加分析<a class=td-heading-self-link href=#%e6%b7%bb%e5%8a%a0%e5%88%86%e6%9e%90 aria-label="Heading self-link"></a></h2><p>​ Docsy 主题基于 <a href=https://gohugo.io/templates/internal/#google-analytics>Hugo 对 Google Analytics 的支持</a>，Hugo 通过 <a href=https://gohugo.io/templates/internal/>内部模板</a> 提供支持。一旦您按照下面的说明设置了分析，您的网站使用信息（如页面浏览量）将发送到您的 <a href=https://analytics.google.com/analytics/web/>Google Analytics</a> 账户。</p><h3 id=先决条件>先决条件<a class=td-heading-self-link href=#%e5%85%88%e5%86%b3%e6%9d%a1%e4%bb%b6 aria-label="Heading self-link"></a></h3><p>​ 在继续之前，您需要为您的网站获取一个 <strong>分析 ID</strong>（技术上称为测量 ID 或属性 ID，但在本指南中我们将使用"analytics ID（分析 ID）&ldquo;这个术语）。如果您还没有分析 ID，请参见 <a href=https://support.google.com/analytics/answer/1042508>介绍 Google Analytics 4 (GA4)</a> 的 <strong>入门指南</strong> 部分。</p><blockquote><p>提示</p><p>​ 您的项目的 <strong>分析 ID</strong> 是以 <code>G-</code>（GA4 测量 ID）或 <code>UA-</code>（通用分析属性 ID）开头的字符串。</p></blockquote><h3 id=设置>设置<a class=td-heading-self-link href=#%e8%ae%be%e7%bd%ae aria-label="Heading self-link"></a></h3><p>​ 通过将项目的分析 ID 添加到站点配置文件中来启用 Google Analytics。有关详细信息，请参见 <a href=https://gohugo.io/templates/internal/#configure-google-analytics>配置 Google Analytics</a>。</p><p>​ 默认情况下，Docsy 主题使用 <a href=https://support.google.com/analytics/answer/10220869>gtag.js</a> 分析库来支持 GA4（它 <em>需要</em> <code>gtag.js</code>）和通用分析（UA）站点标签。如果您更喜欢在您的 UA 站点标签中使用较旧的 <code>analytics.js</code> 库，则在您的项目 <a href=https://gohugo.io/getting-started/configuration/#configuration-file>配置文件</a> 中设置 <code>params.disableGtagForUniversalAnalytics</code> 为 <code>true</code>。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  disableGtagForUniversalAnalytics: true
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params]
disableGtagForUniversalAnalytics = true
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;disableGtagForUniversalAnalytics&quot;: true
  }
}
```
</code></pre><blockquote><p>警告</p><p>​ 您可以通过设置顶层 <code>googleAnalytics</code> 配置参数或 <code>services.googleAnalytics.id</code> 来配置项目的分析 ID。<strong>不要同时定义这两个参数</strong>，否则可能会导致<a href=https://github.com/google/docsy/issues/921>意外行为</a>。有关详细信息，请参见 <a href=https://discourse.gohugo.io/t/config-is-services-googleanalytics-id-an-alias-for-googleanalytics/39469>Is services.googleAnalytics.id an alias for googleAnalytics</a>。</p></blockquote><blockquote><p>Production-only feature! 仅限于生产环境！</p><p>​ 分析仅在<strong>生产环境</strong>（在 Hugo 术语中称为"环境（environments）"）中启用。有关 Hugo 环境及如何设置它们的信息，请参见以下 <a href=https://discourse.gohugo.io/t/what-does-setting-hugo-env-to-production-do/24669/2>讨论</a>。</p></blockquote><h2 id=用户反馈>用户反馈<a class=td-heading-self-link href=#%e7%94%a8%e6%88%b7%e5%8f%8d%e9%a6%88 aria-label="Heading self-link"></a></h2><p>​ 默认情况下，Docsy 在每个文档页面底部放置一个"was this page helpful?&ldquo;的反馈小部件，如图1所示。</p><p><img alt="The user is presented with the text &lsquo;Was this page helpful?&rsquo; followed             by &lsquo;Yes&rsquo; and &lsquo;No&rsquo; buttons." src=AnalyticsUserFeedbackAndSEO_img/feedback.png></p><p>图1. 反馈小部件，用红线勾勒出来。</p><p>​ 点击"Yes"后，用户应该会看到类似图2的响应。您可以在项目的 <a href=https://gohugo.io/getting-started/configuration/#configuration-file>配置文件</a> <code>hugo.toml</code> 中<a href=https://t.is-local.org/zh-cn/docs/adding-content/feedback/#setup-1>配置</a>响应文本。</p><p><img alt="After clicking &lsquo;Yes&rsquo; the widget responds with &lsquo;Glad to hear it!             Please tell us how we can improve.&rsquo; and the second sentence is a link which,             when clicked, opens GitHub and lets the user create an issue on the             documentation repository." src=AnalyticsUserFeedbackAndSEO_img/yes.png></p><p>​ 图2. 一个"Yes"响应的示例。</p><h3 id=这些数据有什么用处>这些数据有什么用处？<a class=td-heading-self-link href=#%e8%bf%99%e4%ba%9b%e6%95%b0%e6%8d%ae%e6%9c%89%e4%bb%80%e4%b9%88%e7%94%a8%e5%a4%84 aria-label="Heading self-link"></a></h3><p>​ 当您有大量文档，且没有足够的时间更新所有文档时，您可以使用"was this page helpful?&rdquo; 的反馈数据来帮助您决定哪些页面需要优先考虑。通常，从访问量高且评级低的页面开始。在此上下文中，&ldquo;Low ratings"意味着用户更经常地点击<strong>No</strong>——页面不够有用——而不是<strong>Yes</strong>——页面有用。您还可以研究您评级高的页面，以制定关于为什么您的用户认为它们有用的假设。</p><p>​ 一般来说，如果可能的话，您可以在文档中引入孤立的更改，以更加确定用户喜欢或不喜欢的模式。例如，假设您发现一个教程不再匹配产品。您更新了说明，一个月后再次检查，分数已经提高。现在您有了最新说明和更高评分之间的相关性。或者，假设您研究了高评分页面，并发现它们都以代码示例开头。您找到另外10个代码示例在底部的页面，将示例移动到顶部，发现每个页面的分数都有所提高。由于这是您在每个页面上引入的唯一更改，因此更有理由相信您的用户发现页面顶部的代码示例有帮助。换句话说，这是将科学方法应用于技术写作！</p><h3 id=setup-设置>Setup 设置<a class=td-heading-self-link href=#setup-%e8%ae%be%e7%bd%ae aria-label="Heading self-link"></a></h3><ol><li><p>打开<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>。</p></li><li><p>确保启用了谷歌分析，<a href=https://t.is-local.org/zh-cn/docs/adding-content/feedback/#setup>如上所述</a>。</p></li><li><p>设置用户在点击<strong>Yes</strong>或<strong>No</strong>后看到的响应文本。</p><p>Configuration file:</p></li></ol><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
   params:
     ui:
       feedback:
         enable: true
         'yes': &gt;-
           Glad to hear it! Please &lt;a href=&quot;https://github.com/USERNAME/REPOSITORY/issues/new&quot;&gt;
           tell us how we can improve&lt;/a&gt;.        
         'no': &gt;-
           Sorry to hear that. Please &lt;a href=&quot;https://github.com/USERNAME/REPOSITORY/issues/new&quot;&gt;
           tell us how we can improve&lt;/a&gt;.  
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
   [params.ui.feedback]
   enable = true
   yes = 'Glad to hear it! Please &lt;a href=&quot;https://github.com/USERNAME/REPOSITORY/issues/new&quot;&gt;tell us how we can improve&lt;/a&gt;.'
   no = 'Sorry to hear that. Please &lt;a href=&quot;https://github.com/USERNAME/REPOSITORY/issues/new&quot;&gt;tell us how we can improve&lt;/a&gt;.'
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
   {
     &quot;params&quot;: {
       &quot;ui&quot;: {
         &quot;feedback&quot;: {
           &quot;enable&quot;: true,
           &quot;yes&quot;: &quot;Glad to hear it! Please &lt;a href=\&quot;https://github.com/USERNAME/REPOSITORY/issues/new\&quot;&gt; tell us how we can improve&lt;/a&gt;.&quot;,
           &quot;no&quot;: &quot;Sorry to hear that. Please &lt;a href=\&quot;https://github.com/USERNAME/REPOSITORY/issues/new\&quot;&gt; tell us how we can improve&lt;/a&gt;.&quot;
         }
       }
     }
   }
```
</code></pre><ol start=7><li>保存并关闭 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>。</li></ol><h3 id=访问反馈数据>访问反馈数据<a class=td-heading-self-link href=#%e8%ae%bf%e9%97%ae%e5%8f%8d%e9%a6%88%e6%95%b0%e6%8d%ae aria-label="Heading self-link"></a></h3><p>​ 本节假设您基本熟悉Google Analytics。例如，您应该知道如何检查某个时间范围内的页面浏览量，并在访问多个文档站点的情况下在帐户之间导航。</p><ol><li>打开 Google Analytics。</li><li>打开 <strong>Behavior</strong> > <strong>Events</strong> > <strong>Overview</strong>。</li><li>在<strong>Event Category</strong>表中点击 <strong>Helpful</strong> 行。如果看不到 <strong>Helpful</strong> 行，请点击<strong>view full report</strong>。</li><li>点击<strong>Event Label</strong>。现在您可以按页面对评级进行详细分类。</li></ol><p>​ 以下是这四列的含义：</p><ul><li><strong>Total Events</strong>是用户点击 <strong>Yes</strong> 或 <strong>No</strong> 的总次数。</li><li><strong>Unique Events</strong>提供了一个粗略的指标，用于指示用户在每个会话中评价您的页面的频率。例如，假设您的<strong>Total Events</strong>为5000，而<strong>Unique Events</strong>为2500。这意味着您有 2500 个用户每个会话对 2 个页面进行评级。</li><li><strong>Event Value</strong> 并不是非常有用。</li><li><strong>Avg. Value</strong> 是该页面的聚合评级。该值始终在 0 和 1 之间。当用户点击 <strong>No</strong> 时，会发送值 0 到 Google Analytics。当用户点击 <strong>Yes</strong> 时，会发送值 1。您可以将其视为百分比。如果某个页面的 <strong>Avg. Value</strong> 为 0.67，则表示有 67% 的用户点击了 <strong>Yes</strong>，33% 的用户点击了 <strong>No</strong>。</li></ul><p>​ 存储"was this page helpful?&ldquo;数据的基础 Google Analytics 基础架构称为<a href=https://developers.google.com/analytics/devguides/collection/analyticsjs/events>事件（Events）</a>。查看 <a href=https://github.com/google/docsy/pull/1/files>docsy pull request #1</a> 来了解用户单击 <strong>Yes</strong> 或 <strong>No</strong> 按钮时发生的确切事件。这只是一个<code>click</code>事件监听器，触发了 Google Analytics 的 JavaScript 函数来记录事件、禁用 <strong>Yes</strong> 和 <strong>No</strong> 按钮，并显示响应文本。</p><h3 id=在单个页面上禁用反馈>在单个页面上禁用反馈<a class=td-heading-self-link href=#%e5%9c%a8%e5%8d%95%e4%b8%aa%e9%a1%b5%e9%9d%a2%e4%b8%8a%e7%a6%81%e7%94%a8%e5%8f%8d%e9%a6%88 aria-label="Heading self-link"></a></h3><p>​ 在页面的前置元数据中添加 <code>hide_feedback</code> 参数并将其设置为 <code>true</code>。</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
hide_feedback: true
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
hide_feedback = true
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
    &quot;hide_feedback&quot;: true
}
```
</code></pre><h3 id=在所有页面上禁用反馈>在所有页面上禁用反馈<a class=td-heading-self-link href=#%e5%9c%a8%e6%89%80%e6%9c%89%e9%a1%b5%e9%9d%a2%e4%b8%8a%e7%a6%81%e7%94%a8%e5%8f%8d%e9%a6%88 aria-label="Heading self-link"></a></h3><p>​ 在 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中将 <code>params.ui.feedback.enable</code> 设置为 <code>false</code>：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  ui:
    feedback:
      enable: false
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.ui.feedback]
enable = false
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;ui&quot;: {
      &quot;feedback&quot;: {
        &quot;enable&quot;: false
      }
    }
  }
}
```
</code></pre><h2 id=使用-fabform-添加联系表单>使用 Fabform 添加联系表单<a class=td-heading-self-link href=#%e4%bd%bf%e7%94%a8-fabform-%e6%b7%bb%e5%8a%a0%e8%81%94%e7%b3%bb%e8%a1%a8%e5%8d%95 aria-label="Heading self-link"></a></h2><p>​ 您可以为您的站点创建一个联系表单，并在 <a href=https://fabform.io/>fabform.io</a> 上收集您的表单提交。要使用此功能，您首先需要在 Fabform 上注册一个帐户。以下示例显示如何将收集用户电子邮件地址的简单表单添加到您的站点源代码中：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>form</span> <span style=color:#c4a000>action</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://fabform.io/f/{form-id}&#34;</span> <span style=color:#c4a000>method</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;post&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>label</span> <span style=color:#c4a000>for</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;email&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Your Email<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>label</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;email&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;email&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>button</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;submit&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Submit<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>button</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>form</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p>​ 有关更多详细信息，请参见 Fabform 文档中的<a href=https://fabform.io/a/hugo-contact-form>添加 Hugo 联系表单</a>。</p><h2 id=搜索引擎优化元标签>搜索引擎优化元标签<a class=td-heading-self-link href=#%e6%90%9c%e7%b4%a2%e5%bc%95%e6%93%8e%e4%bc%98%e5%8c%96%e5%85%83%e6%a0%87%e7%ad%be aria-label="Heading self-link"></a></h2><p>​ 要了解如何优化您的站点以进行SEO，请参见<a href=https://developers.google.com/search/docs/beginner/seo-starter-guide>搜索引擎优化（SEO）入门指南</a>。</p><p>​ Google<a href="https://developers.google.com/search/docs/beginner/seo-starter-guide?hl=en%2F#descriptionmeta">建议</a>使用<code>description</code>元标签告诉搜索引擎您的页面内容。对于每个生成的页面，Docsy将使用以下第一个定义的内容来设置元<code>description</code>的内容：</p><ul><li>该页面<code>description</code><a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#page-frontmatter>前置元数据字段</a></li><li>对于非索引页面，由Hugo计算得出的页面<a href=https://gohugo.io/content-management/summaries/>摘要</a></li><li>从<a href=https://gohugo.io/variables/site/#the-siteparams-variable>站点参数</a>中获取的站点描述</li></ul><p>​ 有关用于执行此计算的模板代码，请参见layouts/partials/page-description.html。</p><p>​ 有关用于执行此计算的模板代码，请参见 <a href=https://github.com/google/docsy/blob/main/layouts/partials/page-description.html>layouts/partials/page-description.html</a>。</p><p>​ 根据需要向项目的 <code>head-end.html</code> partial 中添加更多的元标签。有关详情，请参见 <a href=https://t.is-local.org/zh-cn/docs/adding-content/lookandfeel/#customizing-templates>自定义模板</a>。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-18f03df0932b0815400e182f48ebfdec>9 - 代码库链接</h1><p>​ 帮助您的用户与您的源代码库进行交互。</p><p>​ Docsy <a href=https://t.is-local.org/zh-cn/docs/adding-content/content/#adding-docs-and-blog-posts>文档和博客布局</a> 包括让读者可以通过您的网站源代码仓库编辑页面或为您的文档或项目创建问题的链接。当前生成的每个文档或博客页面的链接如下：</p><ul><li><strong>View page source</strong>：将用户带到您的文档存储库中的页面源代码。</li><li><strong>Edit this page</strong>：将用户带到页面内容的可编辑版本，位于他们的文档库复刻中（如果有的话）。如果用户没有您的文档库的当前 fork，则在进行编辑之前，将邀请他们创建一个 fork。然后，用户可以为您的文档创建拉取请求。</li><li><strong>Create child page</strong>：将用户带到在他们的文档库 fork 中创建新文件的表单中。新文件将作为他们单击链接页面的子级位置。该表单将使用一个模板进行预填，用户可以编辑此模板以创建自己的页面。您可以通过将 <code>assets/stubs/new-page-template.md</code> 添加到您自己的项目中来更改此设置。</li><li><strong>Create documentation issue</strong>：将用户带到一个新的 issue 表单，在其中，当前页面的名称为该问题的标题。</li><li><strong>Create project issue</strong>（可选）：将用户带到项目仓库中的一个新的issue 表单。如果您有单独的项目和文档存储库，并且您的用户想要针对正在讨论的项目功能提交问题，而不是针对您的文档，那么这可能很有用。</li></ul><p>​ 此页面向您展示了如何配置这些链接。</p><p>​ 目前，Docsy仅支持GitHub存储库链接。由于GitLab可以处理相同的链接方案，因此也应该有效。如果您正在使用其他存储库（例如Bitbucket）并希望生成存储库链接，请随时 <a href=https://t.is-local.org/zh-cn/docs/contribution-guidelines/>添加功能请求或更新我们的主题</a>。</p><h2 id=链接配置>链接配置<a class=td-heading-self-link href=#%e9%93%be%e6%8e%a5%e9%85%8d%e7%bd%ae aria-label="Heading self-link"></a></h2><p>​ 在 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 文件中，有四个变量可以配置以设置链接，同时在您的页面元数据中也有一个变量可以配置。</p><h3 id=github_repo><code>github_repo</code><a class=td-heading-self-link href=#github_repo aria-label="Heading self-link"></a></h3><p>​ 您站点的源代码仓库的URL。此链接用于生成<strong>Edit this page</strong>、<strong>Create child page</strong>和<strong>Create documentation issue</strong>等链接。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
github_repo: 'https://github.com/google/docsy'

```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
github_repo = &quot;https://github.com/google/docsy&quot;

```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;github_repo&quot;: &quot;https://github.com/google/docsy&quot;
}

```
</code></pre><h3 id=github_subdir-可选><code>github_subdir</code> (可选)<a class=td-heading-self-link href=#github_subdir-%e5%8f%af%e9%80%89 aria-label="Heading self-link"></a></h3><p>​ 如果您的内容目录不在仓库的根目录中，请在此指定一个值。例如，此站点位于其仓库的 <code>userguide</code> 子目录中。设置此值意味着您的编辑链接将指向正确的页面。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
github_subdir: 'userguide'

```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
github_subdir = &quot;userguide&quot;

```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;github_subdir&quot;: &quot;userguide&quot;
}

```
</code></pre><h3 id=github_project_repo-可选><code>github_project_repo</code> (可选)<a class=td-heading-self-link href=#github_project_repo-%e5%8f%af%e9%80%89 aria-label="Heading self-link"></a></h3><p>​ 如果您有一个单独的项目仓库，希望您的用户能够从相关的文档中创建项目issues，请在此指定一个值。只有在设置了此项后，<strong>Create project issue</strong>链接才会显示。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
github_project_repo: 'https://github.com/google/docsy'

```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
github_project_repo = &quot;https://github.com/google/docsy&quot;

```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;github_project_repo&quot;: &quot;https://github.com/google/docsy&quot;
}

```
</code></pre><h3 id=github_branch-可选><code>github_branch</code> (可选)<a class=td-heading-self-link href=#github_branch-%e5%8f%af%e9%80%89 aria-label="Heading self-link"></a></h3><p>​ 如果您希望引用其他的 github 设置（如 <strong>Edit this page</strong>或 <strong>Create project issue</strong>）的不同分支，请在此指定一个值。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
github_branch: 'release'

```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
github_branch = &quot;release&quot;

```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;github_branch&quot;: &quot;release&quot;
}

```
</code></pre><h3 id=path_base_for_github_subdir-可选><code>path_base_for_github_subdir</code> (可选)<a class=td-heading-self-link href=#path_base_for_github_subdir-%e5%8f%af%e9%80%89 aria-label="Heading self-link"></a></h3><p>​ 假设 <code>content/some-section</code> 下的所有页面的源文件来自另一个仓库，例如<a href=https://git-scm.com/book/en/v2/Git-Tools-Submodules>git 子模块</a>。在该章节的索引页中添加以下设置，以便该章节中的所有页面的存储库链接均指向源 仓库：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: Some super section
cascade:
  github_repo: https://github.com/some-username/another-repo/
  github_subdir: docs
  path_base_for_github_subdir: content/some-section
…
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;Some super section&quot;
[cascade]
github_repo = &quot;https://github.com/some-username/another-repo/&quot;
github_subdir = &quot;docs&quot;
path_base_for_github_subdir = &quot;content/some-section&quot;
…
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;Some super section&quot;,
  &quot;cascade&quot;: {
    &quot;github_repo&quot;: &quot;https://github.com/some-username/another-repo/&quot;,
    &quot;github_subdir&quot;: &quot;docs&quot;,
    &quot;path_base_for_github_subdir&quot;: &quot;content/some-section&quot;
  }
}
```
</code></pre><p>​ 例如，考虑一个位于路径 <code>content/some-section/subpath/some-page.md</code> 的页面，全局 <code>github_branch</code> 设置为 <code>main</code>。上面的索引页面设置将为 <code>some-page.md</code> 生成以下编辑链接：</p><pre tabindex=0><code class=language-nocode data-lang=nocode>https://github.com/some-username/another-repo/edit/main/docs/subpath/some-page.md
</code></pre><p>​ 如果您只有一个来自另一个仓库的页面，请省略 <code>cascade</code> 键，并编写与上面所示相同的顶级设置。</p><p>​ 如果您希望用户也能在源仓库中创建项目问题，则还需设置 <code>github_project_repo</code>，例如：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#000>---</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>...</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>cascade</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>github_repo</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>&amp;repo</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>https://github.com/some-username/another-repo/</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>github_project_repo</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>*repo</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>...</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>---</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
…
cascade:
  github_repo: &amp;repo https://github.com/some-username/another-repo/
  github_project_repo: *repo
…
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
…
[cascade]
github_repo = &quot;https://github.com/some-username/another-repo/&quot;
github_project_repo = &quot;https://github.com/some-username/another-repo/&quot;
…
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;cascade&quot;: {
    &quot;github_repo&quot;: &quot;https://github.com/some-username/another-repo/&quot;,
    &quot;github_project_repo&quot;: &quot;https://github.com/some-username/another-repo/&quot;
  }
}
```
</code></pre><blockquote><p>提示</p><p>请注意，YAML 代码片段使用了 <a href=https://support.atlassian.com/bitbucket-cloud/docs/yaml-anchors/>YAML 锚点</a>。使用 YAML 锚点是可选的，但它有助于保持设置的 DRY（不重复自己）。</p></blockquote><p>​ <code>path_base_for_github_subdir</code> 设置是一个正则表达式，因此即使您的站点包含 <a href=https://t.is-local.org/zh-cn/docs/language/>多个语言</a>，您仍然可以使用它，例如：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
…
path_base_for_github_subdir: content/\w+/some-section
…
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
…
path_base_for_github_subdir = &quot;content/\w+/some-section&quot;
…
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
…
  &quot;path_base_for_github_subdir&quot;: &quot;content/\w+/some-section&quot;
…
}
```
</code></pre><p>​ 在某些情况下，页面来源于具有不同名称的文件，您可以指定 <code>from</code> 和 <code>to</code> 路径重命名设置。以下是一个例子，其中一个索引文件在来源仓库中命名为 <code>README.md</code>：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
…
github_repo: https://github.com/some-username/another-repo/
github_subdir: docs
path_base_for_github_subdir:
  from: content/some-section/(.*?)/_index.md
  to: $1/README.md
…
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
…
github_repo = &quot;https://github.com/some-username/another-repo/&quot;
github_subdir = &quot;docs&quot;

[path_base_for_github_subdir]
from = &quot;content/some-section/(.*?)/_index.md&quot;
to = &quot;$1/README.md&quot;
…
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  …
  &quot;github_repo&quot;: &quot;https://github.com/some-username/another-repo/&quot;,
  &quot;github_subdir&quot;: &quot;docs&quot;,
  &quot;path_base_for_github_subdir&quot;: {
    &quot;from&quot;: &quot;content/some-section/(.*?)/_index.md&quot;,
    &quot;to&quot;: &quot;$1/README.md&quot;
  },
  …
}
```
</code></pre><h3 id=github_url-可选><code>github_url</code> (可选)<a class=td-heading-self-link href=#github_url-%e5%8f%af%e9%80%89 aria-label="Heading self-link"></a></h3><blockquote><p>弃用说明</p><p>该设置已弃用。请改用 <a href=https://t.is-local.org/zh-cn/docs/adding-content/repository-links/#path_base_for_github_subdir-optional>path_base_for_github_subdir</a>。</p></blockquote><p>​ 在您的页面元数据中指定此值以设置此页面的特定编辑 URL，例如以下示例：</p><p>Front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
title: Some page
github_url: https://github.com/some-username/another-repo/edit/main/README.md
…
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
title = &quot;Some page&quot;
github_url = &quot;https://github.com/some-username/another-repo/edit/main/README.md&quot;
…
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;title&quot;: &quot;Some page&quot;,
  &quot;github_url&quot;: &quot;https://github.com/some-username/another-repo/edit/main/README.md&quot;,
  …
}
```
</code></pre><p>​ 如果您的页面源文件在多个 Git 存储库中，或需要非 GitHub URL，则可以使用此选项。使用此值的页面仅具有 <strong>Edit this page</strong> 链接。</p><h2 id=禁用链接>禁用链接<a class=td-heading-self-link href=#%e7%a6%81%e7%94%a8%e9%93%be%e6%8e%a5 aria-label="Heading self-link"></a></h2><p>​ 您可以使用 CSS 有选择性地禁用（隐藏）链接。例如，将以下内容添加到 <a href=https://t.is-local.org/zh-cn/docs/adding-content/lookandfeel/#project-style-files>项目的 <code>_styles_project.scss</code></a> 文件中，以从所有页面中隐藏 <strong>Create child page</strong> 链接：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scss data-lang=scss><span style=display:flex><span><span style=color:#000>.td-page-meta--child</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#c4a000>display</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#ce5c00>none</span> <span style=color:#204a87;font-weight:700>!important</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>​ 每种链接类型都有一个与之关联的唯一类名 <code>.td-page-meta--KIND</code>，如下表所定义：</p><table><thead><tr><th>链接类型</th><th>类名</th></tr></thead><tbody><tr><td>View page source</td><td><code>.td-page-meta--view</code></td></tr><tr><td>Edit this page</td><td><code>.td-page-meta--edit</code></td></tr><tr><td>Create child page</td><td><code>.td-page-meta--child</code></td></tr><tr><td>Create documentation issue</td><td><code>.td-page-meta--issue</code></td></tr><tr><td>Create project issue</td><td><code>.td-page-meta--project-issue</code></td></tr></tbody></table><p>​ 当然，您也可以使用这些类为您的项目为仓库链接提供独特的样式。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-a5c4e4ca066d558258b5c6d3b2ebd5f5>10 - 分类支持</h1><p>​ 使用标签、分类、标签结构等分类法来组织内容。</p><p><img alt=image-20230501090225944 src=TaxonomySupport_img/image-20230501090225944.png></p><p>​ Docsy支持Hugo的分类法（参见：<a href=https://gohugo.io/content-management/taxonomies/>https://gohugo.io/content-management/taxonomies/</a>）用于文档和博客章节。您可以在此页面上查看默认布局，并测试生成的链接行为。</p><h2 id=terminology-术语>Terminology 术语<a class=td-heading-self-link href=#terminology-%e6%9c%af%e8%af%ad aria-label="Heading self-link"></a></h2><p>​ 要理解分类法的用法，您应理解以下术语：</p><ul><li><p>Taxonomy 分类法</p><p>可用于对内容进行分类的类别，例如：标签、分类、项目、人员。</p></li><li><p>Term 条目</p><p>分类法内的关键词，例如：在项目中：项目A、项目B。</p></li><li><p>Value 值</p><p>分配给条目的内容，例如：您站点上的页面，它属于特定的项目</p></li></ul><p>​ 在官方Hugo文档中可以找到一个电影站点的分类法示例：<a href=https://gohugo.io/content-management/taxonomies/#example-taxonomy-movie-website>https://gohugo.io/content-management/taxonomies/#example-taxonomy-movie-website</a>。</p><h2 id=参数>参数<a class=td-heading-self-link href=#%e5%8f%82%e6%95%b0 aria-label="Heading self-link"></a></h2><p>​ 有各种参数来控制项目<a href=https://gohugo.io/getting-started/configuration/#configuration-file>配置文件</a>中分类法的功能。</p><p>​ 默认情况下，Hugo 中启用<code>tags</code>和<code>categories</code>的分类法（参见：<a href=https://gohugo.io/content-management/taxonomies/#default-taxonomies>https://gohugo.io/content-management/taxonomies/#default-taxonomies</a>）。在 Docsy 中，默认情况下在 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中禁用分类法：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
disableKinds:
  - taxonomy
  - taxonomyTerm

```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
disableKinds = [&quot;taxonomy&quot;, &quot;taxonomyTerm&quot;]

```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;disableKinds&quot;: [
    &quot;taxonomy&quot;,
    &quot;taxonomyTerm&quot;
  ]
}

```
</code></pre><p>​ 如果你想在Docsy中启用分类法，你需要在你的项目的 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 文件中删除（或注释掉）这一行。然后Hugo将生成 <code>tags</code> 和 <code>categories</code> 的分类法页面。如果你想使用其他分类法，你需要在你的<a href=https://gohugo.io/getting-started/configuration/#configuration-file>配置文件</a>中定义它们。如果你想同时使用自己的分类法和默认的 <code>tags</code> 和 <code>categories</code> 分类法，你还需要除了你自己的分类法外定义它们。你需要为每个分类法提供复数和单数标签。</p><p>​ 通过以下示例，你可以定义一个名为 <code>projects</code> 的额外分类法，除了默认的 <code>tags</code> 和 <code>categories</code> 分类法之外：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
taxonomies:
  tag: tags
  category: categories
  project: projects
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[taxonomies]
tag = &quot;tags&quot;
category = &quot;categories&quot;
project = &quot;projects&quot;
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;taxonomies&quot;: {
    &quot;tag&quot;: &quot;tags&quot;,
    &quot;category&quot;: &quot;categories&quot;,
    &quot;project&quot;: &quot;projects&quot;
  }
}
```
</code></pre><p>​ 你可以在你项目的 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中使用以下参数来控制在Docsy中为每篇文章或页面分配的分类法条目的输出，或在Docsy的右侧边栏中显示"标签云"：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  taxonomy:
    taxonomyCloud:
      - projects    # remove all entries
      - tags        # to hide taxonomy clouds
    taxonomyCloudTitle:   # if used, must have the same
      - Our Projects      # number of entries as taxonomyCloud
      - Tag Cloud
    taxonomyPageHeader:
      - tags        # remove all entries
      - categories  # to hide taxonomy clouds
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.taxonomy]
taxonomyCloud = [&quot;projects&quot;, &quot;tags&quot;] # set taxonomyCloud = [] to hide taxonomy clouds
taxonomyCloudTitle = [&quot;Our Projects&quot;, &quot;Tag Cloud&quot;] # if used, must have same length as taxonomyCloud
taxonomyPageHeader = [&quot;tags&quot;, &quot;categories&quot;] # set taxonomyPageHeader = [] to hide taxonomies on the page headers
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;taxonomy&quot;: {
      &quot;taxonomyCloud&quot;: [
        &quot;projects&quot;,
        &quot;tags&quot;
      ],
      &quot;taxonomyCloudTitle&quot;: [
        &quot;Our Projects&quot;,
        &quot;Tag Cloud&quot;
      ],
      &quot;taxonomyPageHeader&quot;: [
        &quot;tags&quot;,
        &quot;categories&quot;
      ]
    }
  }
}
```
</code></pre><p>​ 以上设置仅在Docsy的右侧边栏中显示 <code>projects</code> 和 <code>tags</code> 的分类法云（分别带有"Our Projects"和"Tag Cloud"标题），以及每个页面的分类法 <code>tags</code> 和 <code>categories</code> 的分配条目。</p><p>​ 要禁用任何分类法云，你需要设置参数 <code>taxonomyCloud = []</code>。如果你不想显示分配的条目，你需要设置 <code>taxonomyPageHeader = []</code>。</p><p>​ 默认情况下，一个分类法的复数标签被用作云标题。你可以使用 <code>taxonomyCloudTitle</code> 覆盖默认的云标题。但是如果你这样做了，你必须为每个启用的分类法云定义一个手动标题（<code>taxonomyCloud</code> 和 <code>taxonomyCloudTitle</code> 必须具有相同的长度！）。</p><p>​ 如果您没有设置参数 <code>taxonomyCloud</code> 或 <code>taxonomyPageHeader</code>，则会生成所有定义的分类法的分类云或分配术语。</p><h2 id=partials-局部>Partials 局部<a class=td-heading-self-link href=#partials-%e5%b1%80%e9%83%a8 aria-label="Heading self-link"></a></h2><p>​ 默认使用的partials用于显示分类法，因此定义它们时您应该也能够在自己的布局中轻松使用它们。</p><h3 id=taxonomy_terms_article>taxonomy_terms_article<a class=td-heading-self-link href=#taxonomy_terms_article aria-label="Heading self-link"></a></h3><p>​ partial <code>taxonomy_terms_article</code> 显示给定文章或页面的给定分类法（partial参数 <code>taxo</code>）的所有分配术语（partial参数 <code>context</code>，大多数情况下是当前页面或上下文 <code>.</code>）。</p><p>​ 在 <code>layouts/docs/list.html</code> 中示例用法，用于文档章节中每个页面的标题：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>$context</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>:=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#c4a000>.</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>}}</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>range</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>$taxo</span><span style=color:#ce5c00;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>$taxo_map</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>:=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#c4a000>.Site.Taxonomies</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>}}</span>
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>{{</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>partial</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;taxonomy_terms_article.html&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>dict</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;context&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>$context</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;taxo&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>$taxo</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>}}</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>end</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>}}</span>
</span></span></code></pre></div><p>​ 对于当前页面（或上下文（resp. context））中定义的每个分类法，这将为您提供一个列出所有已分配术语的列表：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy taxonomy-terms-article taxo-categories&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>h5</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-title&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Categories:<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>h5</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>ul</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-terms&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-term&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;//localhost:1313/categories/taxonomies/&#34;</span> <span style=color:#c4a000>data-taxonomy-term</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomies&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-label&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Taxonomies<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>ul</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy taxonomy-terms-article taxo-tags&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>h5</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-title&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Tags:<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>h5</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>ul</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-terms&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-term&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;//localhost:1313/tags/tagging/&#34;</span> <span style=color:#c4a000>data-taxonomy-term</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;tagging&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-label&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Tagging<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-term&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;//localhost:1313/tags/structuring-content/&#34;</span> <span style=color:#c4a000>data-taxonomy-term</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;structuring-content&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-label&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Structuring Content<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-term&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;//localhost:1313/tags/labelling/&#34;</span> <span style=color:#c4a000>data-taxonomy-term</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;labelling&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-label&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Labelling<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>ul</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><h3 id=taxonomy_terms_article_wrapper>taxonomy_terms_article_wrapper<a class=td-heading-self-link href=#taxonomy_terms_article_wrapper aria-label="Heading self-link"></a></h3><p>​ partial <code>taxonomy_terms_article_wrapper</code> 是部分 <code>taxonomy_terms_article</code> 的包装器，仅带有参数 <code>context</code>（大多数情况下是当前页面或上下文（context ） <code>.</code>），并检查您的项目的 <code>hugo.toml</code> / <code>hugo.yaml</code> / <code>hugo.json</code> 的分类法参数，以循环遍历参数 <code>taxonomyPageHeader</code> 的所有列出的分类法或页面的所有定义的分类法，如果未设置 <code>taxonomyPageHeader</code>。</p><h3 id=taxonomy_terms_cloud>taxonomy_terms_cloud<a class=td-heading-self-link href=#taxonomy_terms_cloud aria-label="Heading self-link"></a></h3><p>​ partial <code>taxonomy_terms_cloud</code> 显示站点（部分参数 <code>context</code>，大多数情况下是当前页面或上下文 <code>.</code>）给定分类法（partial 参数 <code>taxo</code>）的所有使用术语，并使用参数 <code>title</code> 作为标题。</p><p>​ 在partial <code>taxonomy_terms_clouds</code> 中示例用法，用于显示所有定义的分类法及其术语：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>$context</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>:=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#c4a000>.</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>}}</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>range</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>$taxo</span><span style=color:#ce5c00;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>$taxo_map</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>:=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#c4a000>.Site.Taxonomies</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>}}</span>
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>{{</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>partial</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;taxonomy_terms_cloud.html&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>dict</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;context&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>$context</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;taxo&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>$taxo</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;title&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>humanize</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>$taxo</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>}}</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>end</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>}}</span>
</span></span></code></pre></div><p>​ 例如，这将为分类法 <code>categories</code> 提供以下 HTML 标记：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy taxonomy-terms-cloud taxo-categories&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>h5</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-title&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Cloud of Categories<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>h5</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>ul</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-terms&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-term&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;//localhost:1313/categories/category-1/&#34;</span> <span style=color:#c4a000>data-taxonomy-term</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;category-1&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-label&#34;</span><span style=color:#000;font-weight:700>&gt;</span>category 1<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-count&#34;</span><span style=color:#000;font-weight:700>&gt;</span>3<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-term&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;//localhost:1313/categories/category-2/&#34;</span> <span style=color:#c4a000>data-taxonomy-term</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;category-2&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-label&#34;</span><span style=color:#000;font-weight:700>&gt;</span>category 2<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-count&#34;</span><span style=color:#000;font-weight:700>&gt;</span>1<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-term&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;//localhost:1313/categories/category-3/&#34;</span> <span style=color:#c4a000>data-taxonomy-term</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;category-3&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-label&#34;</span><span style=color:#000;font-weight:700>&gt;</span>category 3<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-count&#34;</span><span style=color:#000;font-weight:700>&gt;</span>2<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-term&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;//localhost:1313/categories/category-4/&#34;</span> <span style=color:#c4a000>data-taxonomy-term</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;category-4&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-label&#34;</span><span style=color:#000;font-weight:700>&gt;</span>category 4<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;taxonomy-count&#34;</span><span style=color:#000;font-weight:700>&gt;</span>6<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>ul</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><h3 id=taxonomy_terms_clouds>taxonomy_terms_clouds<a class=td-heading-self-link href=#taxonomy_terms_clouds aria-label="Heading self-link"></a></h3><p>​ partial <code>taxonomy_terms_clouds</code> 是partial <code>taxonomy_terms_cloud</code> 的包装器，仅带有参数 <code>context</code>（大多数情况下是当前页面或上下文 <code>.</code>），并检查您的项目的 <code>hugo.toml</code> / <code>hugo.yaml</code> / <code>hugo.json</code> 的分类法参数，以循环遍历参数 <code>taxonomyCloud</code> 的所有列出的分类法或页面的所有定义的分类法，如果未设置 <code>taxonomyCloud</code>。</p><h2 id=分类法的多语言支持>分类法的多语言支持<a class=td-heading-self-link href=#%e5%88%86%e7%b1%bb%e6%b3%95%e7%9a%84%e5%a4%9a%e8%af%ad%e8%a8%80%e6%94%af%e6%8c%81 aria-label="Heading self-link"></a></h2><p>​ 与分类法条目相关的内容只在相同语言内进行计数和链接！分类法支持的控制参数也可以分配给特定的语言。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-1e805606666d2b0ed8f8c934469e6fb8>11 - 图表和公式</h1><p>​ 在您的站点中添加生成的图表和科学公式。</p><p>​ Docsy内置支持多个图表创建和排版工具，您可以使用这些工具向您的站点添加丰富的内容，包括KaTeX、Mermaid、Diagrams.net、PlantUML和MarkMap。</p><h2 id=使用-katex-支持-latex>使用 KaTeX 支持 LaTeX<a class=td-heading-self-link href=#%e4%bd%bf%e7%94%a8-katex-%e6%94%af%e6%8c%81-latex aria-label="Heading self-link"></a></h2><p>​ <a href=https://www.latex-project.org/>LaTeX</a>是一种高质量的排版系统，用于制作技术和科学文档。由于其出色的数学排版能力，TeX成为了科学文档的沟通和出版的事实标准，特别是如果这些文档包含大量数学公式。LaTeX由Donald Knuth设计和主要编写，最初的版本于1978年发布。由于其起始时间很早，LaTeX的主要输出目标是<code>pdf</code>，并不特别适合生成Web的HTML输出。幸运的是，有一个快速易用的JavaScript库，即<a href=https://katex.org/> KaTeX</a>，可以用于在Web上呈现TeX数学公式，它已经集成到Docsy主题中。</p><p>​ 通过在Docsy中<a href=https://t.is-local.org/zh-cn/docs/adding-content/diagrams-and-formulae/#activating-and-configuring-katex-support>启用</a>KaTeX支持，您可以将复杂的数学公式嵌入到网页中，以行内或独立的方式居中显示。由于KaTeX依赖于服务器端渲染，因此它会生成相同的输出，无论您的浏览器或环境如何。公式可以以行内或显示模式显示：</p><h3 id=内联公式>内联公式<a class=td-heading-self-link href=#%e5%86%85%e8%81%94%e5%85%ac%e5%bc%8f aria-label="Heading self-link"></a></h3><p>​ 以下代码示例生成一个带有三个内联公式的文本行：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tex data-lang=tex><span style=display:flex><span>When <span style=color:#204a87;font-weight:700>\\</span>(a <span style=color:#204a87;font-weight:700>\ne</span> 0<span style=color:#204a87;font-weight:700>\\</span>), there are two solutions to <span style=color:#204a87;font-weight:700>\\</span>(ax<span style=color:#204a87>^</span>2 + bx + c= 0<span style=color:#204a87;font-weight:700>\\</span>) and they are <span style=color:#204a87;font-weight:700>\\</span>(x = <span style=color:#204a87>{</span>-b <span style=color:#204a87;font-weight:700>\pm</span> <span style=color:#204a87;font-weight:700>\sqrt</span><span style=color:#204a87>{</span>b<span style=color:#204a87>^</span>2-4ac<span style=color:#204a87>}</span> <span style=color:#204a87;font-weight:700>\over</span> 2a<span style=color:#204a87>}</span><span style=color:#204a87;font-weight:700>\\</span>).
</span></span></code></pre></div><p><img alt=image-20230501101438759 src=DiagramsAndFormulae_img/image-20230501101438759.png></p><h3 id=显示模式的公式>显示模式的公式<a class=td-heading-self-link href=#%e6%98%be%e7%a4%ba%e6%a8%a1%e5%bc%8f%e7%9a%84%e5%85%ac%e5%bc%8f aria-label="Heading self-link"></a></h3><p>​ 以下代码示例生成一个介绍性文本行，后跟一个编号为<code>(1)</code>的单独行上的公式：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>The probability of getting \\(k\\) heads when flipping \\(n\\) coins is:
</span></span><span style=display:flex><span><span style=color:#4e9a06>```math
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>\tag*{(1)} P(E) = {n \choose k} p^k (1-p)^{n-k}
</span></span><span style=display:flex><span><span style=color:#4e9a06>```</span>
</span></span></code></pre></div><p>​ 该公式本身写在 <a href=https://docs.gitlab.com/ee/user/markdown.html#math>GLFM 数学块</a>中。上面的代码片段渲染为：</p><p><img alt=image-20230502153945142 src=DiagramsAndFormulae_img/image-20230502153945142.png></p><blockquote><p>警告</p><p>​ <code>math</code> 代码块仅在 Hugo 版本 0.93 及以上版本中受支持。</p><p>​ 在 Hugo 版本 0.92 或更低版本的情况下，请使用此代码段显示公式：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tex data-lang=tex><span style=display:flex><span><span style=color:#4e9a06>$$</span><span style=color:#204a87>
</span></span></span><span style=display:flex><span><span style=color:#204a87></span><span style=color:#000>\tag</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#204a87>{</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>)</span><span style=color:#204a87>} P</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87>E</span><span style=color:#ce5c00;font-weight:700>)</span><span style=color:#204a87> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87> {n </span><span style=color:#000>\choose</span><span style=color:#204a87> k} p^k </span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#204a87>p</span><span style=color:#ce5c00;font-weight:700>)</span><span style=color:#204a87>^{n</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#204a87>k}
</span></span></span><span style=display:flex><span><span style=color:#204a87></span><span style=color:#4e9a06>$$</span>
</span></span></code></pre></div></blockquote><blockquote><p>提示</p><p>​ 这个<a href=https://en.wikibooks.org/wiki/LaTeX/Mathematics>维基页面</a>提供了有关使用 LaTeX 排版系统排版数学公式的详细信息。</p></blockquote><h3 id=激活和配置-katex-支持>激活和配置 KaTeX 支持<a class=td-heading-self-link href=#%e6%bf%80%e6%b4%bb%e5%92%8c%e9%85%8d%e7%bd%ae-katex-%e6%94%af%e6%8c%81 aria-label="Heading self-link"></a></h3><h4 id=自动激活>自动激活<a class=td-heading-self-link href=#%e8%87%aa%e5%8a%a8%e6%bf%80%e6%b4%bb aria-label="Heading self-link"></a></h4><p>​ 只要在页面上使用 <code>math</code> 代码块，KaTeX 支持就会自动启用。</p><h4 id=手动激活没有-math-代码块存在或使用的是-hugo-092-或更低版本>手动激活（没有 <code>math</code> 代码块存在或使用的是 hugo 0.92 或更低版本）<a class=td-heading-self-link href=#%e6%89%8b%e5%8a%a8%e6%bf%80%e6%b4%bb%e6%b2%a1%e6%9c%89-math-%e4%bb%a3%e7%a0%81%e5%9d%97%e5%ad%98%e5%9c%a8%e6%88%96%e4%bd%bf%e7%94%a8%e7%9a%84%e6%98%af-hugo-092-%e6%88%96%e6%9b%b4%e4%bd%8e%e7%89%88%e6%9c%ac aria-label="Heading self-link"></a></h4><p>​ 如果你想使用内联公式，并且在页面上没有 <code>math</code> 代码块触发自动激活，那么你需要手动激活 KaTeX 支持。最简单的方法是在页面的前置元数据中添加一个 <code>math</code> 属性，并将其设置为 <code>true</code>：</p><p>Page front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
math: true
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
math = true
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;math&quot;: true
}
```
</code></pre><p>​ 如果你在大多数页面中使用公式，你也可以在 Docsy 主题中启用站点范围的 KaTeX 支持。要这样做，请更新 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>：</p><p>Site configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  katex:
    enable: true
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.katex]
enable = true
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;katex&quot;: {
      &quot;enable&quot;: true
    }
  }
}
```
</code></pre><p>​ 此外，如果需要，还可以在 <code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code> 中自定义各种 KaTeX 选项：</p><p>Site configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  katex:
    enable: true  # enable/disable KaTeX support
    html_dom_element: document.body  # Element(s) scanned by auto render extension. Default: document.body
    options:

      # If true (the default), KaTeX will throw a ParseError when it encounters an
      # unsupported command or invalid LaTeX. If false, KaTeX will render unsupported
      # commands as text, and render invalid LaTeX as its source code with hover text
      # giving the error, in the color given by errorColor.
      throwOnError: false
      errorColor: '#CD5C5C'

      # This is a list of delimiters to look for math, processed in the same order as
      # the list. Each delimiter has three properties:
      #   left:    A string which starts the math expression (i.e. the left delimiter).
      #   right:   A string which ends the math expression (i.e. the right delimiter).
      #   display: Whether math in the expression should be rendered in display mode.
      delimiters:
        - left: $$
          right: $$
          display: true
        - left: $
          right: $
          display: false
        - left: \(
          right: \)
          display: false
        - left: \[
          right: \]
          display: true
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.katex]
# enable/disable KaTeX support
enable = true
# Element(s) scanned by auto render extension. Default: document.body
html_dom_element = &quot;document.body&quot;

[params.katex.options]
# If true (the default), KaTeX will throw a ParseError when it encounters an
# unsupported command or invalid LaTeX. If false, KaTeX will render unsupported
# commands as text, and render invalid LaTeX as its source code with hover text
# giving the error, in the color given by errorColor.
throwOnError = false
errorColor = &quot;#CD5C5C&quot;

# This is a list of delimiters to look for math, processed in the same order as
# the list. Each delimiter has three properties:
#   left:    A string which starts the math expression (i.e. the left delimiter).
#   right:   A string which ends the math expression (i.e. the right delimiter).
#   display: Whether math in the expression should be rendered in display mode.
[[params.katex.options.delimiters]]
  left = &quot;$$&quot;
  right = &quot;$$&quot;
  display = true
[[params.katex.options.delimiters]]
  left = &quot;$&quot;
  right = &quot;$&quot;
  display = false
[[params.katex.options.delimiters]]
  left = &quot;\\(&quot;
  right = &quot;\\)&quot;
  display = false
[[params.katex.options.delimiters]]
  left = &quot;\\[&quot;
  right = &quot;\\]&quot;
  display = true
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;katex&quot;: {
      &quot;enable&quot;: true,
      &quot;html_dom_element&quot;: &quot;document.body&quot;,
      &quot;options&quot;: {
        &quot;throwOnError&quot;: false,
        &quot;errorColor&quot;: &quot;#CD5C5C&quot;,
        &quot;delimiters&quot;: [
          {
            &quot;left&quot;: &quot;$$&quot;,
            &quot;right&quot;: &quot;$$&quot;,
            &quot;display&quot;: true
          },
          {
            &quot;left&quot;: &quot;$&quot;,
            &quot;right&quot;: &quot;$&quot;,
            &quot;display&quot;: false
          },
          {
            &quot;left&quot;: &quot;\\(&quot;,
            &quot;right&quot;: &quot;\\)&quot;,
            &quot;display&quot;: false
          },
          {
            &quot;left&quot;: &quot;\\[&quot;,
            &quot;right&quot;: &quot;\\]&quot;,
            &quot;display&quot;: true
          }
        ]
      }
    }
  }
}
```
</code></pre><p>​ 完整的选项列表及其详细描述，请查看 KaTeX 的 <a href=https://katex.org/docs/autorender.html#api>Rendering API options</a> 和 <a href=https://katex.org/docs/options.html>configuration options</a> 文档。</p><h3 id=化学方程式和物理单位的显示>化学方程式和物理单位的显示<a class=td-heading-self-link href=#%e5%8c%96%e5%ad%a6%e6%96%b9%e7%a8%8b%e5%bc%8f%e5%92%8c%e7%89%a9%e7%90%86%e5%8d%95%e4%bd%8d%e7%9a%84%e6%98%be%e7%a4%ba aria-label="Heading self-link"></a></h3><p>​ <a href=https://www.ctan.org/pkg/mhchem>mhchem</a> 是一个 LaTeX 包，用于排版化学分子式和方程式。幸运的是，KaTeX 提供了 <code>mhchem</code> <a href=https://github.com/KaTeX/KaTeX/tree/main/contrib/mhchem>扩展</a>，使得在编写 web 内容时能够使用 <code>mhchem</code> 包。<a href=https://t.is-local.org/zh-cn/docs/adding-content/diagrams-and-formulae/#activating-rendering-support-for-chemical-formulae>启用</a> <code>mhchem</code> 扩展后，您可以轻松地将化学方程式包含在您的页面中，方程式可以以行内或独立行的形式显示。以下代码示例生成一个包含化学方程式的文本行：</p><pre tabindex=0><code class=language-mhchem data-lang=mhchem>*Precipitation of barium sulfate:* \\(\ce{SO4^2- + Ba^2+ -&gt; BaSO4 v}\\)
</code></pre><p><img alt=image-20230501101725979 src=DiagramsAndFormulae_img/image-20230501101725979.png></p><p>硫酸钡的沉淀：</p><p>​ 更复杂的方程式需要单独占据一行。使用附有 <code>chem</code> 的代码块即可实现此目的：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span><span style=color:#4e9a06>```chem
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>\tag*{(2)} \ce{Zn^2+  &lt;=&gt;[+ 2OH-][+ 2H+]  $\underset{\text{amphoteric hydroxide}}{\ce{Zn(OH)2 v}}$  &lt;=&gt;[+ 2OH-][+ 2H+]  $\underset{\text{tetrahydroxozincate}}{\ce{[Zn(OH)4]^2-}}$}
</span></span><span style=display:flex><span><span style=color:#4e9a06>```</span>
</span></span></code></pre></div><p><img alt=image-20230501091706760 src=DiagramsAndFormulae_img/image-20230501091706760.png></p><blockquote><p>Warning</p><p>​ <code>chem</code> 代码块仅在 Hugo 版本 0.93 及以上版本中受支持。</p><p>​ 在 hugo 版本 0.92 或更低版本中，使用此代码片段来显示公式：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tex data-lang=tex><span style=display:flex><span><span style=color:#4e9a06>$$</span><span style=color:#204a87>
</span></span></span><span style=display:flex><span><span style=color:#204a87></span><span style=color:#000>\tag</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#204a87>{</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#ce5c00;font-weight:700>)</span><span style=color:#204a87>} </span><span style=color:#000>\ce</span><span style=color:#204a87>{Zn^</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#204a87>  &lt;</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>&gt;</span><span style=color:#ce5c00;font-weight:700>[+</span><span style=color:#204a87> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#204a87>OH</span><span style=color:#ce5c00;font-weight:700>-][+</span><span style=color:#204a87> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#204a87>H</span><span style=color:#ce5c00;font-weight:700>+]</span><span style=color:#204a87>  $</span><span style=color:#000>\underset</span><span style=color:#204a87>{</span><span style=color:#000>\text</span><span style=color:#204a87>{amphoteric hydroxide}}{</span><span style=color:#000>\ce</span><span style=color:#204a87>{Zn</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87>OH</span><span style=color:#ce5c00;font-weight:700>)</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#204a87> v}}$  &lt;</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>&gt;</span><span style=color:#ce5c00;font-weight:700>[+</span><span style=color:#204a87> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#204a87>OH</span><span style=color:#ce5c00;font-weight:700>-][+</span><span style=color:#204a87> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#204a87>H</span><span style=color:#ce5c00;font-weight:700>+]</span><span style=color:#204a87>  $</span><span style=color:#000>\underset</span><span style=color:#204a87>{</span><span style=color:#000>\text</span><span style=color:#204a87>{tetrahydroxozincate}}{</span><span style=color:#000>\ce</span><span style=color:#204a87>{</span><span style=color:#ce5c00;font-weight:700>[</span><span style=color:#204a87>Zn</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87>OH</span><span style=color:#ce5c00;font-weight:700>)</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#ce5c00;font-weight:700>]</span><span style=color:#204a87>^</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#204a87>}}$}
</span></span></span><span style=display:flex><span><span style=color:#204a87></span><span style=color:#4e9a06>$$</span>
</span></span></code></pre></div></blockquote><blockquote><p>Note</p><p><a href=https://mhchem.github.io/MathJax-mhchem/>mchem 的手册</a> 提供了使用 <code>mhchem</code> 工具排版化学式和物理单位的输入语法的详细信息。</p></blockquote><p>​ 使用 <code>mhchem</code> 并不仅限于编写化学方程式，通过包含的 <code>\pu</code> 命令，也可以轻松地编写漂亮的物理单位。下面的代码示例生成了两行带有四个数字及其对应物理单位的文本：</p><pre tabindex=0><code class=language-mhchem data-lang=mhchem>* Scientific number notation: \\(\pu{1.2e3 kJ}\\) or \\(\pu{1.2E3 kJ}\\) \\
* Divisions: \\(\pu{123 kJ/mol}\\) or \\(\pu{123 kJ//mol}\\)
</code></pre><p><img alt=image-20230501101828598 src=DiagramsAndFormulae_img/image-20230501101828598.png></p><p>​ 要查看有关编写物理单位的所有选项，请查看 <code>mhchem</code> 文档中的 <a href=https://mhchem.github.io/MathJax-mhchem/#pu>物理单位章节</a>。</p><h4 id=激活化学公式的渲染支持>激活化学公式的渲染支持<a class=td-heading-self-link href=#%e6%bf%80%e6%b4%bb%e5%8c%96%e5%ad%a6%e5%85%ac%e5%bc%8f%e7%9a%84%e6%b8%b2%e6%9f%93%e6%94%af%e6%8c%81 aria-label="Heading self-link"></a></h4><h5 id=自动激活-1>自动激活<a class=td-heading-self-link href=#%e8%87%aa%e5%8a%a8%e6%bf%80%e6%b4%bb-1 aria-label="Heading self-link"></a></h5><p>​ 只要在页面上使用了 <code>chem</code> 代码块，就会自动启用化学公式的渲染支持。</p><h5 id=手动激活没有-chem-代码块存在或使用的是-hugo-092-或更低版本>手动激活（没有 <code>chem</code> 代码块存在或使用的是 hugo 0.92 或更低版本）<a class=td-heading-self-link href=#%e6%89%8b%e5%8a%a8%e6%bf%80%e6%b4%bb%e6%b2%a1%e6%9c%89-chem-%e4%bb%a3%e7%a0%81%e5%9d%97%e5%ad%98%e5%9c%a8%e6%88%96%e4%bd%bf%e7%94%a8%e7%9a%84%e6%98%af-hugo-092-%e6%88%96%e6%9b%b4%e4%bd%8e%e7%89%88%e6%9c%ac aria-label="Heading self-link"></a></h5><p>​ 如果您想在内联中使用化学公式，并且在您的页面中没有触发自动激活的 <code>chem</code> 代码块，您需要手动激活化学公式的渲染支持。最简单的方法是在页面的前置元数据中添加一个 <code>chem</code> 属性并将其设置为 <code>true</code>：</p><p>Page front matter:</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>```yaml
---
chem: true
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>```toml
+++
chem = true
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>```json
{
  &quot;chem&quot;: true
}
```
</code></pre><p>​ 如果您在大多数页面中使用公式，也可以在 Docsy 主题中启用站点范围的化学公式渲染支持。为此，请在 <code>hugo.toml</code> / <code>hugo.yaml</code> / <code>hugo.json</code> 中启用 <code>mhchem</code>：</p><p>Site configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  katex:
    enable: true
    mhchem:
      enable: true
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.katex]
enable = true

[params.katex.mhchem]
enable = true
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;katex&quot;: {
      &quot;enable&quot;: true,
      &quot;mhchem&quot;: {
        &quot;enable&quot;: true
      }
    }
  }
}
```
</code></pre><h2 id=使用-mermaid-绘制图表>使用 Mermaid 绘制图表<a class=td-heading-self-link href=#%e4%bd%bf%e7%94%a8-mermaid-%e7%bb%98%e5%88%b6%e5%9b%be%e8%a1%a8 aria-label="Heading self-link"></a></h2><p>​ <a href=https://mermaid-js.github.io/>Mermaid</a> 是一个用于在浏览器中将简单文本定义转换为有用图表的 JavaScript 库。它可以生成各种不同类型的图表，包括流程图、时序图、类图、状态图、ER 图、用户旅程图、甘特图和饼图。</p><p>​ 在 Docsy 中启用 Mermaid 支持后，您可以在代码块中包含 Mermaid 图表的文本定义，并在页面加载后自动在浏览器中渲染它。</p><p>​ 这样做的巨大优势在于，任何可以编辑页面的人现在都可以编辑图表——不再需要寻找原始工具和版本来进行新的编辑。</p><p>​ 例如，以下定义了一个简单的流程图：</p><pre tabindex=0><code>```mermaid
graph TD
  Start --&gt; Need{&#34;Hugo version &gt;= 0.93.0&#34;}
  Need -- No --&gt; Off[&#34;Set params.mermaid.enable = true&#34;]
  Off --&gt; Author
  Need -- Yes --&gt; Author[Insert mermaid codeblock]
```
</code></pre><p>自动渲染为：</p><p><img alt=image-20230501101917462 src=DiagramsAndFormulae_img/image-20230501101917462.png></p><p>​ 使用hugo版本0.93或更高版本时，只要在页面上使用<code>mermaid</code>代码块，就会自动启用Mermaid图表的支持。</p><p>​ 如果使用的是hugo版本0.92或更低版本，则需要通过更新<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>来手动启用Mermaid。</p><p>Hugo version &lt;= 0.92 only:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  mermaid:
    enable: true
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.mermaid]
enable = true
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;mermaid&quot;: {
      &quot;enable&quot;: true
    }
  }
}
```
</code></pre><p>​ 如果需要，您可以在<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>中定义自定义设置，例如主题、填充等。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  mermaid:
    theme: neutral
    flowchart:
      diagramPadding: 6
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.mermaid]
theme = &quot;neutral&quot;

[params.mermaid.flowchart]
diagramPadding = 6
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;mermaid&quot;: {
      &quot;theme&quot;: &quot;neutral&quot;,
      &quot;flowchart&quot;: {
        &quot;diagramPadding&quot;: 6
      }
    }
  }
}
```
</code></pre><p>​ 有关可以覆盖的默认设置列表，请参见<a href="https://mermaid-js.github.io/mermaid/#/Setup?id=mermaidapi-configuration-defaults">Mermaid文档</a>。</p><p>​ 也可以通过在图表定义开头使用<code>%%init%%</code>头来在每个图表上覆盖设置。有关更多信息，请参见<a href="https://mermaid-js.github.io/mermaid/#/theming?id=themes-at-the-local-or-current-level">Mermaid主题文档</a>。</p><h2 id=使用plantuml绘制uml图表>使用PlantUML绘制UML图表<a class=td-heading-self-link href=#%e4%bd%bf%e7%94%a8plantuml%e7%bb%98%e5%88%b6uml%e5%9b%be%e8%a1%a8 aria-label="Heading self-link"></a></h2><p>​ <a href=https://plantuml.com/en/>PlantUML</a>是Mermaid的替代方案，可以快速创建UML图表，包括时序图、用例图和状态图。与完全在浏览器中渲染的Mermaid图表不同，PlantUML使用PlantUML服务器创建图表。您可以使用提供的默认演示服务器（不建议用于生产环境），或者自己运行一个服务器。PlantUML提供了比Mermaid更广泛的图像类型，因此可能是某些用例的更好选择。</p><p>​ 图表使用简单直观的语言定义。<a href=https://plantuml.com/en/guide>（请参见PlantUML语言参考指南）</a>。</p><p>​ 以下示例显示了一个用例图：</p><pre tabindex=0><code>```plantuml
participant participant as Foo
actor       actor       as Foo1
boundary    boundary    as Foo2
control     control     as Foo3
entity      entity      as Foo4
database    database    as Foo5
collections collections as Foo6
queue       queue       as Foo7
Foo -&gt; Foo1 : To actor
Foo -&gt; Foo2 : To boundary
Foo -&gt; Foo3 : To control
Foo -&gt; Foo4 : To entity
Foo -&gt; Foo5 : To database
Foo -&gt; Foo6 : To collections
Foo -&gt; Foo7: To queue
```
</code></pre><p>自动渲染为：</p><p><img alt=img src=DiagramsAndFormulae_img/LO0.svg></p><p>​ 要启用/禁用PlantUML，请更新<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>。</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  plantuml:
    enable: true
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.plantuml]
enable = true
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;plantuml&quot;: {
      &quot;enable&quot;: true
    }
  }
}
```
</code></pre><p>​ 其他可选设置包括：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  plantuml:
    enable: true
    theme: default
    # Set url to plantuml server
    # default is http://www.plantuml.com/plantuml/svg/
    svg_image_url: 'https://www.plantuml.com/plantuml/svg/'
    # By default the plantuml implementation uses &lt;img /&gt; tags to display UML diagrams.
    # When svg is set to true, diagrams are displayed using &lt;svg /&gt; tags, maintaining functionality like links e.g.
    # default = false
    svg: true
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.plantuml]
enable = true
theme = &quot;default&quot;

# Set url to plantuml server
# default is http://www.plantuml.com/plantuml/svg/
svg_image_url = &quot;https://www.plantuml.com/plantuml/svg/&quot;

# By default the plantuml implementation uses &lt;img /&gt; tags to display UML diagrams.
# When svg is set to true, diagrams are displayed using &lt;svg /&gt; tags, maintaining functionality like links e.g.
# default = false
svg = true
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;plantuml&quot;: {
      &quot;enable&quot;: true,
      &quot;theme&quot;: &quot;default&quot;,
      &quot;svg_image_url&quot;: &quot;https://www.plantuml.com/plantuml/svg/&quot;,
      &quot;svg&quot;: true
    }
  }
}
```
</code></pre><h2 id=使用markmap实现mindmap支持>使用MarkMap实现MindMap支持<a class=td-heading-self-link href=#%e4%bd%bf%e7%94%a8markmap%e5%ae%9e%e7%8e%b0mindmap%e6%94%af%e6%8c%81 aria-label="Heading self-link"></a></h2><p>​ <a href=https://markmap.js.org/>MarkMap</a>是一个JavaScript库，用于将简单的文本定义渲染为MindMap。</p><p>​ 例如，以下示例定义了一个简单的MindMap：</p><pre tabindex=0><code>```markmap
# markmap

## Links

- &lt;https://markmap.js.org/&gt;
- [GitHub](https://github.com/gera2ld/markmap)

## Related

- [coc-markmap](https://github.com/gera2ld/coc-markmap)
- [gatsby-remark-markmap](https://github.com/gera2ld/gatsby-remark-markmap)

## Features

- links
- **inline** ~~text~~ *styles*
- multiline
  text
- `inline code`
-
    ```js
    console.log(&#39;code block&#39;);
    ```
- Katex - $x = {-b \pm \sqrt{b^2-4ac} \over 2a}$
```
</code></pre><p>自动渲染为：</p><p><img alt=image-20230501102019578 src=DiagramsAndFormulae_img/image-20230501102019578.png></p><p><svg class="markmap mm-vns1zk-1"><g transform="translate(8.88616040726788,117.63644366197185) scale(1.0035211267605633)"><path class="markmap-link" data-depth="1" data-path="1.2" d="M166 10c40 0 40-87.25 80-87.25" stroke="rgb(255, 127, 14)" stroke-width="2"/><path class="markmap-link" data-depth="1" data-path="1.5" d="M166 10c40 0 40-32.25 80-32.25" stroke="rgb(148, 103, 189)" stroke-width="2"/><path class="markmap-link" data-depth="1" data-path="1.8" d="M166 10c40 0 40 87.25 80 87.25" stroke="rgb(127, 127, 127)" stroke-width="2"/><path class="markmap-link" data-depth="2" data-path="1.2.3" d="M299-77.25c40 0 40-12.5 80-12.5" stroke="rgb(44, 160, 44)" stroke-width="1.5"/><path class="markmap-link" data-depth="2" data-path="1.2.4" d="M299-77.25c40 0 40 12.5 80 12.5" stroke="rgb(214, 39, 40)" stroke-width="1.5"/><path class="markmap-link" data-depth="2" data-path="1.5.6" d="M317-22.25c40 0 40-12.5 80-12.5" stroke="rgb(140, 86, 75)" stroke-width="1.5"/><path class="markmap-link" data-depth="2" data-path="1.5.7" d="M317-22.25c40 0 40 12.5 80 12.5" stroke="rgb(227, 119, 194)" stroke-width="1.5"/><path class="markmap-link" data-depth="2" data-path="1.8.9" d="M324 97.25c40 0 40-77 80-77" stroke="rgb(188, 189, 34)" stroke-width="1.5"/><path class="markmap-link" data-depth="2" data-path="1.8.10" d="M324 97.25c40 0 40-52 80-52" stroke="rgb(23, 190, 207)" stroke-width="1.5"/><path class="markmap-link" data-depth="2" data-path="1.8.11" d="M324 97.25c40 0 40-7 80-7" stroke="rgb(31, 119, 180)" stroke-width="1.5"/><path class="markmap-link" data-depth="2" data-path="1.8.12" d="M324 97.25c40 0 40 20 80 20" stroke="rgb(255, 127, 14)" stroke-width="1.5"/><path class="markmap-link" data-depth="2" data-path="1.8.13" d="M324 97.25c40 0 40 52 80 52" stroke="rgb(44, 160, 44)" stroke-width="1.5"/><path class="markmap-link" data-depth="2" data-path="1.8.14" d="M324 97.25c40 0 40 77 80 77" stroke="rgb(214, 39, 40)" stroke-width="1.5"/><g data-depth="2" data-path="1.8.14" transform="translate(404, 154.25)" class="markmap-node"><line x1="-1" x2="340" y1="20" y2="20" stroke="rgb(214, 39, 40)" stroke-width="1.5"/><foreignObject class="markmap-foreign" x="8" y="0" width="322" height="20" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;">Katex - x = {-b \pm \sqrt{b^2-4ac} \over 2a}</div></foreignObject></g><g data-depth="2" data-path="1.8.13" transform="translate(404, 122.25)" class="markmap-node"><line x1="-1" x2="202" y1="27" y2="27" stroke="rgb(44, 160, 44)" stroke-width="1.5"/><foreignObject class="markmap-foreign" x="8" y="0" width="184" height="27" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;"><pre class="language-js" style="box-sizing: border-box; font-family: var(--bs-font-monospace); font-size: 0.875em; display: block; margin: 0px; overflow: auto; overflow-wrap: normal; background-color: rgb(248, 249, 250); padding: 0.2em 0.4em;"><code class="language-js" style="box-sizing: border-box; font-family: var(--bs-font-monospace); font-size: 14px; color: rgb(85, 85, 85); overflow-wrap: break-word; word-break: normal; background-color: inherit !important; border-radius: 2px; padding: 0px; margin: 0px; white-space: pre; border: 0px;">console.log(&lsquo;code block&rsquo;);
</code></pre></div></foreignObject></g><g data-depth="2" data-path="1.8.12" transform="translate(404, 95.25)" class="markmap-node"><line x1="-1" x2="115" y1="22" y2="22" stroke="rgb(255, 127, 14)" stroke-width="1.5"/><foreignObject class="markmap-foreign" x="8" y="0" width="97" height="22" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;"><code style="box-sizing: border-box; font-family: var(--bs-font-monospace); font-size: calc(1em - 2px); color: rgb(85, 85, 85); overflow-wrap: break-word; background-color: rgb(240, 240, 240); border-radius: 2px; padding: 0.2em 0.4em;">inline code</code></div></foreignObject></g><g data-depth="2" data-path="1.8.11" transform="translate(404, 50.25)" class="markmap-node"><line x1="-1" x2="80" y1="40" y2="40" stroke="rgb(31, 119, 180)" stroke-width="1.5"/><foreignObject class="markmap-foreign" x="8" y="0" width="62" height="40" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;">multiline<br style="box-sizing: border-box;">text</div></foreignObject></g><g data-depth="2" data-path="1.8.10" transform="translate(404, 25.25)" class="markmap-node"><line x1="-1" x2="135" y1="20" y2="20" stroke="rgb(23, 190, 207)" stroke-width="1.5"/><foreignObject class="markmap-foreign" x="8" y="0" width="117" height="20" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;"><strong style="box-sizing: border-box; font-weight: bolder;">inline</strong><span> </span><del style="box-sizing: border-box; text-decoration: line-through;">text</del><span> </span><em style="box-sizing: border-box; font-style: italic;">styles</em></div></foreignObject></g><g data-depth="2" data-path="1.8.9" transform="translate(404, 0.25)" class="markmap-node"><line x1="-1" x2="50" y1="20" y2="20" stroke="rgb(188, 189, 34)" stroke-width="1.5"/><foreignObject class="markmap-foreign" x="8" y="0" width="32" height="20" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;">links</div></foreignObject></g><g data-depth="2" data-path="1.5.7" transform="translate(397, -29.75)" class="markmap-node"><line x1="-1" x2="198" y1="20" y2="20" stroke="rgb(227, 119, 194)" stroke-width="1.5"/><foreignObject class="markmap-foreign" x="8" y="0" width="180" height="20" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;"><a href="https://github.com/gera2ld/gatsby-remark-markmap" style="box-sizing: border-box; color: rgb(0, 151, 230); text-decoration: none;">gatsby-remark-markmap</a></div></foreignObject></g><g data-depth="2" data-path="1.5.6" transform="translate(397, -54.75)" class="markmap-node"><line x1="-1" x2="120" y1="20" y2="20" stroke="rgb(140, 86, 75)" stroke-width="1.5"/><foreignObject class="markmap-foreign" x="8" y="0" width="102" height="20" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;"><a href="https://github.com/gera2ld/coc-markmap" style="box-sizing: border-box; color: rgb(0, 151, 230); text-decoration: none;">coc-markmap</a></div></foreignObject></g><g data-depth="2" data-path="1.2.4" transform="translate(379, -84.75)" class="markmap-node"><line x1="-1" x2="70" y1="20" y2="20" stroke="rgb(214, 39, 40)" stroke-width="1.5"/><foreignObject class="markmap-foreign" x="8" y="0" width="52" height="20" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;"><a href="https://github.com/gera2ld/markmap" style="box-sizing: border-box; color: rgb(0, 151, 230); text-decoration: none;">GitHub</a></div></foreignObject></g><g data-depth="2" data-path="1.2.3" transform="translate(379, -109.75)" class="markmap-node"><line x1="-1" x2="189" y1="20" y2="20" stroke="rgb(44, 160, 44)" stroke-width="1.5"/><foreignObject class="markmap-foreign" x="8" y="0" width="171" height="20" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;"><a href="https://markmap.js.org/" style="box-sizing: border-box; color: rgb(0, 151, 230); text-decoration: none;"><a href="https://markmap.js.org/">https://markmap.js.org/</a></a></div></foreignObject></g><g data-depth="1" data-path="1.8" transform="translate(246, 77.25)" class="markmap-node"><line x1="-1" x2="80" y1="20" y2="20" stroke="rgb(127, 127, 127)" stroke-width="2"/><circle stroke-width="1.5" cx="78" cy="20" r="6" stroke="rgb(127, 127, 127)" fill="rgb(255, 255, 255)"/><foreignObject class="markmap-foreign" x="8" y="0" width="62" height="20" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;">Features</div></foreignObject></g><g data-depth="1" data-path="1.5" transform="translate(246, -42.25)" class="markmap-node"><line x1="-1" x2="73" y1="20" y2="20" stroke="rgb(148, 103, 189)" stroke-width="2"/><circle stroke-width="1.5" cx="71" cy="20" r="6" stroke="rgb(148, 103, 189)" fill="rgb(255, 255, 255)"/><foreignObject class="markmap-foreign" x="8" y="0" width="55" height="20" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;">Related</div></foreignObject></g><g data-depth="1" data-path="1.2" transform="translate(246, -97.25)" class="markmap-node"><line x1="-1" x2="55" y1="20" y2="20" stroke="rgb(255, 127, 14)" stroke-width="2"/><circle stroke-width="1.5" cx="53" cy="20" r="6" stroke="rgb(255, 127, 14)" fill="rgb(255, 255, 255)"/><foreignObject class="markmap-foreign" x="8" y="0" width="37" height="20" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;">Links</div></foreignObject></g><g data-depth="0" data-path="1" transform="translate(80,-10)" class="markmap-node"><line x1="-1" x2="88" y1="20" y2="20" stroke="rgb(31, 119, 180)" stroke-width="4"/><circle stroke-width="1.5" cx="86" cy="20" r="6" stroke="rgb(31, 119, 180)" fill="rgb(255, 255, 255)"/><foreignObject class="markmap-foreign" x="8" y="0" width="70" height="20" style="opacity:1"><div xmlns="http://www.w3.org/1999/xhtml" style="box-sizing: border-box;">markmap</div></foreignObject></g></g></svg>
​ 要启用/禁用MarkMap，请更新<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  markmap:
    enable: true
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.markmap]
enable = true
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;markmap&quot;: {
      &quot;enable&quot;: true
    }
  }
}
```
</code></pre><h2 id=使用diagramsnet绘制图表>使用Diagrams.net绘制图表<a class=td-heading-self-link href=#%e4%bd%bf%e7%94%a8diagramsnet%e7%bb%98%e5%88%b6%e5%9b%be%e8%a1%a8 aria-label="Heading self-link"></a></h2><p>​ <a href=https://diagrams.net/>Diagrams.net</a>（又名draw.io）提供了一个免费且开源的图表编辑器，可以使用Web或桌面编辑器生成比Mermaid或PlantUML更广泛的图表。</p><p>​ 使用该工具导出的SVG和PNG文件默认包含原始图表的源代码，这使得diagrams.net网站可以再次导入这些图像以进行将来的编辑。Docsy可以检测到这一点，并在任何可以使用在线站点进行编辑的图像上自动添加"edit" 按钮。</p><p>​ 将鼠标悬停在下面的图像上，单击编辑即可立即开始使用。单击"Save" 按钮将导致编辑后的图表以相同的文件名和文件类型导出，并下载到您的浏览器中。</p><blockquote><h4 id=注意>注意<a class=td-heading-self-link href=#%e6%b3%a8%e6%84%8f aria-label="Heading self-link"></a></h4><p>如果您要创建一个新的图表，请务必选择File -> Export以svg 或png 格式导出（svg 通常是最好的选择），并确保选择了"包括我的图表副本"，以便以后可以再次编辑它。</p></blockquote><p>​ 由于通过浏览器传输图表数据，因此diagrams.net服务器根本不需要直接访问您的Docsy服务器上的内容。</p><p><img alt=image-20230502162252057 src=DiagramsAndFormulae_img/image-20230502162252057.png></p><p>​ 将鼠标悬停在上面的图像上，然后单击编辑按钮！</p><p>​ 要禁用图表的检测，请更新<code>hugo.toml</code>/<code>hugo.yaml</code>/<code>hugo.json</code>：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  drawio:
    enable: false
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.drawio]
enable = false
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;drawio&quot;: {
      &quot;enable&quot;: false
    }
  }
}
```
</code></pre><p>​ 您还可以<a href=https://github.com/jgraph/docker-drawio/blob/master/README.md>部署和使用自己的服务器</a>来编辑图表，在这种情况下，请更新配置以指向该服务器：</p><p>Configuration file:</p><p>=== &ldquo;hugo.yaml&rdquo;</p><pre><code>```yaml
params:
  drawio:
    drawio_server: 'https://app.mydrawioserver.example.com'
```
</code></pre><p>=== &ldquo;hugo.toml&rdquo;</p><pre><code>```toml
[params.drawio]
drawio_server = &quot;https://app.mydrawioserver.example.com&quot;
```
</code></pre><p>=== &ldquo;hugo.json&rdquo;</p><pre><code>```json
{
  &quot;params&quot;: {
    &quot;drawio&quot;: {
      &quot;drawio_server&quot;: &quot;https://app.mydrawioserver.example.com&quot;
    }
  }
}
```
</code></pre></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title="User mailing list" aria-label="User mailing list"><a target=_blank rel=noopener href=https://mail.qq.com/ aria-label="User mailing list"><i class="fa fa-envelope"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Twitter aria-label=Twitter><a target=_blank rel=noopener href=https://twitter.com/ aria-label=Twitter><i class="fab fa-twitter"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="Stack Overflow" aria-label="Stack Overflow"><a target=_blank rel=noopener href=https://stackoverflow.co/ aria-label="Stack Overflow"><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/onxs aria-label=GitHub><i class="fab fa-github"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Slack aria-label=Slack><a target=_blank rel=noopener href=https://slack.com/intl/zh-cn/ aria-label=Slack><i class="fab fa-slack"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="Developer mailing list" aria-label="Developer mailing list"><a target=_blank rel=noopener href=https://mail.qq.com/ aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2024
<span class=td-footer__authors>Docsy | <a href=https://creativecommons.org/licenses/by/4.0>CC BY 4.0</a> |</span></span><span class=td-footer__all_rights_reserved>保留所有权利</span><span class=ms-2><a href=https://policies.google.com/privacy target=_blank rel=noopener>隐私政策</a></span></div></div></div></footer></div><script src=/js/main.min.f72d00502781aaf278a14088eb2356b1ba2a05ad698a0c43fe86314d74ceab56.js integrity="sha256-9y0AUCeBqvJ4oUCI6yNWsboqBa1pigxD/oYxTXTOq1Y=" crossorigin=anonymous></script><script src=/js/prism.js></script><script src=/js/tabpane-persist.js></script></body></html>